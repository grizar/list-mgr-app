var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function r(t){return t()}function o(){return Object.create(null)}function i(t){t.forEach(r)}function a(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function u(t){let e;return c(t,(t=>e=t))(),e}function l(t,e,n){t.$$.on_destroy.push(c(e,n))}function f(t,e,n,r){if(t){const o=d(t,e,n,r);return t[0](o)}}function d(t,e,r,o){return t[1]&&o?n(r.ctx.slice(),t[1](o(e))):r.ctx}function h(t,e,n,r,o,i,a){const s=function(t,e,n,r){if(t[2]&&r){const o=t[2](r(n));if(void 0===e.dirty)return o;if("object"==typeof o){const t=[],n=Math.max(e.dirty.length,o.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|o[r];return t}return e.dirty|o}return e.dirty}(e,r,o,i);if(s){const o=d(e,n,r,a);t.p(o,s)}}function p(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}function v(t){return null==t?"":t}function g(t,e,n=e){return t.set(n),e}function m(e){return e&&a(e.destroy)?e.destroy:t}const y="undefined"!=typeof window;let _=y?()=>window.performance.now():()=>Date.now(),b=y?t=>requestAnimationFrame(t):t;const w=new Set;function x(t){w.forEach((e=>{e.c(t)||(w.delete(e),e.f())})),0!==w.size&&b(x)}function $(t){let e;return 0===w.size&&b(x),{promise:new Promise((n=>{w.add(e={c:t,f:n})})),abort(){w.delete(e)}}}function k(t,e){t.appendChild(e)}function C(t,e,n){t.insertBefore(e,n||null)}function O(t){t.parentNode.removeChild(t)}function E(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function S(t){return document.createElement(t)}function A(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function R(t){return document.createTextNode(t)}function j(){return R(" ")}function P(){return R("")}function D(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function M(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function T(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const r in e)null==e[r]?t.removeAttribute(r):"style"===r?t.style.cssText=e[r]:"__value"===r?t.value=t[r]=e[r]:n[r]&&n[r].set?t[r]=e[r]:M(t,r,e[r])}function I(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function L(t,e){t.value=null==e?"":e}function q(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}function z(t,e,n){t.classList[n?"add":"remove"](e)}function N(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}class U{constructor(t=null){this.a=t,this.e=this.n=null}m(t,e,n=null){this.e||(this.e=S(e.nodeName),this.t=e,this.h(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)C(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(O)}}const B=new Set;let F,W=0;function V(t,e,n,r,o,i,a,s=0){const c=16.666/r;let u="{\n";for(let t=0;t<=1;t+=c){const r=e+(n-e)*i(t);u+=100*t+`%{${a(r,1-r)}}\n`}const l=u+`100% {${a(n,1-n)}}\n}`,f=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(l)}_${s}`,d=t.ownerDocument;B.add(d);const h=d.__svelte_stylesheet||(d.__svelte_stylesheet=d.head.appendChild(S("style")).sheet),p=d.__svelte_rules||(d.__svelte_rules={});p[f]||(p[f]=!0,h.insertRule(`@keyframes ${f} ${l}`,h.cssRules.length));const v=t.style.animation||"";return t.style.animation=`${v?`${v}, `:""}${f} ${r}ms linear ${o}ms 1 both`,W+=1,f}function G(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),o=n.length-r.length;o&&(t.style.animation=r.join(", "),W-=o,W||b((()=>{W||(B.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),B.clear())})))}function H(t){F=t}function K(){if(!F)throw new Error("Function called outside component initialization");return F}function J(t){K().$$.on_mount.push(t)}function X(t){K().$$.on_destroy.push(t)}function Q(){const t=K();return(e,n)=>{const r=t.$$.callbacks[e];if(r){const o=N(e,n);r.slice().forEach((e=>{e.call(t,o)}))}}}function Y(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t(e)))}const Z=[],tt=[],et=[],nt=[],rt=Promise.resolve();let ot=!1;function it(){ot||(ot=!0,rt.then(ft))}function at(){return it(),rt}function st(t){et.push(t)}function ct(t){nt.push(t)}let ut=!1;const lt=new Set;function ft(){if(!ut){ut=!0;do{for(let t=0;t<Z.length;t+=1){const e=Z[t];H(e),dt(e.$$)}for(H(null),Z.length=0;tt.length;)tt.pop()();for(let t=0;t<et.length;t+=1){const e=et[t];lt.has(e)||(lt.add(e),e())}et.length=0}while(Z.length);for(;nt.length;)nt.pop()();ot=!1,ut=!1,lt.clear()}}function dt(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(st)}}let ht;function pt(){return ht||(ht=Promise.resolve(),ht.then((()=>{ht=null}))),ht}function vt(t,e,n){t.dispatchEvent(N(`${e?"intro":"outro"}${n}`))}const gt=new Set;let mt;function yt(){mt={r:0,c:[],p:mt}}function _t(){mt.r||i(mt.c),mt=mt.p}function bt(t,e){t&&t.i&&(gt.delete(t),t.i(e))}function wt(t,e,n,r){if(t&&t.o){if(gt.has(t))return;gt.add(t),mt.c.push((()=>{gt.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}const xt={duration:0};function $t(n,r,o){let i,s,c=r(n,o),u=!1,l=0;function f(){i&&G(n,i)}function d(){const{delay:r=0,duration:o=300,easing:a=e,tick:d=t,css:h}=c||xt;h&&(i=V(n,0,1,o,r,a,h,l++)),d(0,1);const p=_()+r,v=p+o;s&&s.abort(),u=!0,st((()=>vt(n,!0,"start"))),s=$((t=>{if(u){if(t>=v)return d(1,0),vt(n,!0,"end"),f(),u=!1;if(t>=p){const e=a((t-p)/o);d(e,1-e)}}return u}))}let h=!1;return{start(){h||(G(n),a(c)?(c=c(),pt().then(d)):d())},invalidate(){h=!1},end(){u&&(f(),u=!1)}}}function kt(n,r,o){let s,c=r(n,o),u=!0;const l=mt;function f(){const{delay:r=0,duration:o=300,easing:a=e,tick:f=t,css:d}=c||xt;d&&(s=V(n,1,0,o,r,a,d));const h=_()+r,p=h+o;st((()=>vt(n,!1,"start"))),$((t=>{if(u){if(t>=p)return f(0,1),vt(n,!1,"end"),--l.r||i(l.c),!1;if(t>=h){const e=a((t-h)/o);f(1-e,e)}}return u}))}return l.r+=1,a(c)?pt().then((()=>{c=c(),f()})):f(),{end(t){t&&c.tick&&c.tick(1,0),u&&(s&&G(n,s),u=!1)}}}function Ct(n,r,o,s){let c=r(n,o),u=s?0:1,l=null,f=null,d=null;function h(){d&&G(n,d)}function p(t,e){const n=t.b-u;return e*=Math.abs(n),{a:u,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function v(r){const{delay:o=0,duration:a=300,easing:s=e,tick:v=t,css:g}=c||xt,m={start:_()+o,b:r};r||(m.group=mt,mt.r+=1),l||f?f=m:(g&&(h(),d=V(n,u,r,a,o,s,g)),r&&v(0,1),l=p(m,a),st((()=>vt(n,r,"start"))),$((t=>{if(f&&t>f.start&&(l=p(f,a),f=null,vt(n,l.b,"start"),g&&(h(),d=V(n,u,l.b,l.duration,0,s,c.css))),l)if(t>=l.end)v(u=l.b,1-u),vt(n,l.b,"end"),f||(l.b?h():--l.group.r||i(l.group.c)),l=null;else if(t>=l.start){const e=t-l.start;u=l.a+l.d*s(e/l.duration),v(u,1-u)}return!(!l&&!f)})))}return{run(t){a(c)?pt().then((()=>{c=c(),v(t)})):v(t)},end(){h(),l=f=null}}}function Ot(t,e){wt(t,1,1,(()=>{e.delete(t.key)}))}function Et(t,e,n,r,o,i,a,s,c,u,l,f){let d=t.length,h=i.length,p=d;const v={};for(;p--;)v[t[p].key]=p;const g=[],m=new Map,y=new Map;for(p=h;p--;){const t=f(o,i,p),s=n(t);let c=a.get(s);c?r&&c.p(t,e):(c=u(s,t),c.c()),m.set(s,g[p]=c),s in v&&y.set(s,Math.abs(p-v[s]))}const _=new Set,b=new Set;function w(t){bt(t,1),t.m(s,l),a.set(t.key,t),l=t.first,h--}for(;d&&h;){const e=g[h-1],n=t[d-1],r=e.key,o=n.key;e===n?(l=e.first,d--,h--):m.has(o)?!a.has(r)||_.has(r)?w(e):b.has(o)?d--:y.get(r)>y.get(o)?(b.add(r),w(e)):(_.add(o),d--):(c(n,a),d--)}for(;d--;){const e=t[d];m.has(e.key)||c(e,a)}for(;h;)w(g[h-1]);return g}function St(t,e){const n={},r={},o={$$scope:1};let i=t.length;for(;i--;){const a=t[i],s=e[i];if(s){for(const t in a)t in s||(r[t]=1);for(const t in s)o[t]||(n[t]=s[t],o[t]=1);t[i]=s}else for(const t in a)o[t]=1}for(const t in r)t in n||(n[t]=void 0);return n}function At(t){return"object"==typeof t&&null!==t?t:{}}function Rt(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function jt(t){t&&t.c()}function Pt(t,e,n,o){const{fragment:s,on_mount:c,on_destroy:u,after_update:l}=t.$$;s&&s.m(e,n),o||st((()=>{const e=c.map(r).filter(a);u?u.push(...e):i(e),t.$$.on_mount=[]})),l.forEach(st)}function Dt(t,e){const n=t.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Mt(e,n,r,a,s,c,u=[-1]){const l=F;H(e);const f=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:s,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:n.context||[]),callbacks:o(),dirty:u,skip_bound:!1};let d=!1;if(f.ctx=r?r(e,n.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return f.ctx&&s(f.ctx[t],f.ctx[t]=o)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](o),d&&function(t,e){-1===t.$$.dirty[0]&&(Z.push(t),it(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n})):[],f.update(),d=!0,i(f.before_update),f.fragment=!!a&&a(f.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);f.fragment&&f.fragment.l(t),t.forEach(O)}else f.fragment&&f.fragment.c();n.intro&&bt(e.$$.fragment),Pt(e,n.target,n.anchor,n.customElement),ft()}H(l)}class Tt{$destroy(){Dt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const It=[];function Lt(t,e){return{subscribe:qt(t,e).subscribe}}function qt(e,n=t){let r;const o=[];function i(t){if(s(e,t)&&(e=t,r)){const t=!It.length;for(let t=0;t<o.length;t+=1){const n=o[t];n[1](),It.push(n,e)}if(t){for(let t=0;t<It.length;t+=2)It[t][0](It[t+1]);It.length=0}}}return{set:i,update:function(t){i(t(e))},subscribe:function(a,s=t){const c=[a,s];return o.push(c),1===o.length&&(r=n(i)||t),a(e),()=>{const t=o.indexOf(c);-1!==t&&o.splice(t,1),0===o.length&&(r(),r=null)}}}}function zt(e,n,r){const o=!Array.isArray(e),s=o?[e]:e,u=n.length<2;return Lt(r,(e=>{let r=!1;const l=[];let f=0,d=t;const h=()=>{if(f)return;d();const r=n(o?l[0]:l,e);u?e(r):d=a(r)?r:t},p=s.map(((t,e)=>c(t,(t=>{l[e]=t,f&=~(1<<e),r&&h()}),(()=>{f|=1<<e}))));return r=!0,h(),function(){i(p),d()}}))}var Nt=Object.freeze({__proto__:null,default:{}}),Ut="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Bt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ft(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach((function(n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})})),e}function Wt(t){var e={exports:{}};return t(e,e.exports),e.exports}var Vt,Gt,Ht,Kt={test:function(){return"function"==typeof Ut.queueMicrotask},install:function(t){return function(){Ut.queueMicrotask(t)}}},Jt=Ut.MutationObserver||Ut.WebKitMutationObserver,Xt={test:function(){return Jt},install:function(t){var e=0,n=new Jt(t),r=Ut.document.createTextNode("");return n.observe(r,{characterData:!0}),function(){r.data=e=++e%2}}},Qt={test:function(){return!Ut.setImmediate&&void 0!==Ut.MessageChannel},install:function(t){var e=new Ut.MessageChannel;return e.port1.onmessage=t,function(){e.port2.postMessage(0)}}},Yt={test:function(){return"document"in Ut&&"onreadystatechange"in Ut.document.createElement("script")},install:function(t){return function(){var e=Ut.document.createElement("script");return e.onreadystatechange=function(){t(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},Ut.document.documentElement.appendChild(e),t}}},Zt={test:function(){return!0},install:function(t){return function(){setTimeout(t,0)}}},te=[Ft(Nt),Kt,Xt,Qt,Yt,Zt],ee=-1,ne=[],re=!1;function oe(){Vt&&Gt&&(Vt=!1,Gt.length?ne=Gt.concat(ne):ee=-1,ne.length&&ie())}function ie(){if(!Vt){re=!1,Vt=!0;for(var t=ne.length,e=setTimeout(oe);t;){for(Gt=ne,ne=[];Gt&&++ee<t;)Gt[ee].run();ee=-1,t=ne.length}Gt=null,ee=-1,Vt=!1,clearTimeout(e)}}for(var ae=-1,se=te.length;++ae<se;)if(te[ae]&&te[ae].test&&te[ae].test()){Ht=te[ae].install(ie);break}function ce(t,e){this.fun=t,this.array=e}ce.prototype.run=function(){var t=this.fun,e=this.array;switch(e.length){case 0:return t();case 1:return t(e[0]);case 2:return t(e[0],e[1]);case 3:return t(e[0],e[1],e[2]);default:return t.apply(null,e)}};var ue=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];ne.push(new ce(t,e)),re||Vt||(re=!0,Ht())};var le=function(){if(!fe)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return fe(de)};const fe="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),de=new Uint8Array(16);var he=Object.defineProperty({default:le},"__esModule",{value:!0}),pe=Wt((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;const n=[];for(let t=0;t<256;++t)n.push((t+256).toString(16).substr(1));var r=function(t,e){const r=e||0,o=n;return(o[t[r+0]]+o[t[r+1]]+o[t[r+2]]+o[t[r+3]]+"-"+o[t[r+4]]+o[t[r+5]]+"-"+o[t[r+6]]+o[t[r+7]]+"-"+o[t[r+8]]+o[t[r+9]]+"-"+o[t[r+10]]+o[t[r+11]]+o[t[r+12]]+o[t[r+13]]+o[t[r+14]]+o[t[r+15]]).toLowerCase()};e.default=r})),ve=Wt((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(he),r=o(pe);function o(t){return t&&t.__esModule?t:{default:t}}let i,a,s=0,c=0;var u=function(t,e,o){let u=e&&o||0;const l=e||[];let f=(t=t||{}).node||i,d=void 0!==t.clockseq?t.clockseq:a;if(null==f||null==d){const e=t.random||(t.rng||n.default)();null==f&&(f=i=[1|e[0],e[1],e[2],e[3],e[4],e[5]]),null==d&&(d=a=16383&(e[6]<<8|e[7]))}let h=void 0!==t.msecs?t.msecs:Date.now(),p=void 0!==t.nsecs?t.nsecs:c+1;const v=h-s+(p-c)/1e4;if(v<0&&void 0===t.clockseq&&(d=d+1&16383),(v<0||h>s)&&void 0===t.nsecs&&(p=0),p>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,c=p,a=d,h+=122192928e5;const g=(1e4*(268435455&h)+p)%4294967296;l[u++]=g>>>24&255,l[u++]=g>>>16&255,l[u++]=g>>>8&255,l[u++]=255&g;const m=h/4294967296*1e4&268435455;l[u++]=m>>>8&255,l[u++]=255&m,l[u++]=m>>>24&15|16,l[u++]=m>>>16&255,l[u++]=d>>>8|128,l[u++]=255&d;for(let t=0;t<6;++t)l[u+t]=f[t];return e||(0,r.default)(l)};e.default=u})),ge=Wt((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){function a(t,o,i,a){const s=i&&a||0;if("string"==typeof t&&(t=function(t){t=unescape(encodeURIComponent(t));const e=[];for(let n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}(t)),"string"==typeof o&&(o=function(t){const e=[];return t.replace(/[a-fA-F0-9]{2}/g,(function(t){e.push(parseInt(t,16))})),e}(o)),!Array.isArray(t))throw TypeError("value must be an array of bytes");if(!Array.isArray(o)||16!==o.length)throw TypeError("namespace must be uuid string or an Array of 16 byte values");const c=n(o.concat(t));if(c[6]=15&c[6]|e,c[8]=63&c[8]|128,i)for(let t=0;t<16;++t)i[s+t]=c[t];return i||(0,r.default)(c)}try{a.name=t}catch(t){}return a.DNS=o,a.URL=i,a},e.URL=e.DNS=void 0;var n,r=(n=pe)&&n.__esModule?n:{default:n};const o="6ba7b810-9dad-11d1-80b4-00c04fd430c8";e.DNS=o;const i="6ba7b811-9dad-11d1-80b4-00c04fd430c8";e.URL=i})),me=Wt((function(t,e){function n(t){return 14+(t+64>>>9<<4)+1}function r(t,e){const n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function o(t,e,n,o,i,a){return r((s=r(r(e,t),r(o,a)))<<(c=i)|s>>>32-c,n);var s,c}function i(t,e,n,r,i,a,s){return o(e&n|~e&r,t,e,i,a,s)}function a(t,e,n,r,i,a,s){return o(e&r|n&~r,t,e,i,a,s)}function s(t,e,n,r,i,a,s){return o(e^n^r,t,e,i,a,s)}function c(t,e,n,r,i,a,s){return o(n^(e|~r),t,e,i,a,s)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=function(t){if("string"==typeof t){const e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(let n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return function(t){const e=[],n=32*t.length,r="0123456789abcdef";for(let o=0;o<n;o+=8){const n=t[o>>5]>>>o%32&255,i=parseInt(r.charAt(n>>>4&15)+r.charAt(15&n),16);e.push(i)}return e}(function(t,e){t[e>>5]|=128<<e%32,t[n(e)-1]=e;let o=1732584193,u=-271733879,l=-1732584194,f=271733878;for(let e=0;e<t.length;e+=16){const n=o,d=u,h=l,p=f;o=i(o,u,l,f,t[e],7,-680876936),f=i(f,o,u,l,t[e+1],12,-389564586),l=i(l,f,o,u,t[e+2],17,606105819),u=i(u,l,f,o,t[e+3],22,-1044525330),o=i(o,u,l,f,t[e+4],7,-176418897),f=i(f,o,u,l,t[e+5],12,1200080426),l=i(l,f,o,u,t[e+6],17,-1473231341),u=i(u,l,f,o,t[e+7],22,-45705983),o=i(o,u,l,f,t[e+8],7,1770035416),f=i(f,o,u,l,t[e+9],12,-1958414417),l=i(l,f,o,u,t[e+10],17,-42063),u=i(u,l,f,o,t[e+11],22,-1990404162),o=i(o,u,l,f,t[e+12],7,1804603682),f=i(f,o,u,l,t[e+13],12,-40341101),l=i(l,f,o,u,t[e+14],17,-1502002290),u=i(u,l,f,o,t[e+15],22,1236535329),o=a(o,u,l,f,t[e+1],5,-165796510),f=a(f,o,u,l,t[e+6],9,-1069501632),l=a(l,f,o,u,t[e+11],14,643717713),u=a(u,l,f,o,t[e],20,-373897302),o=a(o,u,l,f,t[e+5],5,-701558691),f=a(f,o,u,l,t[e+10],9,38016083),l=a(l,f,o,u,t[e+15],14,-660478335),u=a(u,l,f,o,t[e+4],20,-405537848),o=a(o,u,l,f,t[e+9],5,568446438),f=a(f,o,u,l,t[e+14],9,-1019803690),l=a(l,f,o,u,t[e+3],14,-187363961),u=a(u,l,f,o,t[e+8],20,1163531501),o=a(o,u,l,f,t[e+13],5,-1444681467),f=a(f,o,u,l,t[e+2],9,-51403784),l=a(l,f,o,u,t[e+7],14,1735328473),u=a(u,l,f,o,t[e+12],20,-1926607734),o=s(o,u,l,f,t[e+5],4,-378558),f=s(f,o,u,l,t[e+8],11,-2022574463),l=s(l,f,o,u,t[e+11],16,1839030562),u=s(u,l,f,o,t[e+14],23,-35309556),o=s(o,u,l,f,t[e+1],4,-1530992060),f=s(f,o,u,l,t[e+4],11,1272893353),l=s(l,f,o,u,t[e+7],16,-155497632),u=s(u,l,f,o,t[e+10],23,-1094730640),o=s(o,u,l,f,t[e+13],4,681279174),f=s(f,o,u,l,t[e],11,-358537222),l=s(l,f,o,u,t[e+3],16,-722521979),u=s(u,l,f,o,t[e+6],23,76029189),o=s(o,u,l,f,t[e+9],4,-640364487),f=s(f,o,u,l,t[e+12],11,-421815835),l=s(l,f,o,u,t[e+15],16,530742520),u=s(u,l,f,o,t[e+2],23,-995338651),o=c(o,u,l,f,t[e],6,-198630844),f=c(f,o,u,l,t[e+7],10,1126891415),l=c(l,f,o,u,t[e+14],15,-1416354905),u=c(u,l,f,o,t[e+5],21,-57434055),o=c(o,u,l,f,t[e+12],6,1700485571),f=c(f,o,u,l,t[e+3],10,-1894986606),l=c(l,f,o,u,t[e+10],15,-1051523),u=c(u,l,f,o,t[e+1],21,-2054922799),o=c(o,u,l,f,t[e+8],6,1873313359),f=c(f,o,u,l,t[e+15],10,-30611744),l=c(l,f,o,u,t[e+6],15,-1560198380),u=c(u,l,f,o,t[e+13],21,1309151649),o=c(o,u,l,f,t[e+4],6,-145523070),f=c(f,o,u,l,t[e+11],10,-1120210379),l=c(l,f,o,u,t[e+2],15,718787259),u=c(u,l,f,o,t[e+9],21,-343485551),o=r(o,n),u=r(u,d),l=r(l,h),f=r(f,p)}return[o,u,l,f]}(function(t){if(0===t.length)return[];const e=8*t.length,r=new Uint32Array(n(e));for(let n=0;n<e;n+=8)r[n>>5]|=(255&t[n/8])<<n%32;return r}(t),8*t.length))};e.default=u})),ye=Wt((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(ge),r=o(me);function o(t){return t&&t.__esModule?t:{default:t}}var i=(0,n.default)("v3",48,r.default);e.default=i})),_e=Wt((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(he),r=o(pe);function o(t){return t&&t.__esModule?t:{default:t}}var i=function(t,e,o){"string"==typeof t&&(e="binary"===t?new Uint8Array(16):null,t=null);const i=(t=t||{}).random||(t.rng||n.default)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){const t=o||0;for(let n=0;n<16;++n)e[t+n]=i[n];return e}return(0,r.default)(i)};e.default=i})),be=Wt((function(t,e){function n(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function r(t,e){return t<<e|t>>>32-e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=function(t){const e=[1518500249,1859775393,2400959708,3395469782],o=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof t){const e=unescape(encodeURIComponent(t));t=[];for(let n=0;n<e.length;++n)t.push(e.charCodeAt(n))}t.push(128);const i=t.length/4+2,a=Math.ceil(i/16),s=new Array(a);for(let e=0;e<a;++e){const n=new Uint32Array(16);for(let r=0;r<16;++r)n[r]=t[64*e+4*r]<<24|t[64*e+4*r+1]<<16|t[64*e+4*r+2]<<8|t[64*e+4*r+3];s[e]=n}s[a-1][14]=8*(t.length-1)/Math.pow(2,32),s[a-1][14]=Math.floor(s[a-1][14]),s[a-1][15]=8*(t.length-1)&4294967295;for(let t=0;t<a;++t){const i=new Uint32Array(80);for(let e=0;e<16;++e)i[e]=s[t][e];for(let t=16;t<80;++t)i[t]=r(i[t-3]^i[t-8]^i[t-14]^i[t-16],1);let a=o[0],c=o[1],u=o[2],l=o[3],f=o[4];for(let t=0;t<80;++t){const o=Math.floor(t/20),s=r(a,5)+n(o,c,u,l)+f+e[o]+i[t]>>>0;f=l,l=u,u=r(c,30)>>>0,c=a,a=s}o[0]=o[0]+a>>>0,o[1]=o[1]+c>>>0,o[2]=o[2]+u>>>0,o[3]=o[3]+l>>>0,o[4]=o[4]+f>>>0}return[o[0]>>24&255,o[0]>>16&255,o[0]>>8&255,255&o[0],o[1]>>24&255,o[1]>>16&255,o[1]>>8&255,255&o[1],o[2]>>24&255,o[2]>>16&255,o[2]>>8&255,255&o[2],o[3]>>24&255,o[3]>>16&255,o[3]>>8&255,255&o[3],o[4]>>24&255,o[4]>>16&255,o[4]>>8&255,255&o[4]]};e.default=o})),we=Wt((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(ge),r=o(be);function o(t){return t&&t.__esModule?t:{default:t}}var i=(0,n.default)("v5",80,r.default);e.default=i})),xe=Bt(Wt((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"v1",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"v3",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"v4",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"v5",{enumerable:!0,get:function(){return i.default}});var n=a(ve),r=a(ye),o=a(_e),i=a(we);function a(t){return t&&t.__esModule?t:{default:t}}})));xe.v1,xe.v3;const $e=xe.v4;xe.v5;var ke=Wt((function(t,e){t.exports=function(t){var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(t,e){var n=t[0],r=t[1],o=t[2],i=t[3];r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&o|~r&i)+e[0]-680876936|0)<<7|n>>>25)+r|0)&r|~n&o)+e[1]-389564586|0)<<12|i>>>20)+n|0)&n|~i&r)+e[2]+606105819|0)<<17|o>>>15)+i|0)&i|~o&n)+e[3]-1044525330|0)<<22|r>>>10)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&o|~r&i)+e[4]-176418897|0)<<7|n>>>25)+r|0)&r|~n&o)+e[5]+1200080426|0)<<12|i>>>20)+n|0)&n|~i&r)+e[6]-1473231341|0)<<17|o>>>15)+i|0)&i|~o&n)+e[7]-45705983|0)<<22|r>>>10)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&o|~r&i)+e[8]+1770035416|0)<<7|n>>>25)+r|0)&r|~n&o)+e[9]-1958414417|0)<<12|i>>>20)+n|0)&n|~i&r)+e[10]-42063|0)<<17|o>>>15)+i|0)&i|~o&n)+e[11]-1990404162|0)<<22|r>>>10)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&o|~r&i)+e[12]+1804603682|0)<<7|n>>>25)+r|0)&r|~n&o)+e[13]-40341101|0)<<12|i>>>20)+n|0)&n|~i&r)+e[14]-1502002290|0)<<17|o>>>15)+i|0)&i|~o&n)+e[15]+1236535329|0)<<22|r>>>10)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&i|o&~i)+e[1]-165796510|0)<<5|n>>>27)+r|0)&o|r&~o)+e[6]-1069501632|0)<<9|i>>>23)+n|0)&r|n&~r)+e[11]+643717713|0)<<14|o>>>18)+i|0)&n|i&~n)+e[0]-373897302|0)<<20|r>>>12)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&i|o&~i)+e[5]-701558691|0)<<5|n>>>27)+r|0)&o|r&~o)+e[10]+38016083|0)<<9|i>>>23)+n|0)&r|n&~r)+e[15]-660478335|0)<<14|o>>>18)+i|0)&n|i&~n)+e[4]-405537848|0)<<20|r>>>12)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&i|o&~i)+e[9]+568446438|0)<<5|n>>>27)+r|0)&o|r&~o)+e[14]-1019803690|0)<<9|i>>>23)+n|0)&r|n&~r)+e[3]-187363961|0)<<14|o>>>18)+i|0)&n|i&~n)+e[8]+1163531501|0)<<20|r>>>12)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&i|o&~i)+e[13]-1444681467|0)<<5|n>>>27)+r|0)&o|r&~o)+e[2]-51403784|0)<<9|i>>>23)+n|0)&r|n&~r)+e[7]+1735328473|0)<<14|o>>>18)+i|0)&n|i&~n)+e[12]-1926607734|0)<<20|r>>>12)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r^o^i)+e[5]-378558|0)<<4|n>>>28)+r|0)^r^o)+e[8]-2022574463|0)<<11|i>>>21)+n|0)^n^r)+e[11]+1839030562|0)<<16|o>>>16)+i|0)^i^n)+e[14]-35309556|0)<<23|r>>>9)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r^o^i)+e[1]-1530992060|0)<<4|n>>>28)+r|0)^r^o)+e[4]+1272893353|0)<<11|i>>>21)+n|0)^n^r)+e[7]-155497632|0)<<16|o>>>16)+i|0)^i^n)+e[10]-1094730640|0)<<23|r>>>9)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r^o^i)+e[13]+681279174|0)<<4|n>>>28)+r|0)^r^o)+e[0]-358537222|0)<<11|i>>>21)+n|0)^n^r)+e[3]-722521979|0)<<16|o>>>16)+i|0)^i^n)+e[6]+76029189|0)<<23|r>>>9)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r^o^i)+e[9]-640364487|0)<<4|n>>>28)+r|0)^r^o)+e[12]-421815835|0)<<11|i>>>21)+n|0)^n^r)+e[15]+530742520|0)<<16|o>>>16)+i|0)^i^n)+e[2]-995338651|0)<<23|r>>>9)+o|0,r=((r+=((i=((i+=(r^((n=((n+=(o^(r|~i))+e[0]-198630844|0)<<6|n>>>26)+r|0)|~o))+e[7]+1126891415|0)<<10|i>>>22)+n|0)^((o=((o+=(n^(i|~r))+e[14]-1416354905|0)<<15|o>>>17)+i|0)|~n))+e[5]-57434055|0)<<21|r>>>11)+o|0,r=((r+=((i=((i+=(r^((n=((n+=(o^(r|~i))+e[12]+1700485571|0)<<6|n>>>26)+r|0)|~o))+e[3]-1894986606|0)<<10|i>>>22)+n|0)^((o=((o+=(n^(i|~r))+e[10]-1051523|0)<<15|o>>>17)+i|0)|~n))+e[1]-2054922799|0)<<21|r>>>11)+o|0,r=((r+=((i=((i+=(r^((n=((n+=(o^(r|~i))+e[8]+1873313359|0)<<6|n>>>26)+r|0)|~o))+e[15]-30611744|0)<<10|i>>>22)+n|0)^((o=((o+=(n^(i|~r))+e[6]-1560198380|0)<<15|o>>>17)+i|0)|~n))+e[13]+1309151649|0)<<21|r>>>11)+o|0,r=((r+=((i=((i+=(r^((n=((n+=(o^(r|~i))+e[4]-145523070|0)<<6|n>>>26)+r|0)|~o))+e[11]-1120210379|0)<<10|i>>>22)+n|0)^((o=((o+=(n^(i|~r))+e[2]+718787259|0)<<15|o>>>17)+i|0)|~n))+e[9]-343485551|0)<<21|r>>>11)+o|0,t[0]=n+t[0]|0,t[1]=r+t[1]|0,t[2]=o+t[2]|0,t[3]=i+t[3]|0}function r(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}function o(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t[e]+(t[e+1]<<8)+(t[e+2]<<16)+(t[e+3]<<24);return n}function i(t){var e,o,i,a,s,c,u=t.length,l=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=u;e+=64)n(l,r(t.substring(e-64,e)));for(o=(t=t.substring(e-64)).length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<o;e+=1)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(n(l,i),e=0;e<16;e+=1)i[e]=0;return a=(a=8*u).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(a[2],16),c=parseInt(a[1],16)||0,i[14]=s,i[15]=c,n(l,i),l}function a(t){var e,r,i,a,s,c,u=t.length,l=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=u;e+=64)n(l,o(t.subarray(e-64,e)));for(r=(t=e-64<u?t.subarray(e-64):new Uint8Array(0)).length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<r;e+=1)i[e>>2]|=t[e]<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(n(l,i),e=0;e<16;e+=1)i[e]=0;return a=(a=8*u).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(a[2],16),c=parseInt(a[1],16)||0,i[14]=s,i[15]=c,n(l,i),l}function s(t){var n,r="";for(n=0;n<4;n+=1)r+=e[t>>8*n+4&15]+e[t>>8*n&15];return r}function c(t){var e;for(e=0;e<t.length;e+=1)t[e]=s(t[e]);return t.join("")}function u(t){return/[\u0080-\uFFFF]/.test(t)&&(t=unescape(encodeURIComponent(t))),t}function l(t,e){var n,r=t.length,o=new ArrayBuffer(r),i=new Uint8Array(o);for(n=0;n<r;n+=1)i[n]=t.charCodeAt(n);return e?i:o}function f(t){return String.fromCharCode.apply(null,new Uint8Array(t))}function d(t,e,n){var r=new Uint8Array(t.byteLength+e.byteLength);return r.set(new Uint8Array(t)),r.set(new Uint8Array(e),t.byteLength),n?r:r.buffer}function h(t){var e,n=[],r=t.length;for(e=0;e<r-1;e+=2)n.push(parseInt(t.substr(e,2),16));return String.fromCharCode.apply(String,n)}function p(){this.reset()}return c(i("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function e(t,e){return(t=0|t||0)<0?Math.max(t+e,0):Math.min(t,e)}ArrayBuffer.prototype.slice=function(n,r){var o,i,a,s,c=this.byteLength,u=e(n,c),l=c;return r!==t&&(l=e(r,c)),u>l?new ArrayBuffer(0):(o=l-u,i=new ArrayBuffer(o),a=new Uint8Array(i),s=new Uint8Array(this,u,o),a.set(s),i)}}(),p.prototype.append=function(t){return this.appendBinary(u(t)),this},p.prototype.appendBinary=function(t){this._buff+=t,this._length+=t.length;var e,o=this._buff.length;for(e=64;e<=o;e+=64)n(this._hash,r(this._buff.substring(e-64,e)));return this._buff=this._buff.substring(e-64),this},p.prototype.end=function(t){var e,n,r=this._buff,o=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<o;e+=1)i[e>>2]|=r.charCodeAt(e)<<(e%4<<3);return this._finish(i,o),n=c(this._hash),t&&(n=h(n)),this.reset(),n},p.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},p.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},p.prototype.setState=function(t){return this._buff=t.buff,this._length=t.length,this._hash=t.hash,this},p.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},p.prototype._finish=function(t,e){var r,o,i,a=e;if(t[a>>2]|=128<<(a%4<<3),a>55)for(n(this._hash,t),a=0;a<16;a+=1)t[a]=0;r=(r=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(r[2],16),i=parseInt(r[1],16)||0,t[14]=o,t[15]=i,n(this._hash,t)},p.hash=function(t,e){return p.hashBinary(u(t),e)},p.hashBinary=function(t,e){var n=c(i(t));return e?h(n):n},p.ArrayBuffer=function(){this.reset()},p.ArrayBuffer.prototype.append=function(t){var e,r=d(this._buff.buffer,t,!0),i=r.length;for(this._length+=t.byteLength,e=64;e<=i;e+=64)n(this._hash,o(r.subarray(e-64,e)));return this._buff=e-64<i?new Uint8Array(r.buffer.slice(e-64)):new Uint8Array(0),this},p.ArrayBuffer.prototype.end=function(t){var e,n,r=this._buff,o=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<o;e+=1)i[e>>2]|=r[e]<<(e%4<<3);return this._finish(i,o),n=c(this._hash),t&&(n=h(n)),this.reset(),n},p.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},p.ArrayBuffer.prototype.getState=function(){var t=p.prototype.getState.call(this);return t.buff=f(t.buff),t},p.ArrayBuffer.prototype.setState=function(t){return t.buff=l(t.buff,!0),p.prototype.setState.call(this,t)},p.ArrayBuffer.prototype.destroy=p.prototype.destroy,p.ArrayBuffer.prototype._finish=p.prototype._finish,p.ArrayBuffer.hash=function(t,e){var n=c(a(new Uint8Array(t)));return e?h(n):n},p}()}));function Ce(t,e,n){var r=n[n.length-1];t===r.element&&(n.pop(),r=n[n.length-1]);var o=r.element,i=r.index;if(Array.isArray(o))o.push(t);else if(i===e.length-2){o[e.pop()]=t}else e.push(t)}var Oe=function(t){var e=[];e.push({obj:t});for(var n,r,o,i,a,s,c,u,l,f,d="";n=e.pop();)if(r=n.obj,d+=n.prefix||"",o=n.val||"")d+=o;else if("object"!=typeof r)d+=void 0===r?null:JSON.stringify(r);else if(null===r)d+="null";else if(Array.isArray(r)){for(e.push({val:"]"}),i=r.length-1;i>=0;i--)a=0===i?"":",",e.push({obj:r[i],prefix:a});e.push({val:"["})}else{for(c in s=[],r)r.hasOwnProperty(c)&&s.push(c);for(e.push({val:"}"}),i=s.length-1;i>=0;i--)l=r[u=s[i]],f=i>0?",":"",f+=JSON.stringify(u)+":",e.push({obj:l,prefix:f});e.push({val:"{"})}return d},Ee=function(t){for(var e,n,r,o,i,a,s,c,u,l=[],f=[],d=0;;)if("}"!==(e=t[d++])&&"]"!==e&&void 0!==e)switch(e){case" ":case"\t":case"\n":case":":case",":break;case"n":d+=3,Ce(null,l,f);break;case"t":d+=3,Ce(!0,l,f);break;case"f":d+=4,Ce(!1,l,f);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(n="",d--;;){if(r=t[d++],!/[\d\.\-e\+]/.test(r)){d--;break}n+=r}Ce(parseFloat(n),l,f);break;case'"':for(o="",i=void 0,a=0;'"'!==(s=t[d++])||"\\"===i&&a%2==1;)o+=s,"\\"===(i=s)?a++:a=0;Ce(JSON.parse('"'+o+'"'),l,f);break;case"[":c={element:[],index:l.length},l.push(c.element),f.push(c);break;case"{":u={element:{},index:l.length},l.push(u.element),f.push(u);break;default:throw new Error("unexpectedly reached end of input: "+e)}else{if(1===l.length)return l.pop();Ce(l.pop(),l,f)}},Se=function(t){return function(){var e=arguments.length;if(e){for(var n=[],r=-1;++r<e;)n[r]=arguments[r];return t.call(this,n)}return t.call(this,[])}};var Ae,Re,je=Wt((function(t){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}}));function Pe(){}function De(){De.init.call(this)}function Me(t){return void 0===t._maxListeners?De.defaultMaxListeners:t._maxListeners}function Te(t,e,n){if(e)t.call(n);else for(var r=t.length,o=Fe(t,r),i=0;i<r;++i)o[i].call(n)}function Ie(t,e,n,r){if(e)t.call(n,r);else for(var o=t.length,i=Fe(t,o),a=0;a<o;++a)i[a].call(n,r)}function Le(t,e,n,r,o){if(e)t.call(n,r,o);else for(var i=t.length,a=Fe(t,i),s=0;s<i;++s)a[s].call(n,r,o)}function qe(t,e,n,r,o,i){if(e)t.call(n,r,o,i);else for(var a=t.length,s=Fe(t,a),c=0;c<a;++c)s[c].call(n,r,o,i)}function ze(t,e,n,r){if(e)t.apply(n,r);else for(var o=t.length,i=Fe(t,o),a=0;a<o;++a)i[a].apply(n,r)}function Ne(t,e,n,r){var o,i,a,s;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if((i=t._events)?(i.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),i=t._events),a=i[e]):(i=t._events=new Pe,t._eventsCount=0),a){if("function"==typeof a?a=i[e]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),!a.warned&&(o=Me(t))&&o>0&&a.length>o){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+e+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=a.length,s=c,"function"==typeof console.warn?console.warn(s):console.log(s)}}else a=i[e]=n,++t._eventsCount;return t}function Ue(t,e,n){var r=!1;function o(){t.removeListener(e,o),r||(r=!0,n.apply(t,arguments))}return o.listener=n,o}function Be(t){var e=this._events;if(e){var n=e[t];if("function"==typeof n)return 1;if(n)return n.length}return 0}function Fe(t,e){for(var n=new Array(e);e--;)n[e]=t[e];return n}function We(t){return"$"+t}function Ve(t){return t.substring(1)}function Ge(){this._store={}}function He(t){if(this._store=new Ge,t&&Array.isArray(t))for(var e=0,n=t.length;e<n;e++)this.add(t[e])}function Ke(t){if(t instanceof ArrayBuffer)return function(t){if("function"==typeof t.slice)return t.slice(0);var e=new ArrayBuffer(t.byteLength),n=new Uint8Array(e),r=new Uint8Array(t);return n.set(r),e}(t);var e=t.size,n=t.type;return"function"==typeof t.slice?t.slice(0,e,n):t.webkitSlice(0,e,n)}Pe.prototype=Object.create(null),De.EventEmitter=De,De.usingDomains=!1,De.prototype.domain=void 0,De.prototype._events=void 0,De.prototype._maxListeners=void 0,De.defaultMaxListeners=10,De.init=function(){this.domain=null,De.usingDomains&&undefined.active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new Pe,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},De.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=t,this},De.prototype.getMaxListeners=function(){return Me(this)},De.prototype.emit=function(t){var e,n,r,o,i,a,s,c="error"===t;if(a=this._events)c=c&&null==a.error;else if(!c)return!1;if(s=this.domain,c){if(e=arguments[1],!s){if(e instanceof Error)throw e;var u=new Error('Uncaught, unspecified "error" event. ('+e+")");throw u.context=e,u}return e||(e=new Error('Uncaught, unspecified "error" event')),e.domainEmitter=this,e.domain=s,e.domainThrown=!1,s.emit("error",e),!1}if(!(n=a[t]))return!1;var l="function"==typeof n;switch(r=arguments.length){case 1:Te(n,l,this);break;case 2:Ie(n,l,this,arguments[1]);break;case 3:Le(n,l,this,arguments[1],arguments[2]);break;case 4:qe(n,l,this,arguments[1],arguments[2],arguments[3]);break;default:for(o=new Array(r-1),i=1;i<r;i++)o[i-1]=arguments[i];ze(n,l,this,o)}return!0},De.prototype.addListener=function(t,e){return Ne(this,t,e,!1)},De.prototype.on=De.prototype.addListener,De.prototype.prependListener=function(t,e){return Ne(this,t,e,!0)},De.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.on(t,Ue(this,t,e)),this},De.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.prependListener(t,Ue(this,t,e)),this},De.prototype.removeListener=function(t,e){var n,r,o,i,a;if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[t]))return this;if(n===e||n.listener&&n.listener===e)0==--this._eventsCount?this._events=new Pe:(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(o=-1,i=n.length;i-- >0;)if(n[i]===e||n[i].listener&&n[i].listener===e){a=n[i].listener,o=i;break}if(o<0)return this;if(1===n.length){if(n[0]=void 0,0==--this._eventsCount)return this._events=new Pe,this;delete r[t]}else!function(t,e){for(var n=e,r=n+1,o=t.length;r<o;n+=1,r+=1)t[n]=t[r];t.pop()}(n,o);r.removeListener&&this.emit("removeListener",t,a||e)}return this},De.prototype.removeAllListeners=function(t){var e,n;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=new Pe,this._eventsCount=0):n[t]&&(0==--this._eventsCount?this._events=new Pe:delete n[t]),this;if(0===arguments.length){for(var r,o=Object.keys(n),i=0;i<o.length;++i)"removeListener"!==(r=o[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=new Pe,this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(e)do{this.removeListener(t,e[e.length-1])}while(e[0]);return this},De.prototype.listeners=function(t){var e,n=this._events;return n&&(e=n[t])?"function"==typeof e?[e.listener||e]:function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(e):[]},De.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):Be.call(t,e)},De.prototype.listenerCount=Be,De.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]},Ge.prototype.get=function(t){var e=We(t);return this._store[e]},Ge.prototype.set=function(t,e){var n=We(t);return this._store[n]=e,!0},Ge.prototype.has=function(t){return We(t)in this._store},Ge.prototype.delete=function(t){var e=We(t),n=e in this._store;return delete this._store[e],n},Ge.prototype.forEach=function(t){for(var e=Object.keys(this._store),n=0,r=e.length;n<r;n++){var o=e[n];t(this._store[o],o=Ve(o))}},Object.defineProperty(Ge.prototype,"size",{get:function(){return Object.keys(this._store).length}}),He.prototype.add=function(t){return this._store.set(t,!0)},He.prototype.has=function(t){return this._store.has(t)},He.prototype.forEach=function(t){this._store.forEach((function(e,n){t(n)}))},Object.defineProperty(He.prototype,"size",{get:function(){return this._store.size}}),!function(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var t=Object.getOwnPropertyDescriptor(Map,Symbol.species);return t&&"get"in t&&Map[Symbol.species]===Map}()?(Ae=He,Re=Ge):(Ae=Set,Re=Map);var Je=Function.prototype.toString,Xe=Je.call(Object);function Qe(t){var e,n,r;if(!t||"object"!=typeof t)return t;if(Array.isArray(t)){for(e=[],n=0,r=t.length;n<r;n++)e[n]=Qe(t[n]);return e}if(t instanceof Date)return t.toISOString();if(function(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer||"undefined"!=typeof Blob&&t instanceof Blob}(t))return Ke(t);if(!function(t){var e=Object.getPrototypeOf(t);if(null===e)return!0;var n=e.constructor;return"function"==typeof n&&n instanceof n&&Je.call(n)==Xe}(t))return t;for(n in e={},t)if(Object.prototype.hasOwnProperty.call(t,n)){var o=Qe(t[n]);void 0!==o&&(e[n]=o)}return e}function Ye(t){var e=!1;return Se((function(n){if(e)throw new Error("once called more than once");e=!0,t.apply(this,n)}))}function Ze(t){return Se((function(e){e=Qe(e);var n=this,r="function"==typeof e[e.length-1]&&e.pop(),o=new Promise((function(r,o){var i;try{var a=Ye((function(t,e){t?o(t):r(e)}));e.push(a),(i=t.apply(n,e))&&"function"==typeof i.then&&r(i)}catch(t){o(t)}}));return r&&o.then((function(t){r(null,t)}),r),o}))}function tn(t,e){return Ze(Se((function(n){if(this._closed)return Promise.reject(new Error("database is closed"));if(this._destroyed)return Promise.reject(new Error("database is destroyed"));var r=this;return function(t,e,n){if(t.constructor.listeners("debug").length){for(var r=["api",t.name,e],o=0;o<n.length-1;o++)r.push(n[o]);t.constructor.emit("debug",r);var i=n[n.length-1];n[n.length-1]=function(n,r){var o=["api",t.name,e];o=o.concat(n?["error",n]:["success",r]),t.constructor.emit("debug",o),i(n,r)}}}(r,t,n),this.taskqueue.isReady?e.apply(this,n):new Promise((function(e,o){r.taskqueue.addTask((function(i){i?o(i):e(r[t].apply(r,n))}))}))})))}function en(t,e){for(var n={},r=0,o=e.length;r<o;r++){var i=e[r];i in t&&(n[i]=t[i])}return n}var nn;function rn(t){return t}function on(t){return[{ok:t}]}function an(t,e,n){var r=e.docs,o=new Re;r.forEach((function(t){o.has(t.id)?o.get(t.id).push(t):o.set(t.id,[t])}));var i=o.size,a=0,s=new Array(i);function c(){var t;++a===i&&(t=[],s.forEach((function(e){e.docs.forEach((function(n){t.push({id:e.id,docs:[n]})}))})),n(null,{results:t}))}var u=[];o.forEach((function(t,e){u.push(e)}));var l=0;function f(){if(!(l>=u.length)){var n=Math.min(l+6,u.length),r=u.slice(l,n);!function(n,r){n.forEach((function(n,i){var a=r+i,u=o.get(n),l=en(u[0],["atts_since","attachments"]);l.open_revs=u.map((function(t){return t.rev})),l.open_revs=l.open_revs.filter(rn);var d=rn;0===l.open_revs.length&&(delete l.open_revs,d=on),["revs","attachments","binary","ajax","latest"].forEach((function(t){t in e&&(l[t]=e[t])})),t.get(n,l,(function(t,e){var r;r=t?[{error:t}]:d(e),function(t,e,n){s[t]={id:e,docs:n},c()}(a,n,r),f()}))}))}(r,l),l+=r.length}}f()}try{localStorage.setItem("_pouch_check_localstorage",1),nn=!!localStorage.getItem("_pouch_check_localstorage")}catch(t){nn=!1}function sn(){return nn}function cn(){De.call(this),this._listeners={},function(t){sn()&&addEventListener("storage",(function(e){t.emit(e.key)}))}(this)}function un(t){if("undefined"!=typeof console&&"function"==typeof console[t]){var e=Array.prototype.slice.call(arguments,1);console[t].apply(console,e)}}function ln(t){var e=0;return t||(e=2e3),function(t,e){var n=6e5;return t=parseInt(t,10)||0,(e=parseInt(e,10))!=e||e<=t?e=(t||1)<<1:e+=1,e>n&&(t=3e5,e=n),~~((e-t)*Math.random()+t)}(t,e)}function fn(t,e){un("info","The above "+t+" is totally normal. "+e)}je(cn,De),cn.prototype.addListener=function(t,e,n,r){if(!this._listeners[e]){var o=this,i=!1;this._listeners[e]=a,this.on(t,a)}function a(){if(o._listeners[e])if(i)i="waiting";else{i=!0;var t=en(r,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);n.changes(t).on("change",(function(t){t.seq>r.since&&!r.cancelled&&(r.since=t.seq,r.onChange(t))})).on("complete",(function(){"waiting"===i&&ue(a),i=!1})).on("error",(function(){i=!1}))}}},cn.prototype.removeListener=function(t,e){e in this._listeners&&(De.prototype.removeListener.call(this,t,this._listeners[e]),delete this._listeners[e])},cn.prototype.notifyLocalWindows=function(t){sn()&&(localStorage[t]="a"===localStorage[t]?"b":"a")},cn.prototype.notify=function(t){this.emit(t),this.notifyLocalWindows(t)};var dn="function"==typeof Object.assign?Object.assign:function(t){for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e};function hn(t,e,n){Error.call(this,n),this.status=t,this.name=e,this.message=n,this.error=!0}je(hn,Error),hn.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})},new hn(401,"unauthorized","Name or password is incorrect.");var pn=new hn(400,"bad_request","Missing JSON list of 'docs'"),vn=new hn(404,"not_found","missing"),gn=new hn(409,"conflict","Document update conflict"),mn=new hn(400,"bad_request","_id field must contain a string"),yn=new hn(412,"missing_id","_id is required for puts"),_n=new hn(400,"bad_request","Only reserved document ids may start with underscore.");new hn(412,"precondition_failed","Database not open");var bn=new hn(500,"unknown_error","Database encountered an unknown error"),wn=new hn(500,"badarg","Some query argument is invalid");new hn(400,"invalid_request","Request was invalid");var xn=new hn(400,"query_parse_error","Some query parameter is invalid"),$n=new hn(500,"doc_validation","Bad special document member"),kn=new hn(400,"bad_request","Something wrong with the request"),Cn=new hn(400,"bad_request","Document must be a JSON object");new hn(404,"not_found","Database not found");var On=new hn(500,"indexed_db_went_bad","unknown");new hn(500,"web_sql_went_bad","unknown"),new hn(500,"levelDB_went_went_bad","unknown"),new hn(403,"forbidden","Forbidden by design doc validate_doc_update function");var En=new hn(400,"bad_request","Invalid rev format");new hn(412,"file_exists","The database could not be created, the file already exists.");var Sn=new hn(412,"missing_stub","A pre-existing attachment stub wasn't found");function An(t,e){function n(e){for(var n=Object.getOwnPropertyNames(t),r=0,o=n.length;r<o;r++)"function"!=typeof t[n[r]]&&(this[n[r]]=t[n[r]]);void 0!==e&&(this.reason=e)}return n.prototype=hn.prototype,new n(e)}function Rn(t){if("object"!=typeof t){var e=t;(t=bn).data=e}return"error"in t&&"conflict"===t.error&&(t.name="conflict",t.status=409),"name"in t||(t.name=t.error||"unknown"),"status"in t||(t.status=500),"message"in t||(t.message=t.message||t.reason),t}function jn(t){var e={},n=t.filter&&"function"==typeof t.filter;return e.query=t.query_params,function(r){r.doc||(r.doc={});var o=n&&function(t,e,n){try{return!t(e,n)}catch(t){var r="Filter function threw: "+t.toString();return An(kn,r)}}(t.filter,r.doc,e);if("object"==typeof o)return o;if(o)return!1;if(t.include_docs){if(!t.attachments)for(var i in r.doc._attachments)r.doc._attachments.hasOwnProperty(i)&&(r.doc._attachments[i].stub=!0)}else delete r.doc;return!0}}function Pn(t){for(var e=[],n=0,r=t.length;n<r;n++)e=e.concat(t[n]);return e}function Dn(t){var e;if(t?"string"!=typeof t?e=An(mn):/^_/.test(t)&&!/^_(design|local)/.test(t)&&(e=An(_n)):e=An(yn),e)throw e}function Mn(t){return"boolean"==typeof t._remote?t._remote:"function"==typeof t.type&&(un("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===t.type())}function Tn(t){if(!t)return null;var e=t.split("/");return 2===e.length?e:1===e.length?[t,t]:null}function In(t){var e=Tn(t);return e?e.join("/"):null}new hn(413,"invalid_url","Provided URL is invalid");var Ln=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],qn="queryKey",zn=/(?:^|&)([^&=]*)=?([^&]*)/g,Nn=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;function Un(t){for(var e=Nn.exec(t),n={},r=14;r--;){var o=Ln[r],i=e[r]||"",a=-1!==["user","password"].indexOf(o);n[o]=a?decodeURIComponent(i):i}return n[qn]={},n[Ln[12]].replace(zn,(function(t,e,r){e&&(n[qn][e]=r)})),n}function Bn(t,e){var n=[],r=[];for(var o in e)e.hasOwnProperty(o)&&(n.push(o),r.push(e[o]));return n.push(t),Function.apply(null,n).apply(null,r)}function Fn(t,e,n){return new Promise((function(r,o){t.get(e,(function(i,a){if(i){if(404!==i.status)return o(i);a={}}var s=a._rev,c=n(a);if(!c)return r({updated:!1,rev:s});c._id=e,c._rev=s,r(function(t,e,n){return t.put(e).then((function(t){return{updated:!0,rev:t.rev}}),(function(r){if(409!==r.status)throw r;return Fn(t,e._id,n)}))}(t,c,n))}))}))}var Wn=function(t){return atob(t)},Vn=function(t){return btoa(t)};function Gn(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(o){if("TypeError"!==o.name)throw o;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<t.length;r+=1)n.append(t[r]);return n.getBlob(e.type)}}function Hn(t){for(var e=t.length,n=new ArrayBuffer(e),r=new Uint8Array(n),o=0;o<e;o++)r[o]=t.charCodeAt(o);return n}function Kn(t,e){return Gn([Hn(t)],{type:e})}function Jn(t,e){return Kn(Wn(t),e)}function Xn(t,e){var n=new FileReader,r="function"==typeof n.readAsBinaryString;n.onloadend=function(t){var n=t.target.result||"";if(r)return e(n);e(function(t){for(var e="",n=new Uint8Array(t),r=n.byteLength,o=0;o<r;o++)e+=String.fromCharCode(n[o]);return e}(n))},r?n.readAsBinaryString(t):n.readAsArrayBuffer(t)}function Qn(t,e){Xn(t,(function(t){e(t)}))}function Yn(t,e){Qn(t,(function(t){e(Vn(t))}))}var Zn=self.setImmediate||self.setTimeout;function tr(t,e,n,r,o){(n>0||r<e.size)&&(e=function(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.slice(e,n)}(e,n,r)),function(t,e){var n=new FileReader;n.onloadend=function(t){var n=t.target.result||new ArrayBuffer(0);e(n)},n.readAsArrayBuffer(t)}(e,(function(e){t.append(e),o()}))}function er(t,e,n,r,o){(n>0||r<e.length)&&(e=e.substring(n,r)),t.appendBinary(e),o()}function nr(t,e){var n="string"==typeof t,r=n?t.length:t.size,o=Math.min(32768,r),i=Math.ceil(r/o),a=0,s=n?new ke:new ke.ArrayBuffer,c=n?er:tr;function u(){Zn(f)}function l(){var t=function(t){return Vn(t)}(s.end(!0));e(t),s.destroy()}function f(){var e=a*o,n=e+o;a++,c(s,t,e,n,a<i?u:l)}f()}function rr(t){return ke.hash(t)}function or(t,e){var n=Qe(t);return e?(delete n._rev_tree,rr(JSON.stringify(n))):$e().replace(/-/g,"").toLowerCase()}var ir=$e;function ar(t){for(var e,n,r,o,i=t.rev_tree.slice();o=i.pop();){var a=o.ids,s=a[2],c=o.pos;if(s.length)for(var u=0,l=s.length;u<l;u++)i.push({pos:c+1,ids:s[u]});else{var f=!!a[1].deleted,d=a[0];e&&!(r!==f?r:n!==c?n<c:e<d)||(e=d,n=c,r=f)}}return n+"-"+e}function sr(t,e){for(var n,r=t.slice();n=r.pop();)for(var o=n.pos,i=n.ids,a=i[2],s=e(0===a.length,o,i[0],n.ctx,i[1]),c=0,u=a.length;c<u;c++)r.push({pos:o+1,ids:a[c],ctx:s})}function cr(t,e){return t.pos-e.pos}function ur(t){var e=[];sr(t,(function(t,n,r,o,i){t&&e.push({rev:n+"-"+r,pos:n,opts:i})})),e.sort(cr).reverse();for(var n=0,r=e.length;n<r;n++)delete e[n].pos;return e}function lr(t){for(var e=ar(t),n=ur(t.rev_tree),r=[],o=0,i=n.length;o<i;o++){var a=n[o];a.rev===e||a.opts.deleted||r.push(a.rev)}return r}function fr(t){for(var e,n=[],r=t.slice();e=r.pop();){var o=e.pos,i=e.ids,a=i[0],s=i[1],c=i[2],u=0===c.length,l=e.history?e.history.slice():[];l.push({id:a,opts:s}),u&&n.push({pos:o+1-l.length,ids:l});for(var f=0,d=c.length;f<d;f++)r.push({pos:o+1,ids:c[f],history:l})}return n.reverse()}function dr(t,e){return t.pos-e.pos}function hr(t,e,n){var r=function(t,e,n){for(var r,o=0,i=t.length;o<i;)n(t[r=o+i>>>1],e)<0?o=r+1:i=r;return o}(t,e,n);t.splice(r,0,e)}function pr(t,e){for(var n,r,o=e,i=t.length;o<i;o++){var a=t[o],s=[a.id,a.opts,[]];r?(r[2].push(s),r=s):n=r=s}return n}function vr(t,e){return t[0]<e[0]?-1:1}function gr(t,e){for(var n=[{tree1:t,tree2:e}],r=!1;n.length>0;){var o=n.pop(),i=o.tree1,a=o.tree2;(i[1].status||a[1].status)&&(i[1].status="available"===i[1].status||"available"===a[1].status?"available":"missing");for(var s=0;s<a[2].length;s++)if(i[2][0]){for(var c=!1,u=0;u<i[2].length;u++)i[2][u][0]===a[2][s][0]&&(n.push({tree1:i[2][u],tree2:a[2][s]}),c=!0);c||(r="new_branch",hr(i[2],a[2][s],vr))}else r="new_leaf",i[2][0]=a[2][s]}return{conflicts:r,tree:t}}function mr(t,e,n){var r,o=[],i=!1,a=!1;if(!t.length)return{tree:[e],conflicts:"new_leaf"};for(var s=0,c=t.length;s<c;s++){var u=t[s];if(u.pos===e.pos&&u.ids[0]===e.ids[0])r=gr(u.ids,e.ids),o.push({pos:u.pos,ids:r.tree}),i=i||r.conflicts,a=!0;else if(!0!==n){var l=u.pos<e.pos?u:e,f=u.pos<e.pos?e:u,d=f.pos-l.pos,h=[],p=[];for(p.push({ids:l.ids,diff:d,parent:null,parentIdx:null});p.length>0;){var v=p.pop();if(0!==v.diff)for(var g=v.ids[2],m=0,y=g.length;m<y;m++)p.push({ids:g[m],diff:v.diff-1,parent:v.ids,parentIdx:m});else v.ids[0]===f.ids[0]&&h.push(v)}var _=h[0];_?(r=gr(_.ids,f.ids),_.parent[2][_.parentIdx]=r.tree,o.push({pos:l.pos,ids:l.ids}),i=i||r.conflicts,a=!0):o.push(u)}else o.push(u)}return a||o.push(e),o.sort(dr),{tree:o,conflicts:i||"internal_node"}}function yr(t,e,n){var r=mr(t,e),o=function(t,e){for(var n,r,o=fr(t),i=0,a=o.length;i<a;i++){var s,c=o[i],u=c.ids;if(u.length>e){n||(n={});var l=u.length-e;s={pos:c.pos+l,ids:pr(u,l)};for(var f=0;f<l;f++){var d=c.pos+f+"-"+u[f].id;n[d]=!0}}else s={pos:c.pos,ids:pr(u,0)};r=r?mr(r,s,!0).tree:[s]}return n&&sr(r,(function(t,e,r){delete n[e+"-"+r]})),{tree:r,revs:n?Object.keys(n):[]}}(r.tree,n);return{tree:o.tree,stemmedRevs:o.revs,conflicts:r.conflicts}}function _r(t){return t.ids}function br(t,e){e||(e=ar(t));for(var n,r=e.substring(e.indexOf("-")+1),o=t.rev_tree.map(_r);n=o.pop();){if(n[0]===r)return!!n[1].deleted;o=o.concat(n[2])}}function wr(t){return/^_local/.test(t)}function xr(t,e,n){De.call(this);var r=this;this.db=t;var o=(e=e?Qe(e):{}).complete=Ye((function(e,n){var o,a;e?(a="error",("listenerCount"in(o=r)?o.listenerCount(a):De.listenerCount(o,a))>0&&r.emit("error",e)):r.emit("complete",n),r.removeAllListeners(),t.removeListener("destroyed",i)}));function i(){r.cancel()}n&&(r.on("complete",(function(t){n(null,t)})),r.on("error",n)),t.once("destroyed",i),e.onChange=function(t,e,n){r.isCancelled||function(t,e,n,r){try{t.emit("change",e,n,r)}catch(t){un("error",'Error in .on("change", function):',t)}}(r,t,e,n)};var a=new Promise((function(t,n){e.complete=function(e,r){e?n(e):t(r)}}));r.once("cancel",(function(){t.removeListener("destroyed",i),e.complete(null,{status:"cancelled"})})),this.then=a.then.bind(a),this.catch=a.catch.bind(a),this.then((function(t){o(null,t)}),o),t.taskqueue.isReady?r.validateChanges(e):t.taskqueue.addTask((function(t){t?e.complete(t):r.isCancelled?r.emit("cancel"):r.validateChanges(e)}))}function $r(t,e,n){var r=[{rev:t._rev}];"all_docs"===n.style&&(r=ur(e.rev_tree).map((function(t){return{rev:t.rev}})));var o={id:e.id,changes:r,doc:t};return br(e,t._rev)&&(o.deleted=!0),n.conflicts&&(o.doc._conflicts=lr(e),o.doc._conflicts.length||delete o.doc._conflicts),o}function kr(t,e){return t<e?-1:t>e?1:0}function Cr(t,e){return function(n,r){n||r[0]&&r[0].error?((n=n||r[0]).docId=e,t(n)):t(null,r.length?r[0]:r)}}function Or(t,e){var n=kr(t._id,e._id);return 0!==n?n:kr(t._revisions?t._revisions.start:0,e._revisions?e._revisions.start:0)}function Er(t){var e=t._compactionQueue[0],n=e.opts,r=e.callback;t.get("_local/compaction").catch((function(){return!1})).then((function(e){e&&e.last_seq&&(n.last_seq=e.last_seq),t._compact(n,(function(e,n){e?r(e):r(null,n),ue((function(){t._compactionQueue.shift(),t._compactionQueue.length&&Er(t)}))}))}))}function Sr(){for(var t in De.call(this),Sr.prototype)"function"==typeof this[t]&&(this[t]=this[t].bind(this))}function Ar(){this.isReady=!1,this.failed=!1,this.queue=[]}function Rr(t,e){if(!(this instanceof Rr))return new Rr(t,e);var n=this;if(e=e||{},t&&"object"==typeof t&&(t=(e=t).name,delete e.name),void 0===e.deterministic_revs&&(e.deterministic_revs=!0),this.__opts=e=Qe(e),n.auto_compaction=e.auto_compaction,n.prefix=Rr.prefix,"string"!=typeof t)throw new Error("Missing/invalid DB name");var r=function(t,e){var n=t.match(/([a-z-]*):\/\/(.*)/);if(n)return{name:/https?/.test(n[1])?n[1]+"://"+n[2]:n[2],adapter:n[1]};var r=Rr.adapters,o=Rr.preferredAdapters,i=Rr.prefix,a=e.adapter;if(!a)for(var s=0;s<o.length&&"idb"===(a=o[s])&&"websql"in r&&sn()&&localStorage["_pouch__websqldb_"+i+t];++s)un("log",'PouchDB is downgrading "'+t+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');var c=r[a];return{name:c&&"use_prefix"in c&&!c.use_prefix?t:i+t,adapter:a}}((e.prefix||"")+t,e);if(e.name=r.name,e.adapter=e.adapter||r.adapter,n.name=t,n._adapter=e.adapter,Rr.emit("debug",["adapter","Picked adapter: ",e.adapter]),!Rr.adapters[e.adapter]||!Rr.adapters[e.adapter].valid())throw new Error("Invalid Adapter: "+e.adapter);Sr.call(n),n.taskqueue=new Ar,n.adapter=e.adapter,Rr.adapters[e.adapter].call(n,e,(function(t){if(t)return n.taskqueue.fail(t);!function(t){function e(e){t.removeListener("closed",n),e||t.constructor.emit("destroyed",t.name)}function n(){t.removeListener("destroyed",e),t.constructor.emit("unref",t)}t.once("destroyed",e),t.once("closed",n),t.constructor.emit("ref",t)}(n),n.emit("created",n),Rr.emit("created",n.name),n.taskqueue.ready(n)}))}je(xr,De),xr.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},xr.prototype.validateChanges=function(t){var e=t.complete,n=this;Rr._changesFilterPlugin?Rr._changesFilterPlugin.validate(t,(function(r){if(r)return e(r);n.doChanges(t)})):n.doChanges(t)},xr.prototype.doChanges=function(t){var e=this,n=t.complete;if("live"in(t=Qe(t))&&!("continuous"in t)&&(t.continuous=t.live),t.processChange=$r,"latest"===t.since&&(t.since="now"),t.since||(t.since=0),"now"!==t.since){if(Rr._changesFilterPlugin){if(Rr._changesFilterPlugin.normalize(t),Rr._changesFilterPlugin.shouldFilter(this,t))return Rr._changesFilterPlugin.filter(this,t)}else["doc_ids","filter","selector","view"].forEach((function(e){e in t&&un("warn",'The "'+e+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')}));"descending"in t||(t.descending=!1),t.limit=0===t.limit?1:t.limit,t.complete=n;var r=this.db._changes(t);if(r&&"function"==typeof r.cancel){var o=e.cancel;e.cancel=Se((function(t){r.cancel(),o.apply(this,t)}))}}else this.db.info().then((function(r){e.isCancelled?n(null,{status:"cancelled"}):(t.since=r.update_seq,e.doChanges(t))}),n)},je(Sr,De),Sr.prototype.post=tn("post",(function(t,e,n){if("function"==typeof e&&(n=e,e={}),"object"!=typeof t||Array.isArray(t))return n(An(Cn));this.bulkDocs({docs:[t]},e,Cr(n,t._id))})),Sr.prototype.put=tn("put",(function(t,e,n){if("function"==typeof e&&(n=e,e={}),"object"!=typeof t||Array.isArray(t))return n(An(Cn));if(Dn(t._id),wr(t._id)&&"function"==typeof this._putLocal)return t._deleted?this._removeLocal(t,n):this._putLocal(t,n);var r,o,i,a,s=this;function c(n){"function"==typeof s._put&&!1!==e.new_edits?s._put(t,e,n):s.bulkDocs({docs:[t]},e,Cr(n,t._id))}e.force&&t._rev?(r=t._rev.split("-"),o=r[1],i=parseInt(r[0],10)+1,a=or(),t._revisions={start:i,ids:[a,o]},t._rev=i+"-"+a,e.new_edits=!1,c((function(e){var r=e?null:{ok:!0,id:t._id,rev:t._rev};n(e,r)}))):c(n)})),Sr.prototype.putAttachment=tn("putAttachment",(function(t,e,n,r,o){var i=this;function a(t){var n="_rev"in t?parseInt(t._rev,10):0;return t._attachments=t._attachments||{},t._attachments[e]={content_type:o,data:r,revpos:++n},i.put(t)}return"function"==typeof o&&(o=r,r=n,n=null),void 0===o&&(o=r,r=n,n=null),o||un("warn","Attachment",e,"on document",t,"is missing content_type"),i.get(t).then((function(t){if(t._rev!==n)throw An(gn);return a(t)}),(function(e){if(e.reason===vn.message)return a({_id:t});throw e}))})),Sr.prototype.removeAttachment=tn("removeAttachment",(function(t,e,n,r){var o=this;o.get(t,(function(t,i){if(t)r(t);else if(i._rev===n){if(!i._attachments)return r();delete i._attachments[e],0===Object.keys(i._attachments).length&&delete i._attachments,o.put(i,r)}else r(An(gn))}))})),Sr.prototype.remove=tn("remove",(function(t,e,n,r){var o;"string"==typeof e?(o={_id:t,_rev:e},"function"==typeof n&&(r=n,n={})):(o=t,"function"==typeof e?(r=e,n={}):(r=n,n=e)),(n=n||{}).was_delete=!0;var i={_id:o._id,_rev:o._rev||n.rev,_deleted:!0};if(wr(i._id)&&"function"==typeof this._removeLocal)return this._removeLocal(o,r);this.bulkDocs({docs:[i]},n,Cr(r,i._id))})),Sr.prototype.revsDiff=tn("revsDiff",(function(t,e,n){"function"==typeof e&&(n=e,e={});var r=Object.keys(t);if(!r.length)return n(null,{});var o=0,i=new Re;function a(t,e){i.has(t)||i.set(t,{missing:[]}),i.get(t).missing.push(e)}r.map((function(e){this._getRevisionTree(e,(function(s,c){if(s&&404===s.status&&"missing"===s.message)i.set(e,{missing:t[e]});else{if(s)return n(s);!function(e,n){var r=t[e].slice(0);sr(n,(function(t,n,o,i,s){var c=n+"-"+o,u=r.indexOf(c);-1!==u&&(r.splice(u,1),"available"!==s.status&&a(e,c))})),r.forEach((function(t){a(e,t)}))}(e,c)}if(++o===r.length){var u={};return i.forEach((function(t,e){u[e]=t})),n(null,u)}}))}),this)})),Sr.prototype.bulkGet=tn("bulkGet",(function(t,e){an(this,t,e)})),Sr.prototype.compactDocument=tn("compactDocument",(function(t,e,n){var r=this;this._getRevisionTree(t,(function(o,i){if(o)return n(o);var a=function(t){var e={},n=[];return sr(t,(function(t,r,o,i){var a=r+"-"+o;return t&&(e[a]=0),void 0!==i&&n.push({from:i,to:a}),a})),n.reverse(),n.forEach((function(t){void 0===e[t.from]?e[t.from]=1+e[t.to]:e[t.from]=Math.min(e[t.from],1+e[t.to])})),e}(i),s=[],c=[];Object.keys(a).forEach((function(t){a[t]>e&&s.push(t)})),sr(i,(function(t,e,n,r,o){var i=e+"-"+n;"available"===o.status&&-1!==s.indexOf(i)&&c.push(i)})),r._doCompaction(t,c,n)}))})),Sr.prototype.compact=tn("compact",(function(t,e){"function"==typeof t&&(e=t,t={});var n=this;t=t||{},n._compactionQueue=n._compactionQueue||[],n._compactionQueue.push({opts:t,callback:e}),1===n._compactionQueue.length&&Er(n)})),Sr.prototype._compact=function(t,e){var n=this,r={return_docs:!1,last_seq:t.last_seq||0},o=[];n.changes(r).on("change",(function(t){o.push(n.compactDocument(t.id,0))})).on("complete",(function(t){var r=t.last_seq;Promise.all(o).then((function(){return Fn(n,"_local/compaction",(function(t){return(!t.last_seq||t.last_seq<r)&&(t.last_seq=r,t)}))})).then((function(){e(null,{ok:!0})})).catch(e)})).on("error",e)},Sr.prototype.get=tn("get",(function(t,e,n){if("function"==typeof e&&(n=e,e={}),"string"!=typeof t)return n(An(mn));if(wr(t)&&"function"==typeof this._getLocal)return this._getLocal(t,n);var r=[],o=this;function i(){var i=[],a=r.length;if(!a)return n(null,i);r.forEach((function(r){o.get(t,{rev:r,revs:e.revs,latest:e.latest,attachments:e.attachments,binary:e.binary},(function(t,e){if(t)i.push({missing:r});else{for(var o,s=0,c=i.length;s<c;s++)if(i[s].ok&&i[s].ok._rev===e._rev){o=!0;break}o||i.push({ok:e})}--a||n(null,i)}))}))}if(!e.open_revs)return this._get(t,e,(function(r,i){if(r)return r.docId=t,n(r);var a=i.doc,s=i.metadata,c=i.ctx;if(e.conflicts){var u=lr(s);u.length&&(a._conflicts=u)}if(br(s,a._rev)&&(a._deleted=!0),e.revs||e.revs_info){for(var l=a._rev.split("-"),f=parseInt(l[0],10),d=l[1],h=fr(s.rev_tree),p=null,v=0;v<h.length;v++){var g=h[v],m=g.ids.map((function(t){return t.id})).indexOf(d);(m===f-1||!p&&-1!==m)&&(p=g)}if(!p)return(r=new Error("invalid rev tree")).docId=t,n(r);var y=p.ids.map((function(t){return t.id})).indexOf(a._rev.split("-")[1])+1,_=p.ids.length-y;if(p.ids.splice(y,_),p.ids.reverse(),e.revs&&(a._revisions={start:p.pos+p.ids.length-1,ids:p.ids.map((function(t){return t.id}))}),e.revs_info){var b=p.pos+p.ids.length;a._revs_info=p.ids.map((function(t){return{rev:--b+"-"+t.id,status:t.opts.status}}))}}if(e.attachments&&a._attachments){var w=a._attachments,x=Object.keys(w).length;if(0===x)return n(null,a);Object.keys(w).forEach((function(t){this._getAttachment(a._id,t,w[t],{rev:a._rev,binary:e.binary,ctx:c},(function(e,r){var o=a._attachments[t];o.data=r,delete o.stub,delete o.length,--x||n(null,a)}))}),o)}else{if(a._attachments)for(var $ in a._attachments)a._attachments.hasOwnProperty($)&&(a._attachments[$].stub=!0);n(null,a)}}));if("all"===e.open_revs)this._getRevisionTree(t,(function(t,e){if(t)return n(t);r=ur(e).map((function(t){return t.rev})),i()}));else{if(!Array.isArray(e.open_revs))return n(An(bn,"function_clause"));r=e.open_revs;for(var a=0;a<r.length;a++){var s=r[a];if("string"!=typeof s||!/^\d+-/.test(s))return n(An(En))}i()}})),Sr.prototype.getAttachment=tn("getAttachment",(function(t,e,n,r){var o=this;n instanceof Function&&(r=n,n={}),this._get(t,n,(function(i,a){return i?r(i):a.doc._attachments&&a.doc._attachments[e]?(n.ctx=a.ctx,n.binary=!0,void o._getAttachment(t,e,a.doc._attachments[e],n,r)):r(An(vn))}))})),Sr.prototype.allDocs=tn("allDocs",(function(t,e){if("function"==typeof t&&(e=t,t={}),t.skip=void 0!==t.skip?t.skip:0,t.start_key&&(t.startkey=t.start_key),t.end_key&&(t.endkey=t.end_key),"keys"in t){if(!Array.isArray(t.keys))return e(new TypeError("options.keys must be an array"));var n=["startkey","endkey","key"].filter((function(e){return e in t}))[0];if(n)return void e(An(xn,"Query parameter `"+n+"` is not compatible with multi-get"));if(!Mn(this)&&(function(t){var e="limit"in t?t.keys.slice(t.skip,t.limit+t.skip):t.skip>0?t.keys.slice(t.skip):t.keys;t.keys=e,t.skip=0,delete t.limit,t.descending&&(e.reverse(),t.descending=!1)}(t),0===t.keys.length))return this._allDocs({limit:0},e)}return this._allDocs(t,e)})),Sr.prototype.changes=function(t,e){return"function"==typeof t&&(e=t,t={}),(t=t||{}).return_docs="return_docs"in t?t.return_docs:!t.live,new xr(this,t,e)},Sr.prototype.close=tn("close",(function(t){return this._closed=!0,this.emit("closed"),this._close(t)})),Sr.prototype.info=tn("info",(function(t){var e=this;this._info((function(n,r){if(n)return t(n);r.db_name=r.db_name||e.name,r.auto_compaction=!(!e.auto_compaction||Mn(e)),r.adapter=e.adapter,t(null,r)}))})),Sr.prototype.id=tn("id",(function(t){return this._id(t)})),Sr.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},Sr.prototype.bulkDocs=tn("bulkDocs",(function(t,e,n){if("function"==typeof e&&(n=e,e={}),e=e||{},Array.isArray(t)&&(t={docs:t}),!t||!t.docs||!Array.isArray(t.docs))return n(An(pn));for(var r=0;r<t.docs.length;++r)if("object"!=typeof t.docs[r]||Array.isArray(t.docs[r]))return n(An(Cn));var o;if(t.docs.forEach((function(t){t._attachments&&Object.keys(t._attachments).forEach((function(e){o=o||function(t){return"_"===t.charAt(0)&&t+" is not a valid attachment name, attachment names cannot start with '_'"}(e),t._attachments[e].content_type||un("warn","Attachment",e,"on document",t._id,"is missing content_type")}))})),o)return n(An(kn,o));"new_edits"in e||(e.new_edits=!("new_edits"in t)||t.new_edits);var i=this;e.new_edits||Mn(i)||t.docs.sort(Or),function(t){for(var e=0;e<t.length;e++){var n=t[e];if(n._deleted)delete n._attachments;else if(n._attachments)for(var r=Object.keys(n._attachments),o=0;o<r.length;o++){var i=r[o];n._attachments[i]=en(n._attachments[i],["data","digest","content_type","length","revpos","stub"])}}}(t.docs);var a=t.docs.map((function(t){return t._id}));return this._bulkDocs(t,e,(function(t,r){if(t)return n(t);if(e.new_edits||(r=r.filter((function(t){return t.error}))),!Mn(i))for(var o=0,s=r.length;o<s;o++)r[o].id=r[o].id||a[o];n(null,r)}))})),Sr.prototype.registerDependentDatabase=tn("registerDependentDatabase",(function(t,e){var n=new this.constructor(t,this.__opts);Fn(this,"_local/_pouch_dependentDbs",(function(e){return e.dependentDbs=e.dependentDbs||{},!e.dependentDbs[t]&&(e.dependentDbs[t]=!0,e)})).then((function(){e(null,{db:n})})).catch(e)})),Sr.prototype.destroy=tn("destroy",(function(t,e){"function"==typeof t&&(e=t,t={});var n=this,r=!("use_prefix"in n)||n.use_prefix;function o(){n._destroy(t,(function(t,r){if(t)return e(t);n._destroyed=!0,n.emit("destroyed"),e(null,r||{ok:!0})}))}if(Mn(n))return o();n.get("_local/_pouch_dependentDbs",(function(t,i){if(t)return 404!==t.status?e(t):o();var a=i.dependentDbs,s=n.constructor,c=Object.keys(a).map((function(t){var e=r?t.replace(new RegExp("^"+s.prefix),""):t;return new s(e,n.__opts).destroy()}));Promise.all(c).then(o,e)}))})),Ar.prototype.execute=function(){var t;if(this.failed)for(;t=this.queue.shift();)t(this.failed);else for(;t=this.queue.shift();)t()},Ar.prototype.fail=function(t){this.failed=t,this.execute()},Ar.prototype.ready=function(t){this.isReady=!0,this.db=t,this.execute()},Ar.prototype.addTask=function(t){this.queue.push(t),this.failed&&this.execute()},je(Rr,Sr);var jr="undefined"!=typeof AbortController?AbortController:function(){return{abort:function(){}}},Pr=fetch,Dr=Headers;Rr.adapters={},Rr.preferredAdapters=[],Rr.prefix="_pouch_";var Mr=new De;!function(t){Object.keys(De.prototype).forEach((function(e){"function"==typeof De.prototype[e]&&(t[e]=Mr[e].bind(Mr))}));var e=t._destructionListeners=new Re;t.on("ref",(function(t){e.has(t.name)||e.set(t.name,[]),e.get(t.name).push(t)})),t.on("unref",(function(t){if(e.has(t.name)){var n=e.get(t.name),r=n.indexOf(t);r<0||(n.splice(r,1),n.length>1?e.set(t.name,n):e.delete(t.name))}})),t.on("destroyed",(function(t){if(e.has(t)){var n=e.get(t);e.delete(t),n.forEach((function(t){t.emit("destroyed",!0)}))}}))}(Rr),Rr.adapter=function(t,e,n){e.valid()&&(Rr.adapters[t]=e,n&&Rr.preferredAdapters.push(t))},Rr.plugin=function(t){if("function"==typeof t)t(Rr);else{if("object"!=typeof t||0===Object.keys(t).length)throw new Error('Invalid plugin: got "'+t+'", expected an object or a function');Object.keys(t).forEach((function(e){Rr.prototype[e]=t[e]}))}return this.__defaults&&(Rr.__defaults=dn({},this.__defaults)),Rr},Rr.defaults=function(t){function e(t,n){if(!(this instanceof e))return new e(t,n);n=n||{},t&&"object"==typeof t&&(t=(n=t).name,delete n.name),n=dn({},e.__defaults,n),Rr.call(this,t,n)}return je(e,Rr),e.preferredAdapters=Rr.preferredAdapters.slice(),Object.keys(Rr).forEach((function(t){t in e||(e[t]=Rr[t])})),e.__defaults=dn({},this.__defaults,t),e},Rr.fetch=function(t,e){return Pr(t,e)};function Tr(t,e){for(var n=t,r=0,o=e.length;r<o;r++){if(!(n=n[e[r]]))break}return n}function Ir(t){for(var e=[],n="",r=0,o=t.length;r<o;r++){var i=t[r];"."===i?r>0&&"\\"===t[r-1]?n=n.substring(0,n.length-1)+".":(e.push(n),n=""):n+=i}return e.push(n),e}var Lr=["$or","$nor","$not"];function qr(t){return Lr.indexOf(t)>-1}function zr(t){return Object.keys(t)[0]}function Nr(t){var e={};return t.forEach((function(t){Object.keys(t).forEach((function(n){var r=t[n];if("object"!=typeof r&&(r={$eq:r}),qr(n))e[n]=r instanceof Array?r.map((function(t){return Nr([t])})):Nr([r]);else{var o=e[n]=e[n]||{};Object.keys(r).forEach((function(t){var e=r[t];return"$gt"===t||"$gte"===t?function(t,e,n){if(void 0!==n.$eq)return;void 0!==n.$gte?"$gte"===t?e>n.$gte&&(n.$gte=e):e>=n.$gte&&(delete n.$gte,n.$gt=e):void 0!==n.$gt?"$gte"===t?e>n.$gt&&(delete n.$gt,n.$gte=e):e>n.$gt&&(n.$gt=e):n[t]=e}(t,e,o):"$lt"===t||"$lte"===t?function(t,e,n){if(void 0!==n.$eq)return;void 0!==n.$lte?"$lte"===t?e<n.$lte&&(n.$lte=e):e<=n.$lte&&(delete n.$lte,n.$lt=e):void 0!==n.$lt?"$lte"===t?e<n.$lt&&(delete n.$lt,n.$lte=e):e<n.$lt&&(n.$lt=e):n[t]=e}(t,e,o):"$ne"===t?function(t,e){"$ne"in e?e.$ne.push(t):e.$ne=[t]}(e,o):"$eq"===t?function(t,e){delete e.$gt,delete e.$gte,delete e.$lt,delete e.$lte,delete e.$ne,e.$eq=t}(e,o):void(o[t]=e)}))}}))})),e}function Ur(t){for(var e in t){if(Array.isArray(t))for(var n in t)t[n].$and&&(t[n]=Nr(t[n].$and));var r=t[e];"object"==typeof r&&Ur(r)}return t}function Br(t,e){for(var n in t){"$and"===n&&(e=!0);var r=t[n];"object"==typeof r&&(e=Br(r,e))}return e}function Fr(t){var e=Qe(t),n=!1;Br(e,!1)&&("$and"in(e=Ur(e))&&(e=Nr(e.$and)),n=!0),["$or","$nor"].forEach((function(t){t in e&&e[t].forEach((function(t){for(var e=Object.keys(t),n=0;n<e.length;n++){var r=e[n],o=t[r];"object"==typeof o&&null!==o||(t[r]={$eq:o})}}))})),"$not"in e&&(e.$not=Nr([e.$not]));for(var r=Object.keys(e),o=0;o<r.length;o++){var i=r[o],a=e[i];"object"!=typeof a||null===a?a={$eq:a}:"$ne"in a&&!n&&(a.$ne=[a.$ne]),e[i]=a}return e}var Wr=-324;function Vr(t,e){if(t===e)return 0;t=Gr(t),e=Gr(e);var n=Qr(t),r=Qr(e);if(n-r!=0)return n-r;switch(typeof t){case"number":return t-e;case"boolean":return t<e?-1:1;case"string":return function(t,e){return t===e?0:t>e?1:-1}(t,e)}return Array.isArray(t)?function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var o=Vr(t[r],e[r]);if(0!==o)return o}return t.length===e.length?0:t.length>e.length?1:-1}(t,e):function(t,e){for(var n=Object.keys(t),r=Object.keys(e),o=Math.min(n.length,r.length),i=0;i<o;i++){var a=Vr(n[i],r[i]);if(0!==a)return a;if(0!==(a=Vr(t[n[i]],e[r[i]])))return a}return n.length===r.length?0:n.length>r.length?1:-1}(t,e)}function Gr(t){switch(typeof t){case"undefined":return null;case"number":return t===1/0||t===-1/0||isNaN(t)?null:t;case"object":var e=t;if(Array.isArray(t)){var n=t.length;t=new Array(n);for(var r=0;r<n;r++)t[r]=Gr(e[r])}else{if(t instanceof Date)return t.toJSON();if(null!==t)for(var o in t={},e)if(e.hasOwnProperty(o)){var i=e[o];void 0!==i&&(t[o]=Gr(i))}}}return t}function Hr(t){if(null!==t)switch(typeof t){case"boolean":return t?1:0;case"number":return function(t){if(0===t)return"1";var e=t.toExponential().split(/e\+?/),n=parseInt(e[1],10),r=t<0,o=r?"0":"2",i=(a=((r?-n:n)-Wr).toString(),s="0",c=3,function(t,e,n){for(var r="",o=n-t.length;r.length<o;)r+=e;return r}(a,s,c)+a);var a,s,c;o+=""+i;var u=Math.abs(parseFloat(e[0]));r&&(u=10-u);var l=u.toFixed(20);return l=l.replace(/\.?0+$/,""),o+=""+l}(t);case"string":return t.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var e=Array.isArray(t),n=e?t:Object.keys(t),r=-1,o=n.length,i="";if(e)for(;++r<o;)i+=Kr(n[r]);else for(;++r<o;){var a=n[r];i+=Kr(a)+Kr(t[a])}return i}return""}function Kr(t){return Qr(t=Gr(t))+""+Hr(t)+"\0"}function Jr(t,e){var n,r=e;if("1"===t[e])n=0,e++;else{var o="0"===t[e];e++;var i="",a=t.substring(e,e+3),s=parseInt(a,10)+Wr;for(o&&(s=-s),e+=3;;){var c=t[e];if("\0"===c)break;i+=c,e++}n=1===(i=i.split(".")).length?parseInt(i,10):parseFloat(i[0]+"."+i[1]),o&&(n-=10),0!==s&&(n=parseFloat(n+"e"+s))}return{num:n,length:e-r}}function Xr(t,e){var n=t.pop();if(e.length){var r=e[e.length-1];n===r.element&&(e.pop(),r=e[e.length-1]);var o=r.element,i=r.index;if(Array.isArray(o))o.push(n);else if(i===t.length-2){o[t.pop()]=n}else t.push(n)}}function Qr(t){var e=["boolean","number","string","object"].indexOf(typeof t);return~e?null===t?1:Array.isArray(t)?5:e<3?e+2:e+3:Array.isArray(t)?5:void 0}function Yr(t,e,n){if(t=t.filter((function(t){return Zr(t.doc,e.selector,n)})),e.sort){var r=function(t){function e(e){return t.map((function(t){var n=Ir(zr(t));return Tr(e,n)}))}return function(t,n){var r,o,i=Vr(e(t.doc),e(n.doc));return 0!==i?i:(r=t.doc._id)<(o=n.doc._id)?-1:r>o?1:0}}(e.sort);t=t.sort(r),"string"!=typeof e.sort[0]&&"desc"===(o=e.sort[0])[zr(o)]&&(t=t.reverse())}var o;if("limit"in e||"skip"in e){var i=e.skip||0,a=("limit"in e?e.limit:t.length)+i;t=t.slice(i,a)}return t}function Zr(t,e,n){return n.every((function(n){var r=e[n],o=Ir(n),i=Tr(t,o);return qr(n)?function(t,e,n){if("$or"===t)return e.some((function(t){return Zr(n,t,Object.keys(t))}));if("$not"===t)return!Zr(n,e,Object.keys(e));return!e.find((function(t){return Zr(n,t,Object.keys(t))}))}(n,r,t):to(r,t,o,i)}))}function to(t,e,n,r){return!t||("object"==typeof t?Object.keys(t).every((function(o){var i=t[o];return function(t,e,n,r,o){if(!oo[t])throw new Error('unknown operator "'+t+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return oo[t](e,n,r,o)}(o,e,i,n,r)})):t===r)}function eo(t){return null!=t}function no(t){return void 0!==t}function ro(t,e){return e.some((function(e){return t instanceof Array?t.indexOf(e)>-1:t===e}))}var oo={$elemMatch:function(t,e,n,r){return!!Array.isArray(r)&&(0!==r.length&&("object"==typeof r[0]?r.some((function(t){return Zr(t,e,Object.keys(e))})):r.some((function(r){return to(e,t,n,r)}))))},$allMatch:function(t,e,n,r){return!!Array.isArray(r)&&(0!==r.length&&("object"==typeof r[0]?r.every((function(t){return Zr(t,e,Object.keys(e))})):r.every((function(r){return to(e,t,n,r)}))))},$eq:function(t,e,n,r){return no(r)&&0===Vr(r,e)},$gte:function(t,e,n,r){return no(r)&&Vr(r,e)>=0},$gt:function(t,e,n,r){return no(r)&&Vr(r,e)>0},$lte:function(t,e,n,r){return no(r)&&Vr(r,e)<=0},$lt:function(t,e,n,r){return no(r)&&Vr(r,e)<0},$exists:function(t,e,n,r){return e?no(r):!no(r)},$mod:function(t,e,n,r){return eo(r)&&function(t,e){var n=e[0],r=e[1];if(0===n)throw new Error("Bad divisor, cannot divide by zero");if(parseInt(n,10)!==n)throw new Error("Divisor is not an integer");if(parseInt(r,10)!==r)throw new Error("Modulus is not an integer");return parseInt(t,10)===t&&t%n===r}(r,e)},$ne:function(t,e,n,r){return e.every((function(t){return 0!==Vr(r,t)}))},$in:function(t,e,n,r){return eo(r)&&ro(r,e)},$nin:function(t,e,n,r){return eo(r)&&!ro(r,e)},$size:function(t,e,n,r){return eo(r)&&function(t,e){return t.length===e}(r,e)},$all:function(t,e,n,r){return Array.isArray(r)&&function(t,e){return e.every((function(e){return t.indexOf(e)>-1}))}(r,e)},$regex:function(t,e,n,r){return eo(r)&&function(t,e){return new RegExp(e).test(t)}(r,e)},$type:function(t,e,n,r){return function(t,e){switch(e){case"null":return null===t;case"boolean":return"boolean"==typeof t;case"number":return"number"==typeof t;case"string":return"string"==typeof t;case"array":return t instanceof Array;case"object":return"[object Object]"==={}.toString.call(t)}throw new Error(e+" not supported as a type.Please use one of object, string, array, number, boolean or null.")}(r,e)}};function io(t,e){if(t.selector&&t.filter&&"_selector"!==t.filter){var n="string"==typeof t.filter?t.filter:"function";return e(new Error('selector invalid for filter "'+n+'"'))}e()}function ao(t){t.view&&!t.filter&&(t.filter="_view"),t.selector&&!t.filter&&(t.filter="_selector"),t.filter&&"string"==typeof t.filter&&("_view"===t.filter?t.view=In(t.view):t.filter=In(t.filter))}function so(t,e){return e.filter&&"string"==typeof e.filter&&!e.doc_ids&&!Mn(t.db)}function co(t,e){var n=e.complete;if("_view"===e.filter){if(!e.view||"string"!=typeof e.view){var r=An(kn,"`view` filter parameter not found or invalid.");return n(r)}var o=Tn(e.view);t.db.get("_design/"+o[0],(function(r,i){if(t.isCancelled)return n(null,{status:"cancelled"});if(r)return n(Rn(r));var a=i&&i.views&&i.views[o[1]]&&i.views[o[1]].map;if(!a)return n(An(vn,i.views?"missing json key: "+o[1]:"missing json key: views"));e.filter=Bn(["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+a+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join("\n"),{}),t.doChanges(e)}))}else if(e.selector)e.filter=function(t){return function(t,e){if("object"!=typeof e)throw new Error("Selector error: expected a JSON object");var n=Yr([{doc:t}],{selector:e=Fr(e)},Object.keys(e));return n&&1===n.length}(t,e.selector)},t.doChanges(e);else{var i=Tn(e.filter);t.db.get("_design/"+i[0],(function(r,o){if(t.isCancelled)return n(null,{status:"cancelled"});if(r)return n(Rn(r));var a=o&&o.filters&&o.filters[i[1]];if(!a)return n(An(vn,o&&o.filters?"missing json key: "+i[1]:"missing json key: filters"));e.filter=Bn('"use strict";\nreturn '+a+";",{}),t.doChanges(e)}))}}function uo(t){return t.reduce((function(t,e){return t[e]=!0,t}),{})}Rr.plugin((function(t){t._changesFilterPlugin={validate:io,normalize:ao,shouldFilter:so,filter:co}})),Rr.version="7.2.2";var lo=uo(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),fo=uo(["_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);function ho(t){if(!/^\d+-/.test(t))return An(En);var e=t.indexOf("-"),n=t.substring(0,e),r=t.substring(e+1);return{prefix:parseInt(n,10),id:r}}function po(t,e,n){var r,o,i;n||(n={deterministic_revs:!0});var a={status:"available"};if(t._deleted&&(a.deleted=!0),e)if(t._id||(t._id=ir()),o=or(t,n.deterministic_revs),t._rev){if((i=ho(t._rev)).error)return i;t._rev_tree=[{pos:i.prefix,ids:[i.id,{status:"missing"},[[o,a,[]]]]}],r=i.prefix+1}else t._rev_tree=[{pos:1,ids:[o,a,[]]}],r=1;else if(t._revisions&&(t._rev_tree=function(t,e){for(var n=t.start-t.ids.length+1,r=t.ids,o=[r[0],e,[]],i=1,a=r.length;i<a;i++)o=[r[i],{status:"missing"},[o]];return[{pos:n,ids:o}]}(t._revisions,a),r=t._revisions.start,o=t._revisions.ids[0]),!t._rev_tree){if((i=ho(t._rev)).error)return i;r=i.prefix,o=i.id,t._rev_tree=[{pos:r,ids:[o,a,[]]}]}Dn(t._id),t._rev=r+"-"+o;var s={metadata:{},data:{}};for(var c in t)if(Object.prototype.hasOwnProperty.call(t,c)){var u="_"===c[0];if(u&&!lo[c]){var l=An($n,c);throw l.message=$n.message+": "+c,l}u&&!fo[c]?s.metadata[c.slice(1)]=t[c]:s.data[c]=t[c]}return s}function vo(t,e,n){var r=function(t){try{return Wn(t)}catch(t){return{error:An(wn,"Attachment is not a valid base64 string")}}}(t.data);if(r.error)return n(r.error);t.length=r.length,t.data="blob"===e?Kn(r,t.content_type):"base64"===e?Vn(r):r,nr(r,(function(e){t.digest="md5-"+e,n()}))}function go(t,e,n){if(t.stub)return n();"string"==typeof t.data?vo(t,e,n):function(t,e,n){nr(t.data,(function(r){t.digest="md5-"+r,t.length=t.data.size||t.data.length||0,"binary"===e?Qn(t.data,(function(e){t.data=e,n()})):"base64"===e?Yn(t.data,(function(e){t.data=e,n()})):n()}))}(t,e,n)}function mo(t,e,n,r,o,i,a,s){if(function(t,e){for(var n,r=t.slice(),o=e.split("-"),i=parseInt(o[0],10),a=o[1];n=r.pop();){if(n.pos===i&&n.ids[0]===a)return!0;for(var s=n.ids[2],c=0,u=s.length;c<u;c++)r.push({pos:n.pos+1,ids:s[c]})}return!1}(e.rev_tree,n.metadata.rev)&&!s)return r[o]=n,i();var c=e.winningRev||ar(e),u="deleted"in e?e.deleted:br(e,c),l="deleted"in n.metadata?n.metadata.deleted:br(n.metadata),f=/^1-/.test(n.metadata.rev);if(u&&!l&&s&&f){var d=n.data;d._rev=c,d._id=n.metadata.id,n=po(d,s)}var h=yr(e.rev_tree,n.metadata.rev_tree[0],t);if(s&&(u&&l&&"new_leaf"!==h.conflicts||!u&&"new_leaf"!==h.conflicts||u&&!l&&"new_branch"===h.conflicts)){var p=An(gn);return r[o]=p,i()}var v=n.metadata.rev;n.metadata.rev_tree=h.tree,n.stemmedRevs=h.stemmedRevs||[],e.rev_map&&(n.metadata.rev_map=e.rev_map);var g=ar(n.metadata),m=br(n.metadata,g),y=u===m?0:u<m?-1:1;a(n,g,m,v===g?m:br(n.metadata,v),!0,y,o,i)}function yo(t,e,n,r,o,i,a,s,c){t=t||1e3;var u=s.new_edits,l=new Re,f=0,d=e.length;function h(){++f===d&&c&&c()}e.forEach((function(t,e){if(t._id&&wr(t._id)){var r=t._deleted?"_removeLocal":"_putLocal";n[r](t,{ctx:o},(function(t,n){i[e]=t||n,h()}))}else{var a=t.metadata.id;l.has(a)?(d--,l.get(a).push([t,e])):l.set(a,[[t,e]])}})),l.forEach((function(e,n){var o=0;function c(){++o<e.length?l():h()}function l(){var l=e[o],f=l[0],d=l[1];if(r.has(n))mo(t,r.get(n),f,i,d,c,a,u);else{var h=yr([],f.metadata.rev_tree[0],t);f.metadata.rev_tree=h.tree,f.stemmedRevs=h.stemmedRevs||[],function(t,e,n){var r=ar(t.metadata),o=br(t.metadata,r);if("was_delete"in s&&o)return i[e]=An(vn,"deleted"),n();if(u&&function(t){return"missing"===t.metadata.rev_tree[0].ids[1].status}(t)){var c=An(gn);return i[e]=c,n()}a(t,r,o,o,!1,o?0:1,e,n)}(f,d,c)}}l()}))}var _o="document-store",bo="by-sequence",wo="attach-store",xo="attach-seq-store",$o="meta-store",ko="local-store",Co="detect-blob-support";function Oo(t){try{return JSON.stringify(t)}catch(e){return Oe(t)}}function Eo(t){return function(e){var n="unknown_error";e.target&&e.target.error&&(n=e.target.error.name||e.target.error.message),t(An(On,n,e.type))}}function So(t,e,n){return{data:Oo(t),winningRev:e,deletedOrLocal:n?"1":"0",seq:t.seq,id:t.id}}function Ao(t){if(!t)return null;var e=function(t){try{return JSON.parse(t)}catch(e){return Ee(t)}}(t.data);return e.winningRev=t.winningRev,e.deleted="1"===t.deletedOrLocal,e.seq=t.seq,e}function Ro(t){if(!t)return t;var e=t._doc_id_rev.lastIndexOf(":");return t._id=t._doc_id_rev.substring(0,e-1),t._rev=t._doc_id_rev.substring(e+1),delete t._doc_id_rev,t}function jo(t,e,n,r){n?r(t?"string"!=typeof t?t:Jn(t,e):Gn([""],{type:e})):t?"string"!=typeof t?Xn(t,(function(t){r(Vn(t))})):r(t):r("")}function Po(t,e,n,r){var o=Object.keys(t._attachments||{});if(!o.length)return r&&r();var i=0;function a(){++i===o.length&&r&&r()}o.forEach((function(r){e.attachments&&e.include_docs?function(t,e){var r=t._attachments[e],o=r.digest;n.objectStore(wo).get(o).onsuccess=function(t){r.body=t.target.result.body,a()}}(t,r):(t._attachments[r].stub=!0,a())}))}function Do(t,e){return Promise.all(t.map((function(t){if(t.doc&&t.doc._attachments){var n=Object.keys(t.doc._attachments);return Promise.all(n.map((function(n){var r=t.doc._attachments[n];if("body"in r){var o=r.body,i=r.content_type;return new Promise((function(a){jo(o,i,e,(function(e){t.doc._attachments[n]=dn(en(r,["digest","content_type"]),{data:e}),a()}))}))}})))}})))}function Mo(t,e,n){var r=[],o=n.objectStore(bo),i=n.objectStore(wo),a=n.objectStore(xo),s=t.length;function c(){--s||function(){if(!r.length)return;r.forEach((function(t){a.index("digestSeq").count(IDBKeyRange.bound(t+"::",t+"::",!1,!1)).onsuccess=function(e){e.target.result||i.delete(t)}}))}()}t.forEach((function(t){var n=o.index("_doc_id_rev"),i=e+"::"+t;n.getKey(i).onsuccess=function(t){var e=t.target.result;if("number"!=typeof e)return c();o.delete(e),a.index("seq").openCursor(IDBKeyRange.only(e)).onsuccess=function(t){var e=t.target.result;if(e){var n=e.value.digestSeq.split("::")[0];r.push(n),a.delete(e.primaryKey),e.continue()}else c()}}}))}function To(t,e,n){try{return{txn:t.transaction(e,n)}}catch(t){return{error:t}}}var Io=new cn;function Lo(t,e,n,r,o,i){for(var a,s,c,u,l,f,d,h,p=e.docs,v=0,g=p.length;v<g;v++){var m=p[v];m._id&&wr(m._id)||(m=p[v]=po(m,n.new_edits,t)).error&&!d&&(d=m)}if(d)return i(d);var y=!1,_=0,b=new Array(p.length),w=new Re,x=!1,$=r._meta.blobSupport?"blob":"base64";function k(){y=!0,C()}function C(){h&&y&&(h.docCount+=_,f.put(h))}function O(){x||(Io.notify(r._meta.name),i(null,b))}function E(t,e,n,r,o,i,a,s){t.metadata.winningRev=e,t.metadata.deleted=n;var c=t.data;if(c._id=t.metadata.id,c._rev=t.metadata.rev,r&&(c._deleted=!0),c._attachments&&Object.keys(c._attachments).length)return function(t,e,n,r,o,i){var a=t.data,s=0,c=Object.keys(a._attachments);function l(){s===c.length&&S(t,e,n,r,o,i)}function f(){s++,l()}c.forEach((function(n){var r=t.data._attachments[n];if(r.stub)s++,l();else{var o=r.data;delete r.data,r.revpos=parseInt(e,10),function(t,e,n){u.count(t).onsuccess=function(r){if(r.target.result)return n();var o={digest:t,body:e};u.put(o).onsuccess=n}}(r.digest,o,f)}}))}(t,e,n,o,a,s);_+=i,C(),S(t,e,n,o,a,s)}function S(t,e,n,o,i,u){var f=t.data,d=t.metadata;function h(i){var c=t.stemmedRevs||[];o&&r.auto_compaction&&(c=c.concat(function(t){var e=[];return sr(t.rev_tree,(function(t,n,r,o,i){"available"!==i.status||t||(e.push(n+"-"+r),i.status="missing")})),e}(t.metadata))),c&&c.length&&Mo(c,t.metadata.id,a),d.seq=i.target.result;var u=So(d,e,n);s.put(u).onsuccess=p}function p(){b[i]={ok:!0,id:d.id,rev:d.rev},w.set(t.metadata.id,t.metadata),function(t,e,n){var r=0,o=Object.keys(t.data._attachments||{});if(!o.length)return n();function i(){++r===o.length&&n()}function a(n){var r=t.data._attachments[n].digest,o=l.put({seq:e,digestSeq:r+"::"+e});o.onsuccess=i,o.onerror=function(t){t.preventDefault(),t.stopPropagation(),i()}}for(var s=0;s<o.length;s++)a(o[s])}(t,d.seq,u)}f._doc_id_rev=d.id+"::"+d.rev,delete f._id,delete f._rev;var v=c.put(f);v.onsuccess=h,v.onerror=function(t){t.preventDefault(),t.stopPropagation(),c.index("_doc_id_rev").getKey(f._doc_id_rev).onsuccess=function(t){c.put(f,t.target.result).onsuccess=h}}}!function(t,e,n){if(!t.length)return n();var r,o=0;function i(){o++,t.length===o&&(r?n(r):n())}t.forEach((function(t){var n=t.data&&t.data._attachments?Object.keys(t.data._attachments):[],o=0;if(!n.length)return i();function a(t){r=t,++o===n.length&&i()}for(var s in t.data._attachments)t.data._attachments.hasOwnProperty(s)&&go(t.data._attachments[s],e,a)}))}(p,$,(function(e){if(e)return i(e);!function(){var e=To(o,[_o,bo,wo,ko,xo,$o],"readwrite");if(e.error)return i(e.error);(a=e.txn).onabort=Eo(i),a.ontimeout=Eo(i),a.oncomplete=O,s=a.objectStore(_o),c=a.objectStore(bo),u=a.objectStore(wo),l=a.objectStore(xo),(f=a.objectStore($o)).get($o).onsuccess=function(t){h=t.target.result,C()},function(t){var e=[];if(p.forEach((function(t){t.data&&t.data._attachments&&Object.keys(t.data._attachments).forEach((function(n){var r=t.data._attachments[n];r.stub&&e.push(r.digest)}))})),!e.length)return t();var n,r=0;function o(){++r===e.length&&t(n)}e.forEach((function(t){!function(t,e){u.get(t).onsuccess=function(n){if(n.target.result)e();else{var r=An(Sn,"unknown stub attachment with digest "+t);r.status=412,e(r)}}}(t,(function(t){t&&!n&&(n=t),o()}))}))}((function(e){if(e)return x=!0,i(e);!function(){if(!p.length)return;var e=0;function o(){++e===p.length&&yo(t.revs_limit,p,r,w,a,b,E,n,k)}function i(t){var e=Ao(t.target.result);e&&w.set(e.id,e),o()}for(var c=0,u=p.length;c<u;c++){var l=p[c];if(l._id&&wr(l._id))o();else s.get(l.metadata.id).onsuccess=i}}()}))}()}))}function qo(t,e,n,r,o){var i,a,s;function c(t){a=t.target.result,i&&o(i,a,s)}function u(t){i=t.target.result,a&&o(i,a,s)}function l(t){var e=t.target.result;if(!e)return o();o([e.key],[e.value],e)}-1===r&&(r=1e3),"function"==typeof t.getAll&&"function"==typeof t.getAllKeys&&r>1&&!n?(s={continue:function(){if(!i.length)return o();var n,s=i[i.length-1];if(e&&e.upper)try{n=IDBKeyRange.bound(s,e.upper,!0,e.upperOpen)}catch(t){if("DataError"===t.name&&0===t.code)return o()}else n=IDBKeyRange.lowerBound(s,!0);e=n,i=null,a=null,t.getAll(e,r).onsuccess=c,t.getAllKeys(e,r).onsuccess=u}},t.getAll(e,r).onsuccess=c,t.getAllKeys(e,r).onsuccess=u):n?t.openCursor(e,"prev").onsuccess=l:t.openCursor(e).onsuccess=l}function zo(t,e,n){var r,o,i="startkey"in t&&t.startkey,a="endkey"in t&&t.endkey,s="key"in t&&t.key,c="keys"in t&&t.keys,u=t.skip||0,l="number"==typeof t.limit?t.limit:-1,f=!1!==t.inclusive_end;if(!c&&(o=(r=function(t,e,n,r,o){try{if(t&&e)return o?IDBKeyRange.bound(e,t,!n,!1):IDBKeyRange.bound(t,e,!1,!n);if(t)return o?IDBKeyRange.upperBound(t):IDBKeyRange.lowerBound(t);if(e)return o?IDBKeyRange.lowerBound(e,!n):IDBKeyRange.upperBound(e,!n);if(r)return IDBKeyRange.only(r)}catch(t){return{error:t}}return null}(i,a,f,s,t.descending))&&r.error)&&("DataError"!==o.name||0!==o.code))return n(An(On,o.name,o.message));var d=[_o,bo,$o];t.attachments&&d.push(wo);var h=To(e,d,"readonly");if(h.error)return n(h.error);var p=h.txn;p.oncomplete=function(){t.attachments?Do(w,t.binary).then(C):C()},p.onabort=Eo(n);var v,g,m=p.objectStore(_o),y=p.objectStore(bo),_=p.objectStore($o),b=y.index("_doc_id_rev"),w=[];function x(e,n){var r={id:n.id,key:n.id,value:{rev:e}};n.deleted?c&&(w.push(r),r.value.deleted=!0,r.doc=null):u--<=0&&(w.push(r),t.include_docs&&function(e,n,r){var o=e.id+"::"+r;b.get(o).onsuccess=function(r){if(n.doc=Ro(r.target.result)||{},t.conflicts){var o=lr(e);o.length&&(n.doc._conflicts=o)}Po(n.doc,t,p)}}(n,r,e))}function $(t){for(var e=0,n=t.length;e<n&&w.length!==l;e++){var r=t[e];if(r.error&&c)w.push(r);else{var o=Ao(r);x(o.winningRev,o)}}}function k(t,e,n){n&&($(e),w.length<l&&n.continue())}function C(){var e={total_rows:v,offset:t.skip,rows:w};t.update_seq&&void 0!==g&&(e.update_seq=g),n(null,e)}return _.get($o).onsuccess=function(t){v=t.target.result.docCount},t.update_seq&&function(t,e){function n(t){var n=t.target.result,r=void 0;return n&&n.key&&(r=n.key),e({target:{result:[r]}})}t.openCursor(null,"prev").onsuccess=n}(y,(function(t){t.target.result&&t.target.result.length>0&&(g=t.target.result[0])})),o||0===l?void 0:c?function(t,e,n){var r=new Array(t.length),o=0;t.forEach((function(i,a){e.get(i).onsuccess=function(e){e.target.result?r[a]=e.target.result:r[a]={key:i,error:"not_found"},++o===t.length&&n(t,r,{})}}))}(t.keys,m,k):-1===l?function(t,e,n){if("function"!=typeof t.getAll){var r=[];t.openCursor(e).onsuccess=function(t){var e=t.target.result;e?(r.push(e.value),e.continue()):n({target:{result:r}})}}else t.getAll(e).onsuccess=n}(m,r,(function(e){var n=e.target.result;t.descending&&(n=n.reverse()),$(n)})):void qo(m,r,t.descending,l+u,k)}var No=!1,Uo=[];function Bo(){!No&&Uo.length&&(No=!0,Uo.shift()())}function Fo(t,e,n,r){if((t=Qe(t)).continuous){var o=n+":"+ir();return Io.addListener(n,o,e,t),Io.notify(n),{cancel:function(){Io.removeListener(n,o)}}}var i=t.doc_ids&&new Ae(t.doc_ids);t.since=t.since||0;var a=t.since,s="limit"in t?t.limit:-1;0===s&&(s=1);var c,u,l,f,d=[],h=0,p=jn(t),v=new Re;function g(t,e,n,r){if(n.seq!==e)return r();if(n.winningRev===t._rev)return r(n,t);var o=t._id+"::"+n.winningRev;f.get(o).onsuccess=function(t){r(n,Ro(t.target.result))}}function m(){t.complete(null,{results:d,last_seq:a})}var y=[_o,bo];t.attachments&&y.push(wo);var _=To(r,y,"readonly");if(_.error)return t.complete(_.error);(c=_.txn).onabort=Eo(t.complete),c.oncomplete=function(){!t.continuous&&t.attachments?Do(d).then(m):m()},u=c.objectStore(bo),l=c.objectStore(_o),f=u.index("_doc_id_rev"),qo(u,t.since&&!t.descending?IDBKeyRange.lowerBound(t.since,!0):null,t.descending,s,(function(e,n,r){if(r&&e.length){var o=new Array(e.length),u=new Array(e.length),f=0;n.forEach((function(n,a){!function(t,e,n){if(i&&!i.has(t._id))return n();var r=v.get(t._id);if(r)return g(t,e,r,n);l.get(t._id).onsuccess=function(o){r=Ao(o.target.result),v.set(t._id,r),g(t,e,r,n)}}(Ro(n),e[a],(function(n,i){u[a]=n,o[a]=i,++f===e.length&&function(){for(var e=[],n=0,i=o.length;n<i&&h!==s;n++){var a=o[n];if(a){var c=u[n];e.push(m(c,a))}}Promise.all(e).then((function(e){for(var n=0,r=e.length;n<r;n++)e[n]&&t.onChange(e[n])})).catch(t.complete),h!==s&&r.continue()}()}))}))}function m(e,n){var r=t.processChange(n,e,t);a=r.seq=e.seq;var o=p(r);return"object"==typeof o?Promise.reject(o):o?(h++,t.return_docs&&d.push(r),t.attachments&&t.include_docs?new Promise((function(e){Po(n,t,c,(function(){Do([r],t.binary).then((function(){e(r)}))}))})):Promise.resolve(r)):Promise.resolve()}}))}var Wo,Vo=new Re,Go=new Re;function Ho(t,e){var n=this;!function(t,e,n){Uo.push((function(){t((function(t,r){!function(t,e,n,r){try{t(e,n)}catch(e){r.emit("error",e)}}(e,t,r,n),No=!1,ue((function(){Bo()}))}))})),Bo()}((function(e){!function(t,e,n){var r=e.name,o=null;function i(t){var e=t.createObjectStore(_o,{keyPath:"id"});t.createObjectStore(bo,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),t.createObjectStore(wo,{keyPath:"digest"}),t.createObjectStore($o,{keyPath:"id",autoIncrement:!1}),t.createObjectStore(Co),e.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),t.createObjectStore(ko,{keyPath:"_id"});var n=t.createObjectStore(xo,{autoIncrement:!0});n.createIndex("seq","seq"),n.createIndex("digestSeq","digestSeq",{unique:!0})}function a(t,e){var n=t.objectStore(_o);n.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),n.openCursor().onsuccess=function(t){var r=t.target.result;if(r){var o=r.value,i=br(o);o.deletedOrLocal=i?"1":"0",n.put(o),r.continue()}else e()}}function s(t){t.createObjectStore(ko,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}function c(t,e){var n=t.objectStore(ko),r=t.objectStore(_o),o=t.objectStore(bo);r.openCursor().onsuccess=function(t){var i=t.target.result;if(i){var a=i.value,s=a.id,c=wr(s),u=ar(a);if(c){var l=s+"::"+u,f=s+"::",d=s+"::~",h=o.index("_doc_id_rev"),p=IDBKeyRange.bound(f,d,!1,!1),v=h.openCursor(p);v.onsuccess=function(t){if(v=t.target.result){var e=v.value;e._doc_id_rev===l&&n.put(e),o.delete(v.primaryKey),v.continue()}else r.delete(i.primaryKey),i.continue()}}else i.continue()}else e&&e()}}function u(t){var e=t.createObjectStore(xo,{autoIncrement:!0});e.createIndex("seq","seq"),e.createIndex("digestSeq","digestSeq",{unique:!0})}function l(t,e){var n=t.objectStore(bo),r=t.objectStore(wo),o=t.objectStore(xo);r.count().onsuccess=function(t){if(!t.target.result)return e();n.openCursor().onsuccess=function(t){var n=t.target.result;if(!n)return e();for(var r=n.value,i=n.primaryKey,a=Object.keys(r._attachments||{}),s={},c=0;c<a.length;c++){s[r._attachments[a[c]].digest]=!0}var u=Object.keys(s);for(c=0;c<u.length;c++){var l=u[c];o.put({seq:i,digestSeq:l+"::"+i})}n.continue()}}}function f(t){function e(t){return t.data?Ao(t):(t.deleted="1"===t.deletedOrLocal,t)}var n=t.objectStore(bo),r=t.objectStore(_o);r.openCursor().onsuccess=function(t){var o=t.target.result;if(o){var i=e(o.value);if(i.winningRev=i.winningRev||ar(i),i.seq)return s();a()}function a(){var t=i.id+"::",e=i.id+"::",r=n.index("_doc_id_rev").openCursor(IDBKeyRange.bound(t,e)),o=0;r.onsuccess=function(t){var e=t.target.result;if(!e)return i.seq=o,s();var n=e.primaryKey;n>o&&(o=n),e.continue()}}function s(){var t=So(i,i.winningRev,i.deleted);r.put(t).onsuccess=function(){o.continue()}}}}t._meta=null,t._remote=!1,t.type=function(){return"idb"},t._id=Ze((function(e){e(null,t._meta.instanceId)})),t._bulkDocs=function(n,r,i){Lo(e,n,r,t,o,i)},t._get=function(t,e,n){var r,i,a,s=e.ctx;if(!s){var c=To(o,[_o,bo,wo],"readonly");if(c.error)return n(c.error);s=c.txn}function u(){n(a,{doc:r,metadata:i,ctx:s})}s.objectStore(_o).get(t).onsuccess=function(t){if(!(i=Ao(t.target.result)))return a=An(vn,"missing"),u();var n;if(e.rev)n=e.latest?function(t,e){for(var n,r=e.rev_tree.slice();n=r.pop();){var o=n.pos,i=n.ids,a=i[0],s=i[1],c=i[2],u=0===c.length,l=n.history?n.history.slice():[];if(l.push({id:a,pos:o,opts:s}),u)for(var f=0,d=l.length;f<d;f++){var h=l[f];if(h.pos+"-"+h.id===t)return o+"-"+a}for(var p=0,v=c.length;p<v;p++)r.push({pos:o+1,ids:c[p],history:l})}throw new Error("Unable to resolve latest revision for id "+e.id+", rev "+t)}(e.rev,i):e.rev;else if(n=i.winningRev,br(i))return a=An(vn,"deleted"),u();var o=s.objectStore(bo),c=i.id+"::"+n;o.index("_doc_id_rev").get(c).onsuccess=function(t){if((r=t.target.result)&&(r=Ro(r)),!r)return a=An(vn,"missing"),u();u()}}},t._getAttachment=function(t,e,n,r,i){var a;if(r.ctx)a=r.ctx;else{var s=To(o,[_o,bo,wo],"readonly");if(s.error)return i(s.error);a=s.txn}var c=n.digest,u=n.content_type;a.objectStore(wo).get(c).onsuccess=function(t){jo(t.target.result.body,u,r.binary,(function(t){i(null,t)}))}},t._info=function(e){var n,r,i=To(o,[$o,bo],"readonly");if(i.error)return e(i.error);var a=i.txn;a.objectStore($o).get($o).onsuccess=function(t){r=t.target.result.docCount},a.objectStore(bo).openCursor(null,"prev").onsuccess=function(t){var e=t.target.result;n=e?e.key:0},a.oncomplete=function(){e(null,{doc_count:r,update_seq:n,idb_attachment_format:t._meta.blobSupport?"binary":"base64"})}},t._allDocs=function(t,e){zo(t,o,e)},t._changes=function(e){return Fo(e,t,r,o)},t._close=function(t){o.close(),Vo.delete(r),t()},t._getRevisionTree=function(t,e){var n=To(o,[_o],"readonly");if(n.error)return e(n.error);n.txn.objectStore(_o).get(t).onsuccess=function(t){var n=Ao(t.target.result);n?e(null,n.rev_tree):e(An(vn))}},t._doCompaction=function(t,e,n){var r=To(o,[_o,bo,wo,xo],"readwrite");if(r.error)return n(r.error);var i=r.txn;i.objectStore(_o).get(t).onsuccess=function(n){var r=Ao(n.target.result);sr(r.rev_tree,(function(t,n,r,o,i){var a=n+"-"+r;-1!==e.indexOf(a)&&(i.status="missing")})),Mo(e,t,i);var o=r.winningRev,a=r.deleted;i.objectStore(_o).put(So(r,o,a))},i.onabort=Eo(n),i.oncomplete=function(){n()}},t._getLocal=function(t,e){var n=To(o,[ko],"readonly");if(n.error)return e(n.error);var r=n.txn.objectStore(ko).get(t);r.onerror=Eo(e),r.onsuccess=function(t){var n=t.target.result;n?(delete n._doc_id_rev,e(null,n)):e(An(vn))}},t._putLocal=function(t,e,n){"function"==typeof e&&(n=e,e={}),delete t._revisions;var r=t._rev,i=t._id;t._rev=r?"0-"+(parseInt(r.split("-")[1],10)+1):"0-1";var a,s=e.ctx;if(!s){var c=To(o,[ko],"readwrite");if(c.error)return n(c.error);(s=c.txn).onerror=Eo(n),s.oncomplete=function(){a&&n(null,a)}}var u,l=s.objectStore(ko);r?(u=l.get(i)).onsuccess=function(o){var i=o.target.result;i&&i._rev===r?l.put(t).onsuccess=function(){a={ok:!0,id:t._id,rev:t._rev},e.ctx&&n(null,a)}:n(An(gn))}:((u=l.add(t)).onerror=function(t){n(An(gn)),t.preventDefault(),t.stopPropagation()},u.onsuccess=function(){a={ok:!0,id:t._id,rev:t._rev},e.ctx&&n(null,a)})},t._removeLocal=function(t,e,n){"function"==typeof e&&(n=e,e={});var r,i=e.ctx;if(!i){var a=To(o,[ko],"readwrite");if(a.error)return n(a.error);(i=a.txn).oncomplete=function(){r&&n(null,r)}}var s=t._id,c=i.objectStore(ko),u=c.get(s);u.onerror=Eo(n),u.onsuccess=function(o){var i=o.target.result;i&&i._rev===t._rev?(c.delete(s),r={ok:!0,id:s,rev:"0-0"},e.ctx&&n(null,r)):n(An(vn))}},t._destroy=function(t,e){Io.removeAllListeners(r);var n=Go.get(r);n&&n.result&&(n.result.close(),Vo.delete(r));var o=indexedDB.deleteDatabase(r);o.onsuccess=function(){Go.delete(r),sn()&&r in localStorage&&delete localStorage[r],e(null,{ok:!0})},o.onerror=Eo(e)};var d=Vo.get(r);if(d)return o=d.idb,t._meta=d.global,ue((function(){n(null,t)}));var h=indexedDB.open(r,5);Go.set(r,h),h.onupgradeneeded=function(t){var e=t.target.result;if(t.oldVersion<1)return i(e);var n=t.currentTarget.transaction;t.oldVersion<3&&s(e),t.oldVersion<4&&u(e);var r=[a,c,l,f],o=t.oldVersion;function d(){var t=r[o-1];o++,t&&t(n,d)}d()},h.onsuccess=function(e){(o=e.target.result).onversionchange=function(){o.close(),Vo.delete(r)},o.onabort=function(t){un("error","Database has a global failure",t.target.error),o.close(),Vo.delete(r)};var i,a,s,c,u=o.transaction([$o,Co,_o],"readwrite"),l=!1;function f(){void 0!==s&&l&&(t._meta={name:r,instanceId:c,blobSupport:s},Vo.set(r,{idb:o,global:t._meta}),n(null,t))}function d(){if(void 0!==a&&void 0!==i){var t=r+"_id";t in i?c=i[t]:i[t]=c=ir(),i.docCount=a,u.objectStore($o).put(i)}}u.objectStore($o).get($o).onsuccess=function(t){i=t.target.result||{id:$o},d()},function(t,e){t.objectStore(_o).index("deletedOrLocal").count(IDBKeyRange.only("0")).onsuccess=function(t){e(t.target.result)}}(u,(function(t){a=t,d()})),Wo||(Wo=function(t){return new Promise((function(e){var n=Gn([""]),r=t.objectStore(Co).put(n,"key");r.onsuccess=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);e(n||!t||parseInt(t[1],10)>=43)},r.onerror=t.onabort=function(t){t.preventDefault(),t.stopPropagation(),e(!1)}})).catch((function(){return!1}))}(u)),Wo.then((function(t){s=t,f()})),u.oncomplete=function(){l=!0,f()},u.onabort=Eo(n)},h.onerror=function(t){var e=t.target.error&&t.target.error.message;e?-1!==e.indexOf("stored database is a higher version")&&(e=new Error('This DB was created with the newer "indexeddb" adapter, but you are trying to open it with the older "idb" adapter')):e="Failed to open indexedDB, are you in private browsing mode?",un("error",e),n(An(On,e))}}(n,t,e)}),e,n.constructor)}Ho.valid=function(){try{return"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(t){return!1}};var Ko=5e3,Jo={};function Xo(t){var e=t.doc||t.ok,n=e&&e._attachments;n&&Object.keys(n).forEach((function(t){var e=n[t];e.data=Jn(e.data,e.content_type)}))}function Qo(t){return/^_design/.test(t)?"_design/"+encodeURIComponent(t.slice(8)):/^_local/.test(t)?"_local/"+encodeURIComponent(t.slice(7)):encodeURIComponent(t)}function Yo(t){return t._attachments&&Object.keys(t._attachments)?Promise.all(Object.keys(t._attachments).map((function(e){var n=t._attachments[e];if(n.data&&"string"!=typeof n.data)return new Promise((function(t){Yn(n.data,t)})).then((function(t){n.data=t}))}))):Promise.resolve()}function Zo(t,e){if(function(t){if(!t.prefix)return!1;var e=Un(t.prefix).protocol;return"http"===e||"https"===e}(e)){var n=e.name.substr(e.prefix.length);t=e.prefix.replace(/\/?$/,"/")+encodeURIComponent(n)}var r=Un(t);(r.user||r.password)&&(r.auth={username:r.user,password:r.password});var o=r.path.replace(/(^\/|\/$)/g,"").split("/");return r.db=o.pop(),-1===r.db.indexOf("%")&&(r.db=encodeURIComponent(r.db)),r.path=o.join("/"),r}function ti(t,e){return ei(t,t.db+"/"+e)}function ei(t,e){var n=t.path?"/":"";return t.protocol+"://"+t.host+(t.port?":"+t.port:"")+"/"+t.path+n+e}function ni(t){return"?"+Object.keys(t).map((function(e){return e+"="+encodeURIComponent(t[e])})).join("&")}function ri(t,e){var n=this,r=Zo(t.name,t),o=ti(r,"");t=Qe(t);var i,a=function(e,n){if((n=n||{}).headers=n.headers||new Dr,n.credentials="include",t.auth||r.auth){var o=t.auth||r.auth,i=o.username+":"+o.password,a=Vn(unescape(encodeURIComponent(i)));n.headers.set("Authorization","Basic "+a)}var s=t.headers||{};return Object.keys(s).forEach((function(t){n.headers.append(t,s[t])})),function(t){var e="undefined"!=typeof navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",n=-1!==e.indexOf("msie"),r=-1!==e.indexOf("trident"),o=-1!==e.indexOf("edge"),i=!("method"in t)||"GET"===t.method;return(n||r||o)&&i}(n)&&(e+=(-1===e.indexOf("?")?"?":"&")+"_nonce="+Date.now()),(t.fetch||Pr)(e,n)};function s(t,e){return tn(t,Se((function(t){u().then((function(){return e.apply(this,t)})).catch((function(e){t.pop()(e)}))}))).bind(n)}function c(t,e,n){var r={};return(e=e||{}).headers=e.headers||new Dr,e.headers.get("Content-Type")||e.headers.set("Content-Type","application/json"),e.headers.get("Accept")||e.headers.set("Accept","application/json"),a(t,e).then((function(t){return r.ok=t.ok,r.status=t.status,t.json()})).then((function(t){if(r.data=t,!r.ok){r.data.status=r.status;var e=Rn(r.data);if(n)return n(e);throw e}if(Array.isArray(r.data)&&(r.data=r.data.map((function(t){return t.error||t.missing?Rn(t):t}))),!n)return r;n(null,r.data)}))}function u(){return t.skip_setup?Promise.resolve():i||((i=c(o).catch((function(t){return t&&t.status&&404===t.status?(fn(404,"PouchDB is just detecting if the remote exists."),c(o,{method:"PUT"})):Promise.reject(t)})).catch((function(t){return!(!t||!t.status||412!==t.status)||Promise.reject(t)}))).catch((function(){i=null})),i)}function l(t){return t.split("/").map(encodeURIComponent).join("/")}ue((function(){e(null,n)})),n._remote=!0,n.type=function(){return"http"},n.id=s("id",(function(t){a(ei(r,"")).then((function(t){return t.json()})).catch((function(){return{}})).then((function(e){var n=e&&e.uuid?e.uuid+r.db:ti(r,"");t(null,n)}))})),n.compact=s("compact",(function(t,e){"function"==typeof t&&(e=t,t={}),t=Qe(t),c(ti(r,"_compact"),{method:"POST"}).then((function(){!function r(){n.info((function(n,o){o&&!o.compact_running?e(null,{ok:!0}):setTimeout(r,t.interval||200)}))}()}))})),n.bulkGet=tn("bulkGet",(function(t,e){var n=this;function o(e){var n={};t.revs&&(n.revs=!0),t.attachments&&(n.attachments=!0),t.latest&&(n.latest=!0),c(ti(r,"_bulk_get"+ni(n)),{method:"POST",body:JSON.stringify({docs:t.docs})}).then((function(n){t.attachments&&t.binary&&n.data.results.forEach((function(t){t.docs.forEach(Xo)})),e(null,n.data)})).catch(e)}function i(){var r=Math.ceil(t.docs.length/50),o=0,i=new Array(r);function a(t){return function(n,a){i[t]=a.results,++o===r&&e(null,{results:Pn(i)})}}for(var s=0;s<r;s++){var c=en(t,["revs","attachments","binary","latest"]);c.docs=t.docs.slice(50*s,Math.min(t.docs.length,50*(s+1))),an(n,c,a(s))}}var a=ei(r,""),s=Jo[a];"boolean"!=typeof s?o((function(t,n){t?(Jo[a]=!1,fn(t.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),i()):(Jo[a]=!0,e(null,n))})):s?o(e):i()})),n._info=function(t){u().then((function(){return a(ti(r,""))})).then((function(t){return t.json()})).then((function(e){e.host=ti(r,""),t(null,e)})).catch(t)},n.fetch=function(t,e){return u().then((function(){var n="/"===t.substring(0,1)?ei(r,t.substring(1)):ti(r,t);return a(n,e)}))},n.get=s("get",(function(t,e,n){"function"==typeof e&&(n=e,e={});var o={};function i(t){var n=t._attachments,o=n&&Object.keys(n);if(n&&o.length)return function(t,e){return new Promise((function(n,r){var o,i=0,a=0,s=0,c=t.length;function u(){++s===c?o?r(o):n():d()}function l(){i--,u()}function f(t){i--,o=o||t,u()}function d(){for(;i<e&&a<c;)i++,t[a++]().then(l,f)}d()}))}(o.map((function(o){return function(){return function(o){var i=n[o],s=Qo(t._id)+"/"+l(o)+"?rev="+t._rev;return a(ti(r,s)).then((function(t){return"buffer"in t?t.buffer():t.blob()})).then((function(t){if(e.binary){var n=Object.getOwnPropertyDescriptor(t.__proto__,"type");return n&&!n.set||(t.type=i.content_type),t}return new Promise((function(e){Yn(t,e)}))})).then((function(t){delete i.stub,delete i.length,i.data=t}))}(o)}})),5)}(e=Qe(e)).revs&&(o.revs=!0),e.revs_info&&(o.revs_info=!0),e.latest&&(o.latest=!0),e.open_revs&&("all"!==e.open_revs&&(e.open_revs=JSON.stringify(e.open_revs)),o.open_revs=e.open_revs),e.rev&&(o.rev=e.rev),e.conflicts&&(o.conflicts=e.conflicts),e.update_seq&&(o.update_seq=e.update_seq),t=Qo(t),c(ti(r,t+ni(o))).then((function(t){return Promise.resolve().then((function(){if(e.attachments)return n=t.data,Array.isArray(n)?Promise.all(n.map((function(t){if(t.ok)return i(t.ok)}))):i(n);var n})).then((function(){n(null,t.data)}))})).catch((function(e){e.docId=t,n(e)}))})),n.remove=s("remove",(function(t,e,n,o){var i;"string"==typeof e?(i={_id:t,_rev:e},"function"==typeof n&&(o=n,n={})):(i=t,"function"==typeof e?(o=e,n={}):(o=n,n=e));var a=i._rev||n.rev;c(ti(r,Qo(i._id))+"?rev="+a,{method:"DELETE"},o).catch(o)})),n.getAttachment=s("getAttachment",(function(t,e,n,o){"function"==typeof n&&(o=n,n={});var i,s=n.rev?"?rev="+n.rev:"",c=ti(r,Qo(t))+"/"+l(e)+s;a(c,{method:"GET"}).then((function(t){if(i=t.headers.get("content-type"),t.ok)return"undefined"==typeof process||process.browser||"function"!=typeof t.buffer?t.blob():t.buffer();throw t})).then((function(t){"undefined"==typeof process||process.browser||(t.type=i),o(null,t)})).catch((function(t){o(t)}))})),n.removeAttachment=s("removeAttachment",(function(t,e,n,o){c(ti(r,Qo(t)+"/"+l(e))+"?rev="+n,{method:"DELETE"},o).catch(o)})),n.putAttachment=s("putAttachment",(function(t,e,n,o,i,a){"function"==typeof i&&(a=i,i=o,o=n,n=null);var s=Qo(t)+"/"+l(e),u=ti(r,s);if(n&&(u+="?rev="+n),"string"==typeof o){var f;try{f=Wn(o)}catch(t){return a(An(wn,"Attachment is not a valid base64 string"))}o=f?Kn(f,i):""}c(u,{headers:new Dr({"Content-Type":i}),method:"PUT",body:o},a).catch(a)})),n._bulkDocs=function(t,e,n){t.new_edits=e.new_edits,u().then((function(){return Promise.all(t.docs.map(Yo))})).then((function(){return c(ti(r,"_bulk_docs"),{method:"POST",body:JSON.stringify(t)},n)})).catch(n)},n._put=function(t,e,n){u().then((function(){return Yo(t)})).then((function(){return c(ti(r,Qo(t._id)),{method:"PUT",body:JSON.stringify(t)})})).then((function(t){n(null,t.data)})).catch((function(e){e.docId=t&&t._id,n(e)}))},n.allDocs=s("allDocs",(function(t,e){"function"==typeof t&&(e=t,t={});var n,o={},i="GET";(t=Qe(t)).conflicts&&(o.conflicts=!0),t.update_seq&&(o.update_seq=!0),t.descending&&(o.descending=!0),t.include_docs&&(o.include_docs=!0),t.attachments&&(o.attachments=!0),t.key&&(o.key=JSON.stringify(t.key)),t.start_key&&(t.startkey=t.start_key),t.startkey&&(o.startkey=JSON.stringify(t.startkey)),t.end_key&&(t.endkey=t.end_key),t.endkey&&(o.endkey=JSON.stringify(t.endkey)),void 0!==t.inclusive_end&&(o.inclusive_end=!!t.inclusive_end),void 0!==t.limit&&(o.limit=t.limit),void 0!==t.skip&&(o.skip=t.skip);var a=ni(o);void 0!==t.keys&&(i="POST",n={keys:t.keys}),c(ti(r,"_all_docs"+a),{method:i,body:JSON.stringify(n)}).then((function(n){t.include_docs&&t.attachments&&t.binary&&n.data.rows.forEach(Xo),e(null,n.data)})).catch(e)})),n._changes=function(t){var e="batch_size"in t?t.batch_size:25;(t=Qe(t)).continuous&&!("heartbeat"in t)&&(t.heartbeat=1e4);var n="timeout"in t?t.timeout:3e4;"timeout"in t&&t.timeout&&n-t.timeout<Ko&&(n=t.timeout+Ko),"heartbeat"in t&&t.heartbeat&&n-t.heartbeat<Ko&&(n=t.heartbeat+Ko);var o={};"timeout"in t&&t.timeout&&(o.timeout=t.timeout);var i=void 0!==t.limit&&t.limit,a=i;if(t.style&&(o.style=t.style),(t.include_docs||t.filter&&"function"==typeof t.filter)&&(o.include_docs=!0),t.attachments&&(o.attachments=!0),t.continuous&&(o.feed="longpoll"),t.seq_interval&&(o.seq_interval=t.seq_interval),t.conflicts&&(o.conflicts=!0),t.descending&&(o.descending=!0),t.update_seq&&(o.update_seq=!0),"heartbeat"in t&&t.heartbeat&&(o.heartbeat=t.heartbeat),t.filter&&"string"==typeof t.filter&&(o.filter=t.filter),t.view&&"string"==typeof t.view&&(o.filter="_view",o.view=t.view),t.query_params&&"object"==typeof t.query_params)for(var s in t.query_params)t.query_params.hasOwnProperty(s)&&(o[s]=t.query_params[s]);var l,f="GET";t.doc_ids?(o.filter="_doc_ids",f="POST",l={doc_ids:t.doc_ids}):t.selector&&(o.filter="_selector",f="POST",l={selector:t.selector});var d,h=new jr,p=function(n,s){if(!t.aborted){o.since=n,"object"==typeof o.since&&(o.since=JSON.stringify(o.since)),t.descending?i&&(o.limit=a):o.limit=!i||a>e?e:a;var p=ti(r,"_changes"+ni(o)),v={signal:h.signal,method:f,body:JSON.stringify(l)};d=n,t.aborted||u().then((function(){return c(p,v,s)})).catch(s)}},v={results:[]},g=function(n,r){if(!t.aborted){var o=0;if(r&&r.results){o=r.results.length,v.last_seq=r.last_seq;var s=null,c=null;"number"==typeof r.pending&&(s=r.pending),"string"!=typeof v.last_seq&&"number"!=typeof v.last_seq||(c=v.last_seq);t.query_params,r.results=r.results.filter((function(e){a--;var n=jn(t)(e);return n&&(t.include_docs&&t.attachments&&t.binary&&Xo(e),t.return_docs&&v.results.push(e),t.onChange(e,s,c)),n}))}else if(n)return t.aborted=!0,void t.complete(n);r&&r.last_seq&&(d=r.last_seq);var u=i&&a<=0||r&&o<e||t.descending;(!t.continuous||i&&a<=0)&&u?t.complete(null,v):ue((function(){p(d,g)}))}};return p(t.since||0,g),{cancel:function(){t.aborted=!0,h.abort()}}},n.revsDiff=s("revsDiff",(function(t,e,n){"function"==typeof e&&(n=e,e={}),c(ti(r,"_revs_diff"),{method:"POST",body:JSON.stringify(t)},n).catch(n)})),n._close=function(t){t()},n._destroy=function(t,e){c(ti(r,""),{method:"DELETE"}).then((function(t){e(null,t)})).catch((function(t){404===t.status?e(null,{ok:!0}):e(t)}))}}function oi(t){this.status=400,this.name="query_parse_error",this.message=t,this.error=!0;try{Error.captureStackTrace(this,oi)}catch(t){}}function ii(t){this.status=404,this.name="not_found",this.message=t,this.error=!0;try{Error.captureStackTrace(this,ii)}catch(t){}}function ai(t){this.status=500,this.name="invalid_value",this.message=t,this.error=!0;try{Error.captureStackTrace(this,ai)}catch(t){}}function si(t,e){return e&&t.then((function(t){ue((function(){e(null,t)}))}),(function(t){ue((function(){e(t)}))})),t}function ci(t,e){return function(){var n=arguments,r=this;return t.add((function(){return e.apply(r,n)}))}}function ui(t){var e=new Ae(t),n=new Array(e.size),r=-1;return e.forEach((function(t){n[++r]=t})),n}function li(t){var e=new Array(t.size),n=-1;return t.forEach((function(t,r){e[++n]=r})),e}function fi(t){return new ai("builtin "+t+" function requires map values to be numbers or number arrays")}function di(t){for(var e=0,n=0,r=t.length;n<r;n++){var o=t[n];if("number"!=typeof o){if(!Array.isArray(o))throw fi("_sum");e="number"==typeof e?[e]:e;for(var i=0,a=o.length;i<a;i++){var s=o[i];if("number"!=typeof s)throw fi("_sum");void 0===e[i]?e.push(s):e[i]+=s}}else"number"==typeof e?e+=o:e[0]+=o}return e}ri.valid=function(){return!0},je(oi,Error),je(ii,Error),je(ai,Error);var hi=un.bind(null,"log"),pi=Array.isArray,vi=JSON.parse;function gi(t,e){return Bn("return ("+t.replace(/;\s*$/,"")+");",{emit:e,sum:di,log:hi,isArray:pi,toJSON:vi})}function mi(){this.promise=new Promise((function(t){t()}))}function yi(t){if(!t)return"undefined";switch(typeof t){case"function":case"string":return t.toString();default:return JSON.stringify(t)}}function _i(t,e,n,r,o,i){var a,s=function(t,e){return yi(t)+yi(e)+"undefined"}(n,r);if(!o&&(a=t._cachedViews=t._cachedViews||{})[s])return a[s];var c=t.info().then((function(c){var u=c.db_name+"-mrview-"+(o?"temp":rr(s));return Fn(t,"_local/"+i,(function(t){t.views=t.views||{};var n=e;-1===n.indexOf("/")&&(n=e+"/"+e);var r=t.views[n]=t.views[n]||{};if(!r[u])return r[u]=!0,t})).then((function(){return t.registerDependentDatabase(u).then((function(e){var o=e.db;o.auto_compaction=!0;var i={name:u,db:o,sourceDB:t,adapter:t.adapter,mapFun:n,reduceFun:r};return i.db.get("_local/lastSeq").catch((function(t){if(404!==t.status)throw t})).then((function(t){return i.seq=t?t.seq:0,a&&i.db.once("destroyed",(function(){delete a[s]})),i}))}))}))}));return a&&(a[s]=c),c}mi.prototype.add=function(t){return this.promise=this.promise.catch((function(){})).then((function(){return t()})),this.promise},mi.prototype.finish=function(){return this.promise};var bi={},wi=new mi;function xi(t){return-1===t.indexOf("/")?[t,t]:t.split("/")}function $i(t,e){try{t.emit("error",e)}catch(t){un("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),un("error",e)}}var ki=function(t,e){return di(e)},Ci=function(t,e){return e.length},Oi=function(t,e){return{sum:di(e),min:Math.min.apply(null,e),max:Math.max.apply(null,e),count:e.length,sumsqr:function(t){for(var e=0,n=0,r=t.length;n<r;n++){var o=t[n];e+=o*o}return e}(e)}};var Ei=function(t,e,n,r){function o(t,e,n){try{e(n)}catch(e){$i(t,e)}}function i(t,e,n,r,o){try{return{output:e(n,r,o)}}catch(e){return $i(t,e),{error:e}}}function a(t,e){var n=Vr(t.key,e.key);return 0!==n?n:Vr(t.value,e.value)}function s(t,e,n){return n=n||0,"number"==typeof e?t.slice(n,e+n):n>0?t.slice(n):t}function c(t){var e=t.value;return e&&"object"==typeof e&&e._id||t.id}function u(t){return function(e){return t.include_docs&&t.attachments&&t.binary&&function(t){t.rows.forEach((function(t){var e=t.doc&&t.doc._attachments;e&&Object.keys(e).forEach((function(t){var n=e[t];e[t].data=Jn(n.data,n.content_type)}))}))}(e),e}}function l(t,e,n,r){var o=e[t];void 0!==o&&(r&&(o=encodeURIComponent(JSON.stringify(o))),n.push(t+"="+o))}function f(t){if(void 0!==t){var e=Number(t);return isNaN(e)||e!==parseInt(t,10)?t:e}}function d(t,e){var n=t.descending?"endkey":"startkey",r=t.descending?"startkey":"endkey";if(void 0!==t[n]&&void 0!==t[r]&&Vr(t[n],t[r])>0)throw new oi("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(e.reduce&&!1!==t.reduce){if(t.include_docs)throw new oi("{include_docs:true} is invalid for reduce");if(t.keys&&t.keys.length>1&&!t.group&&!t.group_level)throw new oi("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach((function(e){var n=function(t){if(t){if("number"!=typeof t)return new oi('Invalid value for integer: "'+t+'"');if(t<0)return new oi('Invalid value for positive integer: "'+t+'"')}}(t[e]);if(n)throw n}))}function h(t){return function(e){if(404===e.status)return t;throw e}}function p(t,e,n){var r="_local/doc_"+t,o={_id:r,keys:[]},i=n.get(t),a=i[0];return(function(t){return 1===t.length&&/^1-/.test(t[0].rev)}(i[1])?Promise.resolve(o):e.db.get(r).catch(h(o))).then((function(t){return function(t){return t.keys.length?e.db.allDocs({keys:t.keys,include_docs:!0}):Promise.resolve({rows:[]})}(t).then((function(e){return function(t,e){for(var n=[],r=new Ae,o=0,i=e.rows.length;o<i;o++){var s=e.rows[o].doc;if(s&&(n.push(s),r.add(s._id),s._deleted=!a.has(s._id),!s._deleted)){var c=a.get(s._id);"value"in c&&(s.value=c.value)}}var u=li(a);return u.forEach((function(t){if(!r.has(t)){var e={_id:t},o=a.get(t);"value"in o&&(e.value=o.value),n.push(e)}})),t.keys=ui(u.concat(t.keys)),n.push(t),n}(t,e)}))}))}function v(t){var e="string"==typeof t?t:t.name,n=bi[e];return n||(n=bi[e]=new mi),n}function g(t){return ci(v(t),(function(){return function(t){var n,r;function i(t,e){var o={id:r._id,key:Gr(t)};null!=e&&(o.value=Gr(e)),n.push(o)}var s=e(t.mapFun,i),c=t.seq||0;function u(e,n){return function(){return function(t,e,n){var r="_local/lastSeq";return t.db.get(r).catch(h({_id:r,seq:0})).then((function(r){var o=li(e);return Promise.all(o.map((function(n){return p(n,t,e)}))).then((function(e){var o=Pn(e);return r.seq=n,o.push(r),t.db.bulkDocs({docs:o})}))}))}(t,e,n)}}var l=new mi;function f(){return t.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:c,limit:50}).then(d)}function d(t){var e=t.results;if(e.length){var n=v(e);if(l.add(u(n,c)),!(e.length<50))return f()}}function v(e){for(var i=new Re,u=0,l=e.length;u<l;u++){var f=e[u];if("_"!==f.doc._id[0]){n=[],(r=f.doc)._deleted||o(t.sourceDB,s,r),n.sort(a);var d=g(n);i.set(f.doc._id,[d,f.changes])}c=f.seq}return i}function g(t){for(var e,n=new Re,r=0,o=t.length;r<o;r++){var i=t[r],a=[i.key,i.id];r>0&&0===Vr(i.key,e)&&a.push(r),n.set(Kr(a),i),e=i.key}return n}return f().then((function(){return l.finish()})).then((function(){t.seq=c}))}(t)}))()}function m(t,e){return ci(v(t),(function(){return function(t,e){var r,o=t.reduceFun&&!1!==e.reduce,a=e.skip||0;void 0===e.keys||e.keys.length||(e.limit=0,delete e.keys);function u(e){return e.include_docs=!0,t.db.allDocs(e).then((function(t){return r=t.total_rows,t.rows.map((function(t){if("value"in t.doc&&"object"==typeof t.doc.value&&null!==t.doc.value){var e=Object.keys(t.doc.value).sort(),n=["id","key","value"];if(!(e<n||e>n))return t.doc.value}var r=function(t){for(var e=[],n=[],r=0;;){var o=t[r++];if("\0"!==o)switch(o){case"1":e.push(null);break;case"2":e.push("1"===t[r]),r++;break;case"3":var i=Jr(t,r);e.push(i.num),r+=i.length;break;case"4":for(var a="";;){var s=t[r];if("\0"===s)break;a+=s,r++}a=a.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),e.push(a);break;case"5":var c={element:[],index:e.length};e.push(c.element),n.push(c);break;case"6":var u={element:{},index:e.length};e.push(u.element),n.push(u);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+o)}else{if(1===e.length)return e.pop();Xr(e,n)}}}(t.doc._id);return{key:r[0],id:r[1],value:"value"in t.doc?t.doc.value:null}}))}))}function l(u){var l;if(l=o?function(t,e,r){0===r.group_level&&delete r.group_level;var o=r.group||r.group_level,a=n(t.reduceFun),c=[],u=isNaN(r.group_level)?Number.POSITIVE_INFINITY:r.group_level;e.forEach((function(t){var e=c[c.length-1],n=o?t.key:null;if(o&&Array.isArray(n)&&(n=n.slice(0,u)),e&&0===Vr(e.groupKey,n))return e.keys.push([t.key,t.id]),void e.values.push(t.value);c.push({keys:[[t.key,t.id]],values:[t.value],groupKey:n})})),e=[];for(var l=0,f=c.length;l<f;l++){var d=c[l],h=i(t.sourceDB,a,d.keys,d.values,!1);if(h.error&&h.error instanceof ai)throw h.error;e.push({value:h.error?null:h.output,key:d.groupKey})}return{rows:s(e,r.limit,r.skip)}}(t,u,e):{total_rows:r,offset:a,rows:u},e.update_seq&&(l.update_seq=t.seq),e.include_docs){var f=ui(u.map(c));return t.sourceDB.allDocs({keys:f,include_docs:!0,conflicts:e.conflicts,attachments:e.attachments,binary:e.binary}).then((function(t){var e=new Re;return t.rows.forEach((function(t){e.set(t.id,t.doc)})),u.forEach((function(t){var n=c(t),r=e.get(n);r&&(t.doc=r)})),l}))}return l}if(void 0!==e.keys){var f=e.keys.map((function(t){var n={startkey:Kr([t]),endkey:Kr([t,{}])};return e.update_seq&&(n.update_seq=!0),u(n)}));return Promise.all(f).then(Pn).then(l)}var d,h,p={descending:e.descending};if(e.update_seq&&(p.update_seq=!0),"start_key"in e&&(d=e.start_key),"startkey"in e&&(d=e.startkey),"end_key"in e&&(h=e.end_key),"endkey"in e&&(h=e.endkey),void 0!==d&&(p.startkey=e.descending?Kr([d,{}]):Kr([d])),void 0!==h){var v=!1!==e.inclusive_end;e.descending&&(v=!v),p.endkey=Kr(v?[h,{}]:[h])}if(void 0!==e.key){var g=Kr([e.key]),m=Kr([e.key,{}]);p.descending?(p.endkey=g,p.startkey=m):(p.startkey=g,p.endkey=m)}return o||("number"==typeof e.limit&&(p.limit=e.limit),p.skip=a),u(p).then(l)}(t,e)}))()}function y(e,n,o){if("function"==typeof e._query)return function(t,e,n){return new Promise((function(r,o){t._query(e,n,(function(t,e){if(t)return o(t);r(e)}))}))}(e,n,o);if(Mn(e))return function(t,e,n){var r,o,i,a=[],s="GET";if(l("reduce",n,a),l("include_docs",n,a),l("attachments",n,a),l("limit",n,a),l("descending",n,a),l("group",n,a),l("group_level",n,a),l("skip",n,a),l("stale",n,a),l("conflicts",n,a),l("startkey",n,a,!0),l("start_key",n,a,!0),l("endkey",n,a,!0),l("end_key",n,a,!0),l("inclusive_end",n,a),l("key",n,a,!0),l("update_seq",n,a),a=""===(a=a.join("&"))?"":"?"+a,void 0!==n.keys){var c="keys="+encodeURIComponent(JSON.stringify(n.keys));c.length+a.length+1<=2e3?a+=("?"===a[0]?"&":"?")+c:(s="POST","string"==typeof e?r={keys:n.keys}:e.keys=n.keys)}if("string"==typeof e){var f=xi(e);return t.fetch("_design/"+f[0]+"/_view/"+f[1]+a,{headers:new Dr({"Content-Type":"application/json"}),method:s,body:JSON.stringify(r)}).then((function(t){return o=t.ok,i=t.status,t.json()})).then((function(t){if(!o)throw t.status=i,Rn(t);return t.rows.forEach((function(t){if(t.value&&t.value.error&&"builtin_reduce_error"===t.value.error)throw new Error(t.reason)})),t})).then(u(n))}return r=r||{},Object.keys(e).forEach((function(t){Array.isArray(e[t])?r[t]=e[t]:r[t]=e[t].toString()})),t.fetch("_temp_view"+a,{headers:new Dr({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(r)}).then((function(t){return o=t.ok,i=t.status,t.json()})).then((function(t){if(!o)throw t.status=i,Rn(t);return t})).then(u(n))}(e,n,o);if("string"!=typeof n)return d(o,n),wi.add((function(){return _i(e,"temp_view/temp_view",n.map,n.reduce,!0,t).then((function(t){return function(t,e){return t.then((function(t){return e().then((function(){return t}))}),(function(t){return e().then((function(){throw t}))}))}(g(t).then((function(){return m(t,o)})),(function(){return t.db.destroy()}))}))})),wi.finish();var i=n,a=xi(i),s=a[0],c=a[1];return e.get("_design/"+s).then((function(n){var a=n.views&&n.views[c];if(!a)throw new ii("ddoc "+n._id+" has no view named "+c);return r(n,c),d(o,a),_i(e,i,a.map,a.reduce,!1,t).then((function(t){return"ok"===o.stale||"update_after"===o.stale?("update_after"===o.stale&&ue((function(){g(t)})),m(t,o)):g(t).then((function(){return m(t,o)}))}))}))}var _;return{query:function(t,e,n){var r=this;"function"==typeof e&&(n=e,e={}),e=e?function(t){return t.group_level=f(t.group_level),t.limit=f(t.limit),t.skip=f(t.skip),t}(e):{},"function"==typeof t&&(t={map:t});var o=Promise.resolve().then((function(){return y(r,t,e)}));return si(o,n),o},viewCleanup:(_=function(){var e=this;return"function"==typeof e._viewCleanup?function(t){return new Promise((function(e,n){t._viewCleanup((function(t,r){if(t)return n(t);e(r)}))}))}(e):Mn(e)?function(t){return t.fetch("_view_cleanup",{headers:new Dr({"Content-Type":"application/json"}),method:"POST"}).then((function(t){return t.json()}))}(e):function(e){return e.get("_local/"+t).then((function(t){var n=new Re;Object.keys(t.views).forEach((function(t){var e=xi(t),r="_design/"+e[0],o=e[1],i=n.get(r);i||(i=new Ae,n.set(r,i)),i.add(o)}));var r={keys:li(n),include_docs:!0};return e.allDocs(r).then((function(r){var o={};r.rows.forEach((function(e){var r=e.key.substring(8);n.get(e.key).forEach((function(n){var i=r+"/"+n;t.views[i]||(i=n);var a=Object.keys(t.views[i]),s=e.doc&&e.doc.views&&e.doc.views[n];a.forEach((function(t){o[t]=o[t]||s}))}))}));var i=Object.keys(o).filter((function(t){return!o[t]})).map((function(t){return ci(v(t),(function(){return new e.constructor(t,e.__opts).destroy()}))()}));return Promise.all(i).then((function(){return{ok:!0}}))}))}),h({ok:!0}))}(e)},Se((function(t){var e=t.pop(),n=_.apply(this,t);return"function"==typeof e&&si(n,e),n})))}}("mrviews",(function(t,e){if("function"==typeof t&&2===t.length){var n=t;return function(t){return n(t,e)}}return gi(t.toString(),e)}),(function(t){var e=t.toString(),n=function(t){if(/^_sum/.test(t))return ki;if(/^_count/.test(t))return Ci;if(/^_stats/.test(t))return Oi;if(/^_/.test(t))throw new Error(t+" is not a supported reduce function.")}(e);return n||gi(e)}),(function(t,e){var n=t.views&&t.views[e];if("string"!=typeof n.map)throw new ii("ddoc "+t._id+" has no string view named "+e+", instead found object of type: "+typeof n.map)}));var Si={query:function(t,e,n){return Ei.query.call(this,t,e,n)},viewCleanup:function(t){return Ei.viewCleanup.call(this,t)}};function Ai(t){return/^1-/.test(t)}function Ri(t,e){var n=Object.keys(e._attachments);return Promise.all(n.map((function(n){return t.getAttachment(e._id,n,{rev:e._rev})})))}function ji(t,e,n,r){n=Qe(n);var o=[],i=!0;function a(e){return t.allDocs({keys:e,include_docs:!0,conflicts:!0}).then((function(t){if(r.cancelled)throw new Error("cancelled");t.rows.forEach((function(t){var e;t.deleted||!t.doc||!Ai(t.value.rev)||(e=t.doc,e._attachments&&Object.keys(e._attachments).length>0)||function(t){return t._conflicts&&t._conflicts.length>0}(t.doc)||(t.doc._conflicts&&delete t.doc._conflicts,o.push(t.doc),delete n[t.id])}))}))}return Promise.resolve().then((function(){var t=Object.keys(n).filter((function(t){var e=n[t].missing;return 1===e.length&&Ai(e[0])}));if(t.length>0)return a(t)})).then((function(){var a=function(t){var e=[];return Object.keys(t).forEach((function(n){t[n].missing.forEach((function(t){e.push({id:n,rev:t})}))})),{docs:e,revs:!0,latest:!0}}(n);if(a.docs.length)return t.bulkGet(a).then((function(n){if(r.cancelled)throw new Error("cancelled");return Promise.all(n.results.map((function(n){return Promise.all(n.docs.map((function(n){var r=n.ok;return n.error&&(i=!1),r&&r._attachments?function(t,e,n){var r=Mn(e)&&!Mn(t),o=Object.keys(n._attachments);return r?t.get(n._id).then((function(r){return Promise.all(o.map((function(o){return function(t,e,n){return!t._attachments||!t._attachments[n]||t._attachments[n].digest!==e._attachments[n].digest}(r,n,o)?e.getAttachment(n._id,o):t.getAttachment(r._id,o)})))})).catch((function(t){if(404!==t.status)throw t;return Ri(e,n)})):Ri(e,n)}(e,t,r).then((function(t){var e=Object.keys(r._attachments);return t.forEach((function(t,n){var o=r._attachments[e[n]];delete o.stub,delete o.length,o.data=t})),r})):r})))}))).then((function(t){o=o.concat(Pn(t).filter(Boolean))}))}))})).then((function(){return{ok:i,docs:o}}))}var Pi="pouchdb";function Di(t,e,n,r,o){return t.get(e).catch((function(n){if(404===n.status)return"http"!==t.adapter&&"https"!==t.adapter||fn(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:r,_id:e,history:[],replicator:Pi,version:1};throw n})).then((function(i){if(!o.cancelled&&i.last_seq!==n)return i.history=(i.history||[]).filter((function(t){return t.session_id!==r})),i.history.unshift({last_seq:n,session_id:r}),i.history=i.history.slice(0,5),i.version=1,i.replicator=Pi,i.session_id=r,i.last_seq=n,t.put(i).catch((function(i){if(409===i.status)return Di(t,e,n,r,o);throw i}))}))}function Mi(t,e,n,r,o){this.src=t,this.target=e,this.id=n,this.returnValue=r,this.opts=o||{}}Mi.prototype.writeCheckpoint=function(t,e){var n=this;return this.updateTarget(t,e).then((function(){return n.updateSource(t,e)}))},Mi.prototype.updateTarget=function(t,e){return this.opts.writeTargetCheckpoint?Di(this.target,this.id,t,e,this.returnValue):Promise.resolve(!0)},Mi.prototype.updateSource=function(t,e){if(this.opts.writeSourceCheckpoint){var n=this;return Di(this.src,this.id,t,e,this.returnValue).catch((function(t){if(qi(t))return n.opts.writeSourceCheckpoint=!1,!0;throw t}))}return Promise.resolve(!0)};var Ti={undefined:function(t,e){return 0===Vr(t.last_seq,e.last_seq)?e.last_seq:0},1:function(t,e){return function(t,e){if(t.session_id===e.session_id)return{last_seq:t.last_seq,history:t.history};return Ii(t.history,e.history)}(e,t).last_seq}};function Ii(t,e){var n=t[0],r=t.slice(1),o=e[0],i=e.slice(1);return n&&0!==e.length?Li(n.session_id,e)?{last_seq:n.last_seq,history:t}:Li(o.session_id,r)?{last_seq:o.last_seq,history:i}:Ii(r,i):{last_seq:0,history:[]}}function Li(t,e){var n=e[0],r=e.slice(1);return!(!t||0===e.length)&&(t===n.session_id||Li(t,r))}function qi(t){return"number"==typeof t.status&&4===Math.floor(t.status/100)}Mi.prototype.getCheckpoint=function(){var t=this;return t.opts&&t.opts.writeSourceCheckpoint&&!t.opts.writeTargetCheckpoint?t.src.get(t.id).then((function(t){return t.last_seq||0})).catch((function(t){if(404!==t.status)throw t;return 0})):t.target.get(t.id).then((function(e){return t.opts&&t.opts.writeTargetCheckpoint&&!t.opts.writeSourceCheckpoint?e.last_seq||0:t.src.get(t.id).then((function(t){return e.version!==t.version?0:(n=e.version?e.version.toString():"undefined")in Ti?Ti[n](e,t):0;var n}),(function(n){if(404===n.status&&e.last_seq)return t.src.put({_id:t.id,last_seq:0}).then((function(){return 0}),(function(n){return qi(n)?(t.opts.writeSourceCheckpoint=!1,e.last_seq):0}));throw n}))})).catch((function(t){if(404!==t.status)throw t;return 0}))};function zi(t,e,n){var r=n.doc_ids?n.doc_ids.sort(Vr):"",o=n.filter?n.filter.toString():"",i="",a="",s="";return n.selector&&(s=JSON.stringify(n.selector)),n.filter&&n.query_params&&(i=JSON.stringify(function(t){return Object.keys(t).sort(Vr).reduce((function(e,n){return e[n]=t[n],e}),{})}(n.query_params))),n.filter&&"_view"===n.filter&&(a=n.view.toString()),Promise.all([t.id(),e.id()]).then((function(t){var e=t[0]+t[1]+o+a+i+r+s;return new Promise((function(t){nr(e,t)}))})).then((function(t){return"_local/"+(t=t.replace(/\//g,".").replace(/\+/g,"_"))}))}function Ni(t,e,n,r,o){var i,a,s,c=[],u={seq:0,changes:[],docs:[]},l=!1,f=!1,d=!1,h=0,p=n.continuous||n.live||!1,v=n.batch_size||100,g=n.batches_limit||10,m=!1,y=n.doc_ids,_=n.selector,b=[],w=ir();o=o||{ok:!0,start_time:(new Date).toISOString(),docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var x={};function $(){return s?Promise.resolve():zi(t,e,n).then((function(o){a=o;var i={};i=!1===n.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!1}:"source"===n.checkpoint?{writeSourceCheckpoint:!0,writeTargetCheckpoint:!1}:"target"===n.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!0}:{writeSourceCheckpoint:!0,writeTargetCheckpoint:!0},s=new Mi(t,e,a,r,i)}))}function k(){if(b=[],0!==i.docs.length){var t=i.docs,a={timeout:n.timeout};return e.bulkDocs({docs:t,new_edits:!1},a).then((function(e){if(r.cancelled)throw R(),new Error("cancelled");var n=Object.create(null);e.forEach((function(t){t.error&&(n[t.id]=t)}));var i=Object.keys(n).length;o.doc_write_failures+=i,o.docs_written+=t.length-i,t.forEach((function(t){var e=n[t._id];if(e){o.errors.push(e);var i=(e.name||"").toLowerCase();if("unauthorized"!==i&&"forbidden"!==i)throw e;r.emit("denied",Qe(e))}else b.push(t)}))}),(function(e){throw o.doc_write_failures+=t.length,e}))}}function C(){if(i.error)throw new Error("There was a problem getting docs.");o.last_seq=h=i.seq;var t=Qe(o);return b.length&&(t.docs=b,"number"==typeof i.pending&&(t.pending=i.pending,delete i.pending),r.emit("change",t)),l=!0,s.writeCheckpoint(i.seq,w).then((function(){if(l=!1,r.cancelled)throw R(),new Error("cancelled");i=void 0,M()})).catch((function(t){throw I(t),t}))}function O(){return ji(t,e,i.diffs,r).then((function(t){i.error=!t.ok,t.docs.forEach((function(t){delete i.diffs[t._id],o.docs_read++,i.docs.push(t)}))}))}function E(){var t;r.cancelled||i||(0!==c.length?(i=c.shift(),(t={},i.changes.forEach((function(e){"_user/"!==e.id&&(t[e.id]=e.changes.map((function(t){return t.rev})))})),e.revsDiff(t).then((function(t){if(r.cancelled)throw R(),new Error("cancelled");i.diffs=t}))).then(O).then(k).then(C).then(E).catch((function(t){A("batch processing terminated with error",t)}))):S(!0))}function S(t){0!==u.changes.length?(t||f||u.changes.length>=v)&&(c.push(u),u={seq:0,changes:[],docs:[]},"pending"!==r.state&&"stopped"!==r.state||(r.state="active",r.emit("active")),E()):0!==c.length||i||((p&&x.live||f)&&(r.state="pending",r.emit("paused")),f&&R())}function A(t,e){d||(e.message||(e.message=t),o.ok=!1,o.status="aborting",c=[],u={seq:0,changes:[],docs:[]},R(e))}function R(i){if(!(d||r.cancelled&&(o.status="cancelled",l)))if(o.status=o.status||"complete",o.end_time=(new Date).toISOString(),o.last_seq=h,d=!0,i){(i=An(i)).result=o;var a=(i.name||"").toLowerCase();"unauthorized"===a||"forbidden"===a?(r.emit("error",i),r.removeAllListeners()):function(t,e,n,r){if(!1===t.retry)return e.emit("error",n),void e.removeAllListeners();if("function"!=typeof t.back_off_function&&(t.back_off_function=ln),e.emit("requestError",n),"active"===e.state||"pending"===e.state){e.emit("paused",n),e.state="stopped";var o=function(){t.current_back_off=0};e.once("paused",(function(){e.removeListener("active",o)})),e.once("active",o)}t.current_back_off=t.current_back_off||0,t.current_back_off=t.back_off_function(t.current_back_off),setTimeout(r,t.current_back_off)}(n,r,i,(function(){Ni(t,e,n,r)}))}else r.emit("complete",o),r.removeAllListeners()}function j(t,e,o){if(r.cancelled)return R();"number"==typeof e&&(u.pending=e),jn(n)(t)&&(u.seq=t.seq||o,u.changes.push(t),ue((function(){S(0===c.length&&x.live)})))}function P(t){if(m=!1,r.cancelled)return R();if(t.results.length>0)x.since=t.results[t.results.length-1].seq,M(),S(!0);else{var e=function(){p?(x.live=!0,M()):f=!0,S(!0)};i||0!==t.results.length?e():(l=!0,s.writeCheckpoint(t.last_seq,w).then((function(){l=!1,o.last_seq=h=t.last_seq,e()})).catch(I))}}function D(t){if(m=!1,r.cancelled)return R();A("changes rejected",t)}function M(){if(!m&&!f&&c.length<g){m=!0,r._changes&&(r.removeListener("cancel",r._abortChanges),r._changes.cancel()),r.once("cancel",o);var e=t.changes(x).on("change",j);e.then(i,i),e.then(P).catch(D),n.retry&&(r._changes=e,r._abortChanges=o)}function o(){e.cancel()}function i(){r.removeListener("cancel",o)}}function T(){$().then((function(){if(!r.cancelled)return s.getCheckpoint().then((function(t){x={since:h=t,limit:v,batch_size:v,style:"all_docs",doc_ids:y,selector:_,return_docs:!0},n.filter&&("string"!=typeof n.filter?x.include_docs=!0:x.filter=n.filter),"heartbeat"in n&&(x.heartbeat=n.heartbeat),"timeout"in n&&(x.timeout=n.timeout),n.query_params&&(x.query_params=n.query_params),n.view&&(x.view=n.view),M()}));R()})).catch((function(t){A("getCheckpoint rejected with ",t)}))}function I(t){l=!1,A("writeCheckpoint completed with error",t)}r.ready(t,e),r.cancelled?R():(r._addedListeners||(r.once("cancel",R),"function"==typeof n.complete&&(r.once("error",n.complete),r.once("complete",(function(t){n.complete(null,t)}))),r._addedListeners=!0),void 0===n.since?T():$().then((function(){return l=!0,s.writeCheckpoint(n.since,w)})).then((function(){l=!1,r.cancelled?R():(h=n.since,T())})).catch(I))}function Ui(){De.call(this),this.cancelled=!1,this.state="pending";var t=this,e=new Promise((function(e,n){t.once("complete",e),t.once("error",n)}));t.then=function(t,n){return e.then(t,n)},t.catch=function(t){return e.catch(t)},t.catch((function(){}))}function Bi(t,e){var n=e.PouchConstructor;return"string"==typeof t?new n(t,e):t}function Fi(t,e,n,r){if("function"==typeof n&&(r=n,n={}),void 0===n&&(n={}),n.doc_ids&&!Array.isArray(n.doc_ids))throw An(kn,"`doc_ids` filter parameter is not a list.");n.complete=r,(n=Qe(n)).continuous=n.continuous||n.live,n.retry="retry"in n&&n.retry,n.PouchConstructor=n.PouchConstructor||this;var o=new Ui(n);return Ni(Bi(t,n),Bi(e,n),n,o),o}function Wi(t,e,n,r){return"function"==typeof n&&(r=n,n={}),void 0===n&&(n={}),(n=Qe(n)).PouchConstructor=n.PouchConstructor||this,new Vi(t=Bi(t,n),e=Bi(e,n),n,r)}function Vi(t,e,n,r){var o=this;this.canceled=!1;var i=n.push?dn({},n,n.push):n,a=n.pull?dn({},n,n.pull):n;function s(t){o.emit("change",{direction:"pull",change:t})}function c(t){o.emit("change",{direction:"push",change:t})}function u(t){o.emit("denied",{direction:"push",doc:t})}function l(t){o.emit("denied",{direction:"pull",doc:t})}function f(){o.pushPaused=!0,o.pullPaused&&o.emit("paused")}function d(){o.pullPaused=!0,o.pushPaused&&o.emit("paused")}function h(){o.pushPaused=!1,o.pullPaused&&o.emit("active",{direction:"push"})}function p(){o.pullPaused=!1,o.pushPaused&&o.emit("active",{direction:"pull"})}this.push=Fi(t,e,i),this.pull=Fi(e,t,a),this.pushPaused=!0,this.pullPaused=!0;var v={};function g(t){return function(e,n){("change"===e&&(n===s||n===c)||"denied"===e&&(n===l||n===u)||"paused"===e&&(n===d||n===f)||"active"===e&&(n===p||n===h))&&(e in v||(v[e]={}),v[e][t]=!0,2===Object.keys(v[e]).length&&o.removeAllListeners(e))}}function m(t,e,n){-1==t.listeners(e).indexOf(n)&&t.on(e,n)}n.live&&(this.push.on("complete",o.pull.cancel.bind(o.pull)),this.pull.on("complete",o.push.cancel.bind(o.push))),this.on("newListener",(function(t){"change"===t?(m(o.pull,"change",s),m(o.push,"change",c)):"denied"===t?(m(o.pull,"denied",l),m(o.push,"denied",u)):"active"===t?(m(o.pull,"active",p),m(o.push,"active",h)):"paused"===t&&(m(o.pull,"paused",d),m(o.push,"paused",f))})),this.on("removeListener",(function(t){"change"===t?(o.pull.removeListener("change",s),o.push.removeListener("change",c)):"denied"===t?(o.pull.removeListener("denied",l),o.push.removeListener("denied",u)):"active"===t?(o.pull.removeListener("active",p),o.push.removeListener("active",h)):"paused"===t&&(o.pull.removeListener("paused",d),o.push.removeListener("paused",f))})),this.pull.on("removeListener",g("pull")),this.push.on("removeListener",g("push"));var y=Promise.all([this.push,this.pull]).then((function(t){var e={push:t[0],pull:t[1]};return o.emit("complete",e),r&&r(null,e),o.removeAllListeners(),e}),(function(t){if(o.cancel(),r?r(t):o.emit("error",t),o.removeAllListeners(),r)throw t}));this.then=function(t,e){return y.then(t,e)},this.catch=function(t){return y.catch(t)}}je(Ui,De),Ui.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")},Ui.prototype.ready=function(t,e){var n=this;function r(){n.cancel()}n._readyCalled||(n._readyCalled=!0,t.once("destroyed",r),e.once("destroyed",r),n.once("complete",(function(){t.removeListener("destroyed",r),e.removeListener("destroyed",r)})))},je(Vi,De),Vi.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())},Rr.plugin((function(t){t.adapter("idb",Ho,!0)})).plugin((function(t){t.adapter("http",ri,!1),t.adapter("https",ri,!1)})).plugin(Si).plugin((function(t){t.replicate=Fi,t.sync=Wi,Object.defineProperty(t.prototype,"replicate",{get:function(){var t=this;return void 0===this.replicateMethods&&(this.replicateMethods={from:function(e,n,r){return t.constructor.replicate(e,t,n,r)},to:function(e,n,r){return t.constructor.replicate(t,e,n,r)}}),this.replicateMethods}}),t.prototype.sync=function(t,e,n){return this.constructor.sync(this,t,e,n)}}));const Gi=qt([{value:"auto",text:"Auto"},{value:"FR",text:"Franais"},{value:"EN",text:"English"}]),Hi=function(){const{subscribe:t,set:e,update:n}=qt({});return{subscribe:t,readParams:()=>n((t=>function(t){function e(t,e){var n=localStorage.getItem(t);return null==n?(localStorage.setItem(t,e),e):n}function n(t,e){var n=localStorage.getItem(t);return null==n?(localStorage.setItem(t,e?"1":"0"),e):"1"==n}return t.protocol=e("protocol","http"),t.server=e("server",""),t.port=e("port",""),t.database=e("database",""),t.showPurchasedAtTheEnd=n("showPurchasedAtTheEnd",!0),t.allwaysShowDeleteButton=n("allwaysShowDeleteButton",!1),t.longPressToEdit=n("longPressToEdit",!1),t.showEmptyCategory=n("showEmptyCategory",!1),t.language=e("language","auto"),t.fontSize=e("fontSize","text-sm"),t.startLocation=e("startLocation","/"),t}(t))),saveParams:()=>n((t=>function(t){function e(t,e){localStorage.setItem(t,e)}function n(t,n){e(t,n?"1":"0")}return e("protocol",t.protocol),e("server",t.server),e("port",t.port),e("database",t.database),n("showPurchasedAtTheEnd",t.showPurchasedAtTheEnd),n("allwaysShowDeleteButton",t.allwaysShowDeleteButton),n("longPressToEdit",t.longPressToEdit),n("showEmptyCategory",t.showEmptyCategory),e("language",t.language),e("fontSize",t.fontSize),e("startLocation",t.startLocation),t}(t))),set:t=>e(t)}}(),Ki=function(){const{subscribe:t,set:e,update:n}=qt({});return{subscribe:t,setLocal:t=>n((e=>function(t,e){const n=window.navigator.language.slice(0,2).toUpperCase();var r={};switch("auto"==e?n:e){case"FR":r={appname:"My Shopping List",categories:"Catgories",category:"Categorie",parameters:"Paramtres",all:"Tout",cancel:"Annuler",ok:"OK",newItem:"Nouvel achat ...",product:"Produit",added:"ajout",detail:"Dtails",empty:"** vide **",emtpyCategory:"Sans catgorie",settings:"Paramtres",couchdbConf:"Couchdb",serverName:"Serveur",port:"Port",databaseName:"Base de donnes",displaySection:"Affichage & comportement",showPurchasedAtTheEnd:"Afficher les achats raliss en fin de liste ?",allwaysShowDeleteButton:"Toujours afficher le bouton de suppression ?",showEmptyCategory:"Afficher la catgorie vide ?",longPressToEdit:"Appui long pour diter ?",language:"Langue",fontSize:"Taille police",creditSection:"Crdits",scanError:"Erreur scan : ",scanNotFound:"Produit non trouv",scanPrompt:"Visez un barcode"};break;case"EN":default:r={appname:"My Shopping List",categories:"Categories",category:"Category",parameters:"Parameters",all:"All",cancel:"Cancel",ok:"OK",newItem:"New product ...",product:"Product",added:"added",detail:"Details",empty:"** empty **",emtpyCategory:"Empty category",settings:"Settings",couchdbConf:"Couchdb",serverName:"Server",port:"Port",databaseName:"Database",displaySection:"Display & behaviour",showPurchasedAtTheEnd:"Display the purchases made at the end of the list?",allwaysShowDeleteButton:"Always show delete button?",showEmptyCategory:"Display empty category?",longPressToEdit:"Long press to edit ?",language:"Language",fontSize:"Font size",creditSection:"Credits",scanError:"Scan error : ",scanNotFound:"Product not found",scanPrompt:"Place a barcode inside the scan area"}}return r}(0,t))),set:t=>e(t)}}(),Ji=qt([]),Xi=qt([]);var Qi;function Yi(t){for(var e=[/[\300-\306]/g,/[\340-\346]/g,/[\310-\313]/g,/[\350-\353]/g,/[\314-\317]/g,/[\354-\357]/g,/[\322-\330]/g,/[\362-\370]/g,/[\331-\334]/g,/[\371-\374]/g,/[\321]/g,/[\361]/g,/[\307]/g,/[\347]/g],n=["A","a","E","e","I","i","O","o","U","u","N","n","C","c"],r=0;r<e.length;r++)t=t.replace(e[r],n[r]);return t}const Zi={openDb:async function(){Qi=new Rr("shopping"),await ta();var t=u(Hi),e="";if(""!=t.protocol&&""!=t.server&&""!=t.port&&""!=t.database){e=t.protocol+"://"+t.server+":"+t.port+"/"+t.database;Rr.sync("shopping",e,{live:!0,retry:!0}).on("change",(async function(t){await ta()})).on("error",(function(t){console.log("Replication error:",t)}))}},updateList:ta,addItem:async function(t){const e=aa(t);return await ia(e)},updateItem:ia,removeItem:async function(t){if((await Qi.remove(t)).ok){var e=u(Ji);Ji.set(e.filter((e=>e._id!==t._id)))}},getShoppingListItem:function(t){return u(Ji).filter((e=>e._id==t))[0]},getShoppingListNewItem:aa,addCategory:async function(t){const e=ca(t);await sa(e)},removeCategory:async function(t){if((await Qi.remove(t)).ok){var e=u(Xi);Xi.set(e.filter((e=>e._id!==t._id)));for(const e of u(Ji))e.categoryId==t._id&&(e.categoryId="",await Qi.put(e));await ta()}},updateCategory:sa,getCategoryListItem:function(t){return u(Xi).filter((e=>e._id==t))[0]},getCategoryListNewItem:ca,compareCategory:oa};async function ta(){const t=await Qi.allDocs({include_docs:!0});var e=u(Hi),n=t.rows.map((t=>t.doc)),r=n.filter((t=>"produit"===t.type));r=e.showPurchasedAtTheEnd?r.sort(ea):r.sort(ra),Ji.set(r);var o=n.filter((t=>"category"===t.type));o=o.sort(oa),Xi.set(o)}function ea(t,e){return na(t.coche)==na(e.coche)?ra(t,e):na(t.coche)?1:-1}function na(t){return null!=t&&t}function ra(t,e){return Yi(t.produit.toUpperCase())>Yi(e.produit.toUpperCase())?1:-1}function oa(t,e){return Yi(t.category.toUpperCase())>Yi(e.category.toUpperCase())?1:-1}async function ia(t){(null==t._id?await Qi.post(t):await Qi.put(t)).ok&&await ta()}function aa(t="",e="",n=!1,r=""){return{type:"produit",produit:t,coche:n,detail:e,categoryId:r,ean:"",image_small_url:"",image_url:""}}async function sa(t){(null==t._id?await Qi.post(t):await Qi.put(t)).ok&&await ta()}function ca(t="",e=""){return{type:"category",category:t,detail:e}}function ua(t){let e,n,r,o,i,a;const s=t[7].default,c=f(s,t,t[6],null);return{c(){e=S("i"),c&&c.c(),M(e,"aria-hidden","true"),M(e,"class",n="material-icons icon text-xl select-none "+t[5].class+" duration-200 ease-in svelte-zzky5a"),M(e,"style",r=t[4]?`color: ${t[4]}`:""),z(e,"reverse",t[2]),z(e,"tip",t[3]),z(e,"text-base",t[0]),z(e,"text-xs",t[1])},m(n,r){C(n,e,r),c&&c.m(e,null),o=!0,i||(a=D(e,"click",t[8]),i=!0)},p(t,[i]){c&&c.p&&64&i&&h(c,s,t,t[6],i,null,null),(!o||32&i&&n!==(n="material-icons icon text-xl select-none "+t[5].class+" duration-200 ease-in svelte-zzky5a"))&&M(e,"class",n),(!o||16&i&&r!==(r=t[4]?`color: ${t[4]}`:""))&&M(e,"style",r),36&i&&z(e,"reverse",t[2]),40&i&&z(e,"tip",t[3]),33&i&&z(e,"text-base",t[0]),34&i&&z(e,"text-xs",t[1])},i(t){o||(bt(c,t),o=!0)},o(t){wt(c,t),o=!1},d(t){t&&O(e),c&&c.d(t),i=!1,a()}}}function la(t,e,r){let{$$slots:o={},$$scope:i}=e,{small:a=!1}=e,{xs:s=!1}=e,{reverse:c=!1}=e,{tip:u=!1}=e,{color:l="default"}=e;return t.$$set=t=>{r(5,e=n(n({},e),p(t))),"small"in t&&r(0,a=t.small),"xs"in t&&r(1,s=t.xs),"reverse"in t&&r(2,c=t.reverse),"tip"in t&&r(3,u=t.tip),"color"in t&&r(4,l=t.color),"$$scope"in t&&r(6,i=t.$$scope)},e=p(e),[a,s,c,u,l,e,i,o,function(e){Y(t,e)}]}class fa extends Tt{constructor(t){super(),Mt(this,t,la,ua,s,{small:0,xs:1,reverse:2,tip:3,color:4})}}const da=["white","black","transparent"];function ha(t,e,n,r){return da.includes(e)?`${t}-${e}`:`${t}-${e}-${n||r} `}function pa(t,e=500){return{bg:n=>ha("bg",t,n,e),border:n=>ha("border",t,n,e),txt:n=>ha("text",t,n,e),caret:n=>ha("caret",t,n,e)}}class va{constructor(t,e){this.defaults=("function"==typeof t?t(e):t)||e,this.classes=this.defaults}flush(){return this.classes=this.defaults,this}extend(...t){return this}get(){return this.classes}replace(t,e=!0){return e&&t&&(this.classes=Object.keys(t).reduce(((e,n)=>e.replace(new RegExp(n,"g"),t[n])),this.classes)),this}remove(t,e=!0){return e&&t&&(this.classes=t.split(" ").reduce(((t,e)=>t.replace(new RegExp(e,"g"),"")),this.classes)),this}add(t,e=!0,n){if(!e||!t)return this;switch(typeof t){case"string":default:return this.classes+=` ${t} `,this;case"function":return this.classes+=` ${t(n||this.classes)} `,this}}}const ga=["class","add","remove","replace","value"];function ma(t,e){const n=[...t,...ga];return Object.keys(e).reduce(((t,r)=>r.includes("$$")||r.includes("Class")||n.includes(r)?t:{...t,[r]:e[r]}),{})}function ya(t="primary",e=!1){return function(n){const r=function(t,e){return function(n){const r=n.currentTarget,o=document.createElement("span"),i=Math.max(r.clientWidth,r.clientHeight),a=()=>{o.remove(),o.removeEventListener("animationend",a)};o.addEventListener("animationend",a),o.style.width=o.style.height=`${i}px`;const s=r.getBoundingClientRect();e?o.classList.add("absolute","top-0","left-0","ripple-centered",`bg-${t}-transDark`):(o.style.left=n.clientX-s.left-i/2+"px",o.style.top=n.clientY-s.top-i/2+"px",o.classList.add("ripple-normal",`bg-${t}-trans`)),o.classList.add("ripple"),r.appendChild(o)}}(t,e);return n.addEventListener("mousedown",r),{onDestroy:()=>n.removeEventListener("mousedown",r)}}}function _a(t){let e,r,o,a,s,c=t[3]&&wa(t);const u=t[34].default,l=f(u,t,t[43],null);let d=[{class:t[1]},t[9],{type:t[6]},{disabled:t[2]}],p={};for(let t=0;t<d.length;t+=1)p=n(p,d[t]);return{c(){e=S("button"),c&&c.c(),r=j(),l&&l.c(),T(e,p)},m(n,i){C(n,e,i),c&&c.m(e,null),k(e,r),l&&l.m(e,null),o=!0,a||(s=[m(t[8].call(null,e)),D(e,"click",t[42]),D(e,"click",t[38]),D(e,"mouseover",t[39]),D(e,"*",t[40])],a=!0)},p(t,n){t[3]?c?(c.p(t,n),8&n[0]&&bt(c,1)):(c=wa(t),c.c(),bt(c,1),c.m(e,r)):c&&(yt(),wt(c,1,1,(()=>{c=null})),_t()),l&&l.p&&4096&n[1]&&h(l,u,t,t[43],n,null,null),T(e,p=St(d,[(!o||2&n[0])&&{class:t[1]},t[9],(!o||64&n[0])&&{type:t[6]},(!o||4&n[0])&&{disabled:t[2]}]))},i(t){o||(bt(c),bt(l,t),o=!0)},o(t){wt(c),wt(l,t),o=!1},d(t){t&&O(e),c&&c.d(),l&&l.d(t),a=!1,i(s)}}}function ba(t){let e,r,o,a,s,c,u=t[3]&&$a(t);const l=t[34].default,d=f(l,t,t[43],null);let p=[{class:t[1]},t[9],{type:t[6]},{disabled:t[2]}],v={};for(let t=0;t<p.length;t+=1)v=n(v,p[t]);let g=[{href:t[5]},t[9]],y={};for(let t=0;t<g.length;t+=1)y=n(y,g[t]);return{c(){e=S("a"),r=S("button"),u&&u.c(),o=j(),d&&d.c(),T(r,v),T(e,y)},m(n,i){C(n,e,i),k(e,r),u&&u.m(r,null),k(r,o),d&&d.m(r,null),a=!0,s||(c=[m(t[8].call(null,r)),D(r,"click",t[41]),D(r,"click",t[35]),D(r,"mouseover",t[36]),D(r,"*",t[37])],s=!0)},p(t,n){t[3]?u?(u.p(t,n),8&n[0]&&bt(u,1)):(u=$a(t),u.c(),bt(u,1),u.m(r,o)):u&&(yt(),wt(u,1,1,(()=>{u=null})),_t()),d&&d.p&&4096&n[1]&&h(d,l,t,t[43],n,null,null),T(r,v=St(p,[(!a||2&n[0])&&{class:t[1]},t[9],(!a||64&n[0])&&{type:t[6]},(!a||4&n[0])&&{disabled:t[2]}])),T(e,y=St(g,[(!a||32&n[0])&&{href:t[5]},t[9]]))},i(t){a||(bt(u),bt(d,t),a=!0)},o(t){wt(u),wt(d,t),a=!1},d(t){t&&O(e),u&&u.d(),d&&d.d(t),s=!1,i(c)}}}function wa(t){let e,n;return e=new fa({props:{class:t[7],small:t[4],$$slots:{default:[xa]},$$scope:{ctx:t}}}),{c(){jt(e.$$.fragment)},m(t,r){Pt(e,t,r),n=!0},p(t,n){const r={};128&n[0]&&(r.class=t[7]),16&n[0]&&(r.small=t[4]),8&n[0]|4096&n[1]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(bt(e.$$.fragment,t),n=!0)},o(t){wt(e.$$.fragment,t),n=!1},d(t){Dt(e,t)}}}function xa(t){let e;return{c(){e=R(t[3])},m(t,n){C(t,e,n)},p(t,n){8&n[0]&&I(e,t[3])},d(t){t&&O(e)}}}function $a(t){let e,n;return e=new fa({props:{class:t[7],small:t[4],$$slots:{default:[ka]},$$scope:{ctx:t}}}),{c(){jt(e.$$.fragment)},m(t,r){Pt(e,t,r),n=!0},p(t,n){const r={};128&n[0]&&(r.class=t[7]),16&n[0]&&(r.small=t[4]),8&n[0]|4096&n[1]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(bt(e.$$.fragment,t),n=!0)},o(t){wt(e.$$.fragment,t),n=!1},d(t){Dt(e,t)}}}function ka(t){let e;return{c(){e=R(t[3])},m(t,n){C(t,e,n)},p(t,n){8&n[0]&&I(e,t[3])},d(t){t&&O(e)}}}function Ca(t){let e,n,r,o;const i=[ba,_a],a=[];function s(t,e){return t[5]?0:1}return e=s(t),n=a[e]=i[e](t),{c(){n.c(),r=P()},m(t,n){a[e].m(t,n),C(t,r,n),o=!0},p(t,o){let c=e;e=s(t),e===c?a[e].p(t,o):(yt(),wt(a[c],1,1,(()=>{a[c]=null})),_t(),n=a[e],n?n.p(t,o):(n=a[e]=i[e](t),n.c()),bt(n,1),n.m(r.parentNode,r))},i(t){o||(bt(n),o=!0)},o(t){wt(n),o=!1},d(t){a[e].d(t),t&&O(r)}}}const Oa="z-10 py-2 px-4 uppercase text-sm font-medium relative overflow-hidden",Ea="text-white duration-200 ease-in",Sa="bg-transparent border border-solid",Aa="bg-transparent border-none px-4 hover:bg-transparent",Ra="p-4 flex items-center select-none",ja="hover:bg-transparent",Pa="pt-1 pb-1 pl-2 pr-2 text-xs",Da="bg-gray-300 text-gray-500 dark:bg-dark-400 pointer-events-none hover:bg-gray-300 cursor-default",Ma="hover:shadow shadow";function Ta(t,e,r){let o,i,{$$slots:a={},$$scope:s}=e,{value:c=!1}=e,{outlined:u=!1}=e,{text:l=!1}=e,{block:f=!1}=e,{disabled:d=!1}=e,{icon:h=null}=e,{small:v=!1}=e,{light:g=!1}=e,{dark:m=!1}=e,{flat:y=!1}=e,{iconClass:_=""}=e,{color:b="primary"}=e,{href:w=null}=e,{fab:x=!1}=e,{type:$="button"}=e,{remove:k=""}=e,{add:C=""}=e,{replace:O={}}=e,{classes:E=Oa}=e,{basicClasses:S=Ea}=e,{outlinedClasses:A=Sa}=e,{textClasses:R=Aa}=e,{iconClasses:j=Ra}=e,{fabClasses:P=ja}=e,{smallClasses:D=Pa}=e,{disabledClasses:M=Da}=e,{elevationClasses:T=Ma}=e;x=x||l&&h;const I=!u&&!l&&!x,L=(I||h)&&!d&&!y&&!l;let q=t=>t,z=0;const{bg:N,border:U,txt:B}=pa(b),F=new va(E,Oa);let W;h&&(W=new va(_));const V=ya(l||x||u?b:"white"),G=ma(["outlined","text","color","block","disabled","icon","small","light","dark","flat","add","remove","replace"],e);return t.$$set=t=>{r(51,e=n(n({},e),p(t))),"value"in t&&r(0,c=t.value),"outlined"in t&&r(11,u=t.outlined),"text"in t&&r(12,l=t.text),"block"in t&&r(13,f=t.block),"disabled"in t&&r(2,d=t.disabled),"icon"in t&&r(3,h=t.icon),"small"in t&&r(4,v=t.small),"light"in t&&r(14,g=t.light),"dark"in t&&r(15,m=t.dark),"flat"in t&&r(16,y=t.flat),"iconClass"in t&&r(17,_=t.iconClass),"color"in t&&r(18,b=t.color),"href"in t&&r(5,w=t.href),"fab"in t&&r(10,x=t.fab),"type"in t&&r(6,$=t.type),"remove"in t&&r(19,k=t.remove),"add"in t&&r(20,C=t.add),"replace"in t&&r(21,O=t.replace),"classes"in t&&r(1,E=t.classes),"basicClasses"in t&&r(22,S=t.basicClasses),"outlinedClasses"in t&&r(23,A=t.outlinedClasses),"textClasses"in t&&r(24,R=t.textClasses),"iconClasses"in t&&r(25,j=t.iconClasses),"fabClasses"in t&&r(26,P=t.fabClasses),"smallClasses"in t&&r(27,D=t.smallClasses),"disabledClasses"in t&&r(28,M=t.disabledClasses),"elevationClasses"in t&&r(29,T=t.elevationClasses),"$$scope"in t&&r(43,s=t.$$scope)},t.$$.update=()=>{1073790976&t.$$.dirty[0]&&(r(30,z=g?200:0),r(30,z=m?-400:z)),1073741824&t.$$.dirty[0]&&r(32,o=500-z),1073741824&t.$$.dirty[0]&&r(33,i=400-z),r(1,E=F.flush().add(S,I,Ea).add(`${N(o)} hover:${N(i)}`,I).add(T,L,Ma).add(A,u,Sa).add(`${U(i)} ${B(o)} hover:${N("trans")} dark-hover:${N("transDark")}`,u).add(`${B(i)}`,l).add(R,l,Aa).add(j,h,Ra).remove("py-2",h).remove(B(i),x).add(M,d,Da).add(D,v,Pa).add("flex items-center justify-center h-8 w-8",v&&h).add("border-solid",u).add("rounded-full",h).add("w-full",f).add("rounded",I||u||l).add("button",!h).add(P,x,ja).add(`hover:${N("transLight")}`,x).add(e.class).remove(k).replace(O).add(C).get()),132096&t.$$.dirty[0]|1&t.$$.dirty[1]&&W&&r(7,q=W.flush().add(B(),x&&!_).get())},e=p(e),[c,E,d,h,v,w,$,q,V,G,x,u,l,f,g,m,y,_,b,k,C,O,S,A,R,j,P,D,M,T,z,W,o,i,a,function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},()=>r(0,c=!c),()=>r(0,c=!c),s]}class Ia extends Tt{constructor(t){super(),Mt(this,t,Ta,Ca,s,{value:0,outlined:11,text:12,block:13,disabled:2,icon:3,small:4,light:14,dark:15,flat:16,iconClass:17,color:18,href:5,fab:10,type:6,remove:19,add:20,replace:21,classes:1,basicClasses:22,outlinedClasses:23,textClasses:24,iconClasses:25,fabClasses:26,smallClasses:27,disabledClasses:28,elevationClasses:29},[-1,-1])}}function La(t){const e=t-1;return e*e*e+1}function qa(t){return t*t}function za(t){return-t*(t-2)}function Na(t,{delay:n=0,duration:r=400,easing:o=e}={}){const i=+getComputedStyle(t).opacity;return{delay:n,duration:r,easing:o,css:t=>"opacity: "+t*i}}function Ua(t,{delay:e=0,duration:n=400,easing:r=La,x:o=0,y:i=0,opacity:a=0}={}){const s=getComputedStyle(t),c=+s.opacity,u="none"===s.transform?"":s.transform,l=c*(1-a);return{delay:e,duration:n,easing:r,css:(t,e)=>`\n\t\t\ttransform: ${u} translate(${(1-t)*o}px, ${(1-t)*i}px);\n\t\t\topacity: ${c-l*e}`}}function Ba(t,{delay:e=0,duration:n=400,easing:r=La,start:o=0,opacity:i=0}={}){const a=getComputedStyle(t),s=+a.opacity,c="none"===a.transform?"":a.transform,u=1-o,l=s*(1-i);return{delay:e,duration:n,easing:r,css:(t,e)=>`\n\t\t\ttransform: ${c} scale(${1-u*e});\n\t\t\topacity: ${s-l*e}\n\t\t`}}function Fa(t){let e,n,r,o,i,a;return{c(){e=S("div"),M(e,"class","bg-black fixed top-0 left-0 z-10 w-full h-full"),q(e,"opacity",t[0])},m(n,r){C(n,e,r),o=!0,i||(a=D(e,"click",t[3]),i=!0)},p(n,[r]){t=n,(!o||1&r)&&q(e,"opacity",t[0])},i(i){o||(st((()=>{r&&r.end(1),n||(n=$t(e,Na,t[1])),n.start()})),o=!0)},o(i){n&&n.invalidate(),r=kt(e,Na,t[2]),o=!1},d(t){t&&O(e),t&&r&&r.end(),i=!1,a()}}}function Wa(t,e,n){let{opacity:r=.5}=e,{inProps:o={duration:200,easing:qa}}=e,{outProps:i={duration:200,easing:za}}=e;return t.$$set=t=>{"opacity"in t&&n(0,r=t.opacity),"inProps"in t&&n(1,o=t.inProps),"outProps"in t&&n(2,i=t.outProps)},[r,o,i,function(e){Y(t,e)}]}function Va(e){let n;return{c(){n=S("div"),M(n,"class","flex-grow")},m(t,e){C(t,n,e)},p:t,i:t,o:t,d(t){t&&O(n)}}}const Ga=class extends Tt{constructor(t){super(),Mt(this,t,Wa,Fa,s,{opacity:0,inProps:1,outProps:2})}},Ha=class extends Tt{constructor(t){super(),Mt(this,t,null,Va,s,{})}};function Ka(t){let e;const n=t[11].default,r=f(n,t,t[10],null);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,e){r&&r.p&&1024&e&&h(r,n,t,t[10],e,null,null)},i(t){e||(bt(r,t),e=!0)},o(t){wt(r,t),e=!1},d(t){r&&r.d(t)}}}function Ja(t){let e,n,r,o,i,a=t[3]&&Ka(t);return{c(){e=S("div"),a&&a.c(),M(e,"class",n="wrapper "+t[2]+" "+t[0]+" svelte-142y8oi"),M(e,"style",t[1])},m(n,s){C(n,e,s),a&&a.m(e,null),r=!0,o||(i=m(t[4].call(null,e)),o=!0)},p(t,[o]){t[3]?a?(a.p(t,o),8&o&&bt(a,1)):(a=Ka(t),a.c(),bt(a,1),a.m(e,null)):a&&(yt(),wt(a,1,1,(()=>{a=null})),_t()),(!r||5&o&&n!==(n="wrapper "+t[2]+" "+t[0]+" svelte-142y8oi"))&&M(e,"class",n),(!r||2&o)&&M(e,"style",t[1])},i(t){r||(bt(a),r=!0)},o(t){wt(a),r=!1},d(t){t&&O(e),a&&a.d(),o=!1,i()}}}function Xa(t,e,n){let{$$slots:r={},$$scope:o}=e;const i=Q();let{offset:a=0}=e,{throttle:s=250}=e,{c:c=""}=e,{style:u=""}=e,{once:l=!0}=e,{threshold:f=1}=e,{disabled:d=!1}=e,{class:h=""}=e,p=d,v=!1,g=!1,m=()=>{};function y(t,e,n){!p||t?(t&&!g&&i("leave"),l&&t&&!g&&m()):i("enter")}return t.$$set=t=>{"offset"in t&&n(5,a=t.offset),"throttle"in t&&n(6,s=t.throttle),"c"in t&&n(0,c=t.c),"style"in t&&n(1,u=t.style),"once"in t&&n(7,l=t.once),"threshold"in t&&n(8,f=t.threshold),"disabled"in t&&n(9,d=t.disabled),"class"in t&&n(2,h=t.class),"$$scope"in t&&n(10,o=t.$$scope)},[c,u,h,p,function(t){if(!window||d)return;if(window.IntersectionObserver&&window.IntersectionObserverEntry){const e=new IntersectionObserver((([{isIntersecting:t}])=>{v=p,g=t,v&&l&&!t||n(3,p=t),y(v)}),{rootMargin:a+"px",threshold:f});return e.observe(t),m=()=>e.unobserve(t),m}function e(){if(!(t.offsetWidth||t.offsetHeight||t.getClientRects().length))return;let e,r;try{({top:e,height:r}=t.getBoundingClientRect())}catch(t){({top:e,height:r}=defaultBoundingClientRect)}const o=window.innerHeight||document.documentElement.clientHeight;v=p,g=e-a<=o&&e+r+a>=0,v&&l&&!isIntersecting?y(v,observer):(n(3,p=g),y(v))}e();const r=function(t,e){let n,r;return()=>{const o=+new Date;n&&o<n+e?(clearTimeout(r),r=setTimeout((function(){n=o,t()}),e)):(n=o,t())}}(e,s);return window.addEventListener("scroll",r),window.addEventListener("resize",r),m=()=>{window.removeEventListener("scroll",r),window.removeEventListener("resize",r)},m},a,s,l,f,d,o,r]}class Qa extends Tt{constructor(t){super(),Mt(this,t,Xa,Ja,s,{offset:5,throttle:6,c:0,style:1,once:7,threshold:8,disabled:9,class:2})}}const Ya=t=>({}),Za=t=>({});function ts(t){let e;const n=t[9].loading,r=f(n,t,t[10],Za);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,e){r&&r.p&&1024&e&&h(r,n,t,t[10],e,Ya,Za)},i(t){e||(bt(r,t),e=!0)},o(t){wt(r,t),e=!1},d(t){r&&r.d(t)}}}function es(e){let n,r,o;return{c(){n=S("img"),M(n,"class",r=e[8].class),n.src!==(o=e[4])&&M(n,"src",o),M(n,"alt",e[0]),M(n,"width",e[1]),M(n,"height",e[2])},m(t,e){C(t,n,e)},p(t,e){256&e&&r!==(r=t[8].class)&&M(n,"class",r),16&e&&n.src!==(o=t[4])&&M(n,"src",o),1&e&&M(n,"alt",t[0]),2&e&&M(n,"width",t[1]),4&e&&M(n,"height",t[2])},i:t,o:t,d(t){t&&O(n)}}}function ns(e){let n,r,o;return{c(){n=S("img"),M(n,"class",r=e[8].class),n.src!==(o=e[3])&&M(n,"src",o),M(n,"alt",e[0]),M(n,"width",e[1]),M(n,"height",e[2])},m(t,e){C(t,n,e)},p(t,e){256&e&&r!==(r=t[8].class)&&M(n,"class",r),8&e&&n.src!==(o=t[3])&&M(n,"src",o),1&e&&M(n,"alt",t[0]),2&e&&M(n,"width",t[1]),4&e&&M(n,"height",t[2])},i:t,o:t,d(t){t&&O(n)}}}function rs(t){let e,n,r,o;const i=[ns,es,ts],a=[];function s(t,e){return t[5]?0:t[4]?1:t[6]?2:-1}return~(e=s(t))&&(n=a[e]=i[e](t)),{c(){n&&n.c(),r=P()},m(t,n){~e&&a[e].m(t,n),C(t,r,n),o=!0},p(t,o){let c=e;e=s(t),e===c?~e&&a[e].p(t,o):(n&&(yt(),wt(a[c],1,1,(()=>{a[c]=null})),_t()),~e?(n=a[e],n?n.p(t,o):(n=a[e]=i[e](t),n.c()),bt(n,1),n.m(r.parentNode,r)):n=null)},i(t){o||(bt(n),o=!0)},o(t){wt(n),o=!1},d(t){~e&&a[e].d(t),t&&O(r)}}}function os(t){let e,n;return e=new Qa({props:{class:t[8].class,once:!0,style:"height: "+t[2]+"px",offset:"0",$$slots:{default:[rs]},$$scope:{ctx:t}}}),e.$on("enter",t[7]),{c(){jt(e.$$.fragment)},m(t,r){Pt(e,t,r),n=!0},p(t,[n]){const r={};256&n&&(r.class=t[8].class),4&n&&(r.style="height: "+t[2]+"px"),1407&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(bt(e.$$.fragment,t),n=!0)},o(t){wt(e.$$.fragment,t),n=!1},d(t){Dt(e,t)}}}function is(t,e,r){let{$$slots:o={},$$scope:i}=e,{alt:a=""}=e,{width:s=""}=e,{height:c=""}=e,{src:u=""}=e,{thumbnail:l=""}=e,f=!1,d=!1;return t.$$set=t=>{r(8,e=n(n({},e),p(t))),"alt"in t&&r(0,a=t.alt),"width"in t&&r(1,s=t.width),"height"in t&&r(2,c=t.height),"src"in t&&r(3,u=t.src),"thumbnail"in t&&r(4,l=t.thumbnail),"$$scope"in t&&r(10,i=t.$$scope)},e=p(e),[a,s,c,u,l,f,d,function(){const t=new Image;t.src=u,r(6,d=!0),t.onload=()=>{r(6,d=!1),r(5,f=!0)}},e,o,i]}class as extends Tt{constructor(t){super(),Mt(this,t,is,os,s,{alt:0,width:1,height:2,src:3,thumbnail:4})}}function ss(t){let e,n;return e=new fa({props:{class:"pr-6",small:t[3],$$slots:{default:[cs]},$$scope:{ctx:t}}}),{c(){jt(e.$$.fragment)},m(t,r){Pt(e,t,r),n=!0},p(t,n){const r={};8&n&&(r.small=t[3]),4194305&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(bt(e.$$.fragment,t),n=!0)},o(t){wt(e.$$.fragment,t),n=!1},d(t){Dt(e,t)}}}function cs(t){let e;return{c(){e=R(t[0])},m(t,n){C(t,e,n)},p(t,n){1&n&&I(e,t[0])},d(t){t&&O(e)}}}function us(t){let e,n;return{c(){e=S("div"),n=R(t[2]),M(e,"class",t[5])},m(t,r){C(t,e,r),k(e,n)},p(t,r){4&r&&I(n,t[2]),32&r&&M(e,"class",t[5])},d(t){t&&O(e)}}}function ls(t){let e,n,r,o,a,s,c,u,l,d=t[0]&&ss(t);const p=t[20].default,v=f(p,t,t[22],null),g=v||function(t){let e;return{c(){e=R(t[1])},m(t,n){C(t,e,n)},p(t,n){2&n&&I(e,t[1])},d(t){t&&O(e)}}}(t);let y=t[2]&&us(t);return{c(){e=S("li"),d&&d.c(),n=j(),r=S("div"),o=S("div"),g&&g.c(),s=j(),y&&y.c(),M(o,"class",a=t[9].class),M(r,"class","flex flex-col p-0"),M(e,"class",t[6]),M(e,"tabindex",t[4])},m(i,a){C(i,e,a),d&&d.m(e,null),k(e,n),k(e,r),k(r,o),g&&g.m(o,null),k(r,s),y&&y.m(r,null),c=!0,u||(l=[m(t[7].call(null,e)),D(e,"keypress",t[8]),D(e,"click",t[8]),D(e,"click",t[21])],u=!0)},p(t,[i]){t[0]?d?(d.p(t,i),1&i&&bt(d,1)):(d=ss(t),d.c(),bt(d,1),d.m(e,n)):d&&(yt(),wt(d,1,1,(()=>{d=null})),_t()),v?v.p&&4194304&i&&h(v,p,t,t[22],i,null,null):g&&g.p&&2&i&&g.p(t,i),(!c||512&i&&a!==(a=t[9].class))&&M(o,"class",a),t[2]?y?y.p(t,i):(y=us(t),y.c(),y.m(r,null)):y&&(y.d(1),y=null),(!c||64&i)&&M(e,"class",t[6]),(!c||16&i)&&M(e,"tabindex",t[4])},i(t){c||(bt(d),bt(g,t),c=!0)},o(t){wt(d),wt(g,t),c=!1},d(t){t&&O(e),d&&d.d(),g&&g.d(t),y&&y.d(),u=!1,i(l)}}}const fs="focus:bg-gray-50 dark-focus:bg-gray-700 hover:bg-gray-transDark relative overflow-hidden duration-100 p-4 cursor-pointer text-gray-700 dark:text-gray-100 flex items-center z-10",ds="bg-gray-200 dark:bg-primary-transLight",hs="text-gray-600 p-0 text-sm";function ps(t,e,r){let o,{$$slots:i={},$$scope:a}=e,{icon:s=""}=e,{id:c=""}=e,{value:u=""}=e,{text:l=""}=e,{subheading:f=""}=e,{disabled:d=!1}=e,{dense:h=!1}=e,{selected:v=!1}=e,{tabindex:g=null}=e,{selectedClasses:m=ds}=e,{subheadingClasses:y=hs}=e,{to:_=""}=e;const b=ya(),w=Q();let{classes:x=fs}=e;const $=new va(x,fs);return t.$$set=t=>{r(9,e=n(n({},e),p(t))),"icon"in t&&r(0,s=t.icon),"id"in t&&r(11,c=t.id),"value"in t&&r(10,u=t.value),"text"in t&&r(1,l=t.text),"subheading"in t&&r(2,f=t.subheading),"disabled"in t&&r(12,d=t.disabled),"dense"in t&&r(3,h=t.dense),"selected"in t&&r(13,v=t.selected),"tabindex"in t&&r(4,g=t.tabindex),"selectedClasses"in t&&r(14,m=t.selectedClasses),"subheadingClasses"in t&&r(5,y=t.subheadingClasses),"to"in t&&r(15,_=t.to),"classes"in t&&r(19,x=t.classes),"$$scope"in t&&r(22,a=t.$$scope)},t.$$.update=()=>{r(6,o=$.flush().add(m,v,ds).add("py-2",h).add("text-gray-600",d).add(e.class).get())},e=p(e),[s,l,f,h,g,y,o,b,function(){d||(r(10,u=c),w("change",c,_))},e,u,c,d,v,m,_,null,[],null,x,i,function(e){Y(t,e)},a]}class vs extends Tt{constructor(t){super(),Mt(this,t,ps,ls,s,{icon:0,id:11,value:10,text:1,subheading:2,disabled:12,dense:3,selected:13,tabindex:4,selectedClasses:14,subheadingClasses:5,to:15,item:16,items:17,level:18,classes:19})}get item(){return this.$$.ctx[16]}get items(){return this.$$.ctx[17]}get level(){return this.$$.ctx[18]}}function gs(t,e,n){const r=t.slice();return r[6]=e[n],r[22]=n,r}const ms=t=>({item:2&t,dense:4&t,value:1&t}),ys=t=>({item:t[6],dense:t[2],value:t[0]}),_s=t=>({item:2&t,dense:4&t,value:1&t}),bs=t=>({item:t[6],dense:t[2],value:t[0]});function ws(t){let e;const r=t[12].item,o=f(r,t,t[18],ys),i=o||function(t){let e,r,o,i;const a=[{selectedClasses:t[4]},{itemClasses:t[5]},t[6],{tabindex:t[22]+1},{id:Ss(t[6])},{selected:t[0]===Ss(t[6])},{dense:t[2]}];function s(e){t[15](e)}let c={$$slots:{default:[$s]},$$scope:{ctx:t}};for(let t=0;t<a.length;t+=1)c=n(c,a[t]);void 0!==t[0]&&(c.value=t[0]);return e=new vs({props:c}),tt.push((()=>Rt(e,"value",s))),e.$on("change",t[16]),e.$on("click",t[17]),{c(){jt(e.$$.fragment),o=j()},m(t,n){Pt(e,t,n),C(t,o,n),i=!0},p(t,n){const o=55&n?St(a,[16&n&&{selectedClasses:t[4]},32&n&&{itemClasses:t[5]},2&n&&At(t[6]),a[3],2&n&&{id:Ss(t[6])},3&n&&{selected:t[0]===Ss(t[6])},4&n&&{dense:t[2]}]):{};262146&n&&(o.$$scope={dirty:n,ctx:t}),!r&&1&n&&(r=!0,o.value=t[0],ct((()=>r=!1))),e.$set(o)},i(t){i||(bt(e.$$.fragment,t),i=!0)},o(t){wt(e.$$.fragment,t),i=!1},d(t){Dt(e,t),t&&O(o)}}}(t);return{c(){i&&i.c()},m(t,n){i&&i.m(t,n),e=!0},p(t,e){o?o.p&&262151&e&&h(o,r,t,t[18],e,ms,ys):i&&i.p&&7&e&&i.p(t,e)},i(t){e||(bt(i,t),e=!0)},o(t){wt(i,t),e=!1},d(t){i&&i.d(t)}}}function xs(t){let e;const r=t[12].item,o=f(r,t,t[18],bs),i=o||function(t){let e,r,o,i,a,s;const c=[t[6],{id:Ss(t[6])},{dense:t[2]}];function u(e){t[13](e)}let l={$$slots:{default:[ks]},$$scope:{ctx:t}};for(let t=0;t<c.length;t+=1)l=n(l,c[t]);void 0!==t[0]&&(l.value=t[0]);return r=new vs({props:l}),tt.push((()=>Rt(r,"value",u))),r.$on("change",t[14]),{c(){e=S("a"),jt(r.$$.fragment),a=j(),M(e,"tabindex",t[22]+1),M(e,"href",i=t[6].to)},m(t,n){C(t,e,n),Pt(r,e,null),C(t,a,n),s=!0},p(t,n){const a=6&n?St(c,[2&n&&At(t[6]),2&n&&{id:Ss(t[6])},4&n&&{dense:t[2]}]):{};262146&n&&(a.$$scope={dirty:n,ctx:t}),!o&&1&n&&(o=!0,a.value=t[0],ct((()=>o=!1))),r.$set(a),(!s||2&n&&i!==(i=t[6].to))&&M(e,"href",i)},i(t){s||(bt(r.$$.fragment,t),s=!0)},o(t){wt(r.$$.fragment,t),s=!1},d(t){t&&O(e),Dt(r),t&&O(a)}}}(t);return{c(){i&&i.c()},m(t,n){i&&i.m(t,n),e=!0},p(t,e){o?o.p&&262151&e&&h(o,r,t,t[18],e,_s,bs):i&&i.p&&7&e&&i.p(t,e)},i(t){e||(bt(i,t),e=!0)},o(t){wt(i,t),e=!1},d(t){i&&i.d(t)}}}function $s(t){let e,n=As(t[6])+"";return{c(){e=R(n)},m(t,n){C(t,e,n)},p(t,r){2&r&&n!==(n=As(t[6])+"")&&I(e,n)},d(t){t&&O(e)}}}function ks(t){let e,n=t[6].text+"";return{c(){e=R(n)},m(t,n){C(t,e,n)},p(t,r){2&r&&n!==(n=t[6].text+"")&&I(e,n)},d(t){t&&O(e)}}}function Cs(t){let e,n,r,o;const i=[xs,ws],a=[];function s(t,e){return void 0!==t[6].to?0:1}return e=s(t),n=a[e]=i[e](t),{c(){n.c(),r=P()},m(t,n){a[e].m(t,n),C(t,r,n),o=!0},p(t,o){let c=e;e=s(t),e===c?a[e].p(t,o):(yt(),wt(a[c],1,1,(()=>{a[c]=null})),_t(),n=a[e],n?n.p(t,o):(n=a[e]=i[e](t),n.c()),bt(n,1),n.m(r.parentNode,r))},i(t){o||(bt(n),o=!0)},o(t){wt(n),o=!1},d(t){a[e].d(t),t&&O(r)}}}function Os(t){let e,n,r=t[1],o=[];for(let e=0;e<r.length;e+=1)o[e]=Cs(gs(t,r,e));const i=t=>wt(o[t],1,1,(()=>{o[t]=null}));return{c(){e=S("ul");for(let t=0;t<o.length;t+=1)o[t].c();M(e,"class",t[7]),z(e,"rounded-t-none",t[3])},m(t,r){C(t,e,r);for(let t=0;t<o.length;t+=1)o[t].m(e,null);n=!0},p(t,[a]){if(262199&a){let n;for(r=t[1],n=0;n<r.length;n+=1){const i=gs(t,r,n);o[n]?(o[n].p(i,a),bt(o[n],1)):(o[n]=Cs(i),o[n].c(),bt(o[n],1),o[n].m(e,null))}for(yt(),n=r.length;n<o.length;n+=1)i(n);_t()}(!n||128&a)&&M(e,"class",t[7]),136&a&&z(e,"rounded-t-none",t[3])},i(t){if(!n){for(let t=0;t<r.length;t+=1)bt(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)wt(o[t]);n=!1},d(t){t&&O(e),E(o,t)}}}const Es="py-2 rounded";function Ss(t){return void 0!==t.id?t.id:void 0!==t.value?t.value:void 0!==t.to?t.to:void 0!==t.text?t.text:t}function As(t){return void 0!==t.text?t.text:void 0!==t.value?t.value:t}function Rs(t,e,r){let o,{$$slots:i={},$$scope:a}=e,{items:s=[]}=e,{value:c=""}=e,{dense:u=!1}=e,{select:l=!1}=e;let{classes:f=Es}=e;const d=new va(e.class);return t.$$set=t=>{r(20,e=n(n({},e),p(t))),"items"in t&&r(1,s=t.items),"value"in t&&r(0,c=t.value),"dense"in t&&r(2,u=t.dense),"select"in t&&r(3,l=t.select),"classes"in t&&r(11,f=t.classes),"$$scope"in t&&r(18,a=t.$$scope)},t.$$.update=()=>{r(7,o=d.flush().add(f,!0,Es).add(e.class).get())},e=p(e),[c,s,u,l,t=>t,t=>t,{},o,null,"",null,f,i,function(t){c=t,r(0,c)},function(e){Y(t,e)},function(t){c=t,r(0,c)},function(e){Y(t,e)},function(e){Y(t,e)},a]}class js extends Tt{constructor(t){super(),Mt(this,t,Rs,Os,s,{items:1,value:0,dense:2,select:3,level:8,text:9,item:6,to:10,selectedClasses:4,itemClasses:5,classes:11})}get level(){return this.$$.ctx[8]}get text(){return this.$$.ctx[9]}get item(){return this.$$.ctx[6]}get to(){return this.$$.ctx[10]}get selectedClasses(){return this.$$.ctx[4]}get itemClasses(){return this.$$.ctx[5]}}function Ps(t){let e,r,o;const i=t[16].default,a=f(i,t,t[15],null);let s=[{class:r=t[0]+" "+t[2].class},t[1]],c={};for(let t=0;t<s.length;t+=1)c=n(c,s[t]);return{c(){e=S("label"),a&&a.c(),T(e,c),z(e,"svelte-r33x2y",!0)},m(t,n){C(t,e,n),a&&a.m(e,null),o=!0},p(t,[n]){a&&a.p&&32768&n&&h(a,i,t,t[15],n,null,null),T(e,c=St(s,[(!o||5&n&&r!==(r=t[0]+" "+t[2].class))&&{class:r},t[1]])),z(e,"svelte-r33x2y",!0)},i(t){o||(bt(a,t),o=!0)},o(t){wt(a,t),o=!1},d(t){t&&O(e),a&&a.d(t)}}}function Ds(t,e,r){let{$$slots:o={},$$scope:i}=e,{focused:a=!1}=e,{error:s=!1}=e,{outlined:c=!1}=e,{labelOnTop:u=!1}=e,{prepend:l=!1}=e,{color:f="primary"}=e,{bgColor:d="white"}=e,{dense:h=!1}=e,v="pt-4 absolute top-0 label-transition block pb-2 px-4 pointer-events-none cursor-text",{add:g=""}=e,{remove:m=""}=e,{replace:y=""}=e,{labelClasses:_=v}=e;const{border:b,txt:w}=pa(f),x=new va(_,v);let $=t=>t;const k=ma(["focused","error","outlined","labelOnTop","prepend","color","dense"],e);return t.$$set=t=>{r(2,e=n(n({},e),p(t))),"focused"in t&&r(3,a=t.focused),"error"in t&&r(4,s=t.error),"outlined"in t&&r(5,c=t.outlined),"labelOnTop"in t&&r(6,u=t.labelOnTop),"prepend"in t&&r(7,l=t.prepend),"color"in t&&r(8,f=t.color),"bgColor"in t&&r(9,d=t.bgColor),"dense"in t&&r(10,h=t.dense),"add"in t&&r(11,g=t.add),"remove"in t&&r(12,m=t.remove),"replace"in t&&r(13,y=t.replace),"labelClasses"in t&&r(14,_=t.labelClasses),"$$scope"in t&&r(15,i=t.$$scope)},t.$$.update=()=>{16120&t.$$.dirty&&r(0,$=x.flush().add(w(),a&&!s).add("text-error-500",a&&s).add("label-top text-xs",u).add("text-xs",a).remove("pt-4 pb-2 px-4 px-1 pt-0",u&&c).add(`ml-3 p-1 pt-0 mt-0 bg-${d} dark:bg-dark-500`,u&&c).remove("px-4",l).add("pr-4 pl-10",l).remove("pt-4",h).add("pt-3",h).add(g).remove(m).replace(y).get())},e=p(e),[$,k,e,a,s,c,u,l,f,d,h,g,m,y,_,i,o]}class Ms extends Tt{constructor(t){super(),Mt(this,t,Ds,Ps,s,{focused:3,error:4,outlined:5,labelOnTop:6,prepend:7,color:8,bgColor:9,dense:10,add:11,remove:12,replace:13,labelClasses:14})}}function Ts(t){let e,n,r,o,i,a,s=(t[1]||"")+"",c=(t[0]||"")+"";return{c(){e=S("div"),r=j(),o=R(c),n=new U(r),M(e,"class",t[3])},m(t,i){C(t,e,i),n.m(s,e),k(e,r),k(e,o),a=!0},p(r,[i]){t=r,(!a||2&i)&&s!==(s=(t[1]||"")+"")&&n.p(s),(!a||1&i)&&c!==(c=(t[0]||"")+"")&&I(o,c),(!a||8&i)&&M(e,"class",t[3])},i(n){a||(st((()=>{i||(i=Ct(e,Ua,t[2],!0)),i.run(1)})),a=!0)},o(n){i||(i=Ct(e,Ua,t[2],!1)),i.run(0),a=!1},d(t){t&&O(e),t&&i&&i.end()}}}function Is(t,e,r){let o,{error:i=!1}=e,{hint:a=""}=e,{add:s=""}=e,{remove:c=""}=e,{replace:u=""}=e,{transitionProps:l={y:-10,duration:100,easing:za}}=e;const f=new va(e.class,"text-xs py-1 pl-4 absolute left-0");return ma(["error","hint"],e),t.$$set=t=>{r(10,e=n(n({},e),p(t))),"error"in t&&r(0,i=t.error),"hint"in t&&r(1,a=t.hint),"add"in t&&r(4,s=t.add),"remove"in t&&r(5,c=t.remove),"replace"in t&&r(6,u=t.replace),"transitionProps"in t&&r(2,l=t.transitionProps)},t.$$.update=()=>{115&t.$$.dirty&&r(3,o=f.flush().add("text-error-500",i).add("text-gray-600",a).add(s).remove(c).replace(u).get())},e=p(e),[i,a,l,o,s,c,u]}class Ls extends Tt{constructor(t){super(),Mt(this,t,Is,Ts,s,{error:0,hint:1,add:4,remove:5,replace:6,transitionProps:2})}}function qs(e){let n,r,o,i;return{c(){n=S("div"),r=S("div"),M(r,"class",o=v(e[2])+" svelte-xd9zs6"),q(r,"height","2px"),q(r,"transition","width .2s ease"),M(n,"class",i="line absolute bottom-0 left-0 w-full bg-gray-600 "+e[3].class+" svelte-xd9zs6"),z(n,"hidden",e[0]||e[1])},m(t,e){C(t,n,e),k(n,r)},p(t,[e]){4&e&&o!==(o=v(t[2])+" svelte-xd9zs6")&&M(r,"class",o),8&e&&i!==(i="line absolute bottom-0 left-0 w-full bg-gray-600 "+t[3].class+" svelte-xd9zs6")&&M(n,"class",i),11&e&&z(n,"hidden",t[0]||t[1])},i:t,o:t,d(t){t&&O(n)}}}function zs(t,e,r){let o,{noUnderline:i=!1}=e,{outlined:a=!1}=e,{focused:s=!1}=e,{error:c=!1}=e,{color:u="primary"}=e,l="mx-auto w-0",{add:f=""}=e,{remove:d=""}=e,{replace:h=""}=e,{lineClasses:v=l}=e;const{bg:g,border:m,txt:y,caret:_}=pa(u),b=new va(v,l);return ma(["focused","error","outlined","labelOnTop","prepend","bgcolor","color"],e),t.$$set=t=>{r(3,e=n(n({},e),p(t))),"noUnderline"in t&&r(0,i=t.noUnderline),"outlined"in t&&r(1,a=t.outlined),"focused"in t&&r(4,s=t.focused),"error"in t&&r(5,c=t.error),"color"in t&&r(6,u=t.color),"add"in t&&r(7,f=t.add),"remove"in t&&r(8,d=t.remove),"replace"in t&&r(9,h=t.replace),"lineClasses"in t&&r(10,v=t.lineClasses)},t.$$.update=()=>{944&t.$$.dirty&&r(2,o=b.flush().add(y(),s&&!c).add("bg-error-500",c).add("w-full",s||c).add(g(),s).add(f).remove(d).replace(h).get())},e=p(e),[i,a,o,e,s,c,u,f,d,h,v]}class Ns extends Tt{constructor(t){super(),Mt(this,t,zs,qs,s,{noUnderline:0,outlined:1,focused:4,error:5,color:6,add:7,remove:8,replace:9,lineClasses:10})}}const Us=t=>({}),Bs=t=>({}),Fs=t=>({}),Ws=t=>({}),Vs=t=>({}),Gs=t=>({});function Hs(t){let e;const n=t[40].label,r=f(n,t,t[69],Gs),o=r||function(t){let e,n;return e=new Ms({props:{labelOnTop:t[25],focused:t[1],error:t[6],outlined:t[2],prepend:t[8],color:t[17],bgColor:t[18],dense:t[12]&&!t[2],$$slots:{default:[Ks]},$$scope:{ctx:t}}}),{c(){jt(e.$$.fragment)},m(t,r){Pt(e,t,r),n=!0},p(t,n){const r={};33554432&n[0]&&(r.labelOnTop=t[25]),2&n[0]&&(r.focused=t[1]),64&n[0]&&(r.error=t[6]),4&n[0]&&(r.outlined=t[2]),256&n[0]&&(r.prepend=t[8]),131072&n[0]&&(r.color=t[17]),262144&n[0]&&(r.bgColor=t[18]),4100&n[0]&&(r.dense=t[12]&&!t[2]),8&n[0]|128&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(bt(e.$$.fragment,t),n=!0)},o(t){wt(e.$$.fragment,t),n=!1},d(t){Dt(e,t)}}}(t);return{c(){o&&o.c()},m(t,n){o&&o.m(t,n),e=!0},p(t,e){r?r.p&&128&e[2]&&h(r,n,t,t[69],e,Vs,Gs):o&&o.p&&33952078&e[0]&&o.p(t,e)},i(t){e||(bt(o,t),e=!0)},o(t){wt(o,t),e=!1},d(t){o&&o.d(t)}}}function Ks(t){let e;return{c(){e=R(t[3])},m(t,n){C(t,e,n)},p(t,n){8&n[0]&&I(e,t[3])},d(t){t&&O(e)}}}function Js(t){let e,n,r;return{c(){e=S("input"),e.readOnly=!0,M(e,"class",t[26]),e.disabled=t[20],e.value=t[0]},m(o,i){C(o,e,i),n||(r=[D(e,"change",t[57]),D(e,"input",t[58]),D(e,"keydown",t[59]),D(e,"keypress",t[60]),D(e,"keyup",t[61]),D(e,"click",t[62]),D(e,"blur",t[63]),D(e,"focus",t[64])],n=!0)},p(t,n){67108864&n[0]&&M(e,"class",t[26]),1048576&n[0]&&(e.disabled=t[20]),1&n[0]&&e.value!==t[0]&&(e.value=t[0])},d(t){t&&O(e),n=!1,i(r)}}}function Xs(t){let e,r,o,a,s=[{rows:t[10]},{"aria-label":t[3]},{class:t[26]},{disabled:t[20]},t[29],{placeholder:r=t[0]?"":t[4]}],c={};for(let t=0;t<s.length;t+=1)c=n(c,s[t]);return{c(){e=S("textarea"),T(e,c)},m(n,r){C(n,e,r),L(e,t[0]),o||(a=[D(e,"change",t[49]),D(e,"input",t[50]),D(e,"keydown",t[51]),D(e,"keypress",t[52]),D(e,"keyup",t[53]),D(e,"click",t[54]),D(e,"focus",t[55]),D(e,"blur",t[56]),D(e,"input",t[66]),D(e,"focus",t[28]),D(e,"blur",t[28])],o=!0)},p(t,n){T(e,c=St(s,[1024&n[0]&&{rows:t[10]},8&n[0]&&{"aria-label":t[3]},67108864&n[0]&&{class:t[26]},1048576&n[0]&&{disabled:t[20]},t[29],17&n[0]&&r!==(r=t[0]?"":t[4])&&{placeholder:r}])),1&n[0]&&L(e,t[0])},d(t){t&&O(e),o=!1,i(a)}}}function Qs(t){let e,r,o,a,s=[{"aria-label":t[3]},{class:t[26]},{disabled:t[20]},t[29],{placeholder:r=t[0]?"":t[4]}],c={};for(let t=0;t<s.length;t+=1)c=n(c,s[t]);return{c(){e=S("input"),T(e,c)},m(n,r){C(n,e,r),L(e,t[0]),o||(a=[D(e,"focus",t[28]),D(e,"blur",t[28]),D(e,"blur",t[41]),D(e,"input",t[65]),D(e,"change",t[42]),D(e,"input",t[43]),D(e,"keydown",t[44]),D(e,"keypress",t[45]),D(e,"keyup",t[46]),D(e,"click",t[47]),D(e,"focus",t[48])],o=!0)},p(t,n){T(e,c=St(s,[8&n[0]&&{"aria-label":t[3]},67108864&n[0]&&{class:t[26]},1048576&n[0]&&{disabled:t[20]},t[29],17&n[0]&&r!==(r=t[0]?"":t[4])&&{placeholder:r}])),1&n[0]&&e.value!==t[0]&&L(e,t[0])},d(t){t&&O(e),o=!1,i(a)}}}function Ys(t){let e,n,r,o;const i=t[40].append,a=f(i,t,t[69],Ws),s=a||function(t){let e,n;return e=new fa({props:{reverse:t[15],class:(t[1]?t[27]():"")+" "+t[19],$$slots:{default:[Zs]},$$scope:{ctx:t}}}),{c(){jt(e.$$.fragment)},m(t,r){Pt(e,t,r),n=!0},p(t,n){const r={};32768&n[0]&&(r.reverse=t[15]),524290&n[0]&&(r.class=(t[1]?t[27]():"")+" "+t[19]),128&n[0]|128&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(bt(e.$$.fragment,t),n=!0)},o(t){wt(e.$$.fragment,t),n=!1},d(t){Dt(e,t)}}}(t);return{c(){e=S("div"),s&&s.c(),M(e,"class",t[22])},m(i,a){C(i,e,a),s&&s.m(e,null),n=!0,r||(o=D(e,"click",t[67]),r=!0)},p(t,r){a?a.p&&128&r[2]&&h(a,i,t,t[69],r,Fs,Ws):s&&s.p&&557186&r[0]&&s.p(t,r),(!n||4194304&r[0])&&M(e,"class",t[22])},i(t){n||(bt(s,t),n=!0)},o(t){wt(s,t),n=!1},d(t){t&&O(e),s&&s.d(t),r=!1,o()}}}function Zs(t){let e;return{c(){e=R(t[7])},m(t,n){C(t,e,n)},p(t,n){128&n[0]&&I(e,t[7])},d(t){t&&O(e)}}}function tc(t){let e,n,r,o;const i=t[40].prepend,a=f(i,t,t[69],Bs),s=a||function(t){let e,n;return e=new fa({props:{reverse:t[16],class:(t[1]?t[27]():"")+" "+t[19],$$slots:{default:[ec]},$$scope:{ctx:t}}}),{c(){jt(e.$$.fragment)},m(t,r){Pt(e,t,r),n=!0},p(t,n){const r={};65536&n[0]&&(r.reverse=t[16]),524290&n[0]&&(r.class=(t[1]?t[27]():"")+" "+t[19]),256&n[0]|128&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(bt(e.$$.fragment,t),n=!0)},o(t){wt(e.$$.fragment,t),n=!1},d(t){Dt(e,t)}}}(t);return{c(){e=S("div"),s&&s.c(),M(e,"class",t[23])},m(i,a){C(i,e,a),s&&s.m(e,null),n=!0,r||(o=D(e,"click",t[68]),r=!0)},p(t,r){a?a.p&&128&r[2]&&h(a,i,t,t[69],r,Us,Bs):s&&s.p&&590082&r[0]&&s.p(t,r),(!n||8388608&r[0])&&M(e,"class",t[23])},i(t){n||(bt(s,t),n=!0)},o(t){wt(s,t),n=!1},d(t){t&&O(e),s&&s.d(t),r=!1,o()}}}function ec(t){let e;return{c(){e=R(t[8])},m(t,n){C(t,e,n)},p(t,n){256&n[0]&&I(e,t[8])},d(t){t&&O(e)}}}function nc(t){let e,n;return e=new Ls({props:{error:t[6],hint:t[5]}}),{c(){jt(e.$$.fragment)},m(t,r){Pt(e,t,r),n=!0},p(t,n){const r={};64&n[0]&&(r.error=t[6]),32&n[0]&&(r.hint=t[5]),e.$set(r)},i(t){n||(bt(e.$$.fragment,t),n=!0)},o(t){wt(e.$$.fragment,t),n=!1},d(t){Dt(e,t)}}}function rc(t){let e,n,r,o,i,a,s,c,u=t[3]&&Hs(t);function l(t,e){return!t[9]&&!t[11]||t[13]?Qs:t[9]&&!t[11]?Xs:t[11]&&!t[13]?Js:void 0}let f=l(t),d=f&&f(t),h=t[7]&&Ys(t),p=t[8]&&tc(t);a=new Ns({props:{noUnderline:t[14],outlined:t[2],focused:t[1],error:t[6]}});let v=t[24]&&nc(t);return{c(){e=S("div"),u&&u.c(),n=j(),d&&d.c(),r=j(),h&&h.c(),o=j(),p&&p.c(),i=j(),jt(a.$$.fragment),s=j(),v&&v.c(),M(e,"class",t[21])},m(t,l){C(t,e,l),u&&u.m(e,null),k(e,n),d&&d.m(e,null),k(e,r),h&&h.m(e,null),k(e,o),p&&p.m(e,null),k(e,i),Pt(a,e,null),k(e,s),v&&v.m(e,null),c=!0},p(t,s){t[3]?u?(u.p(t,s),8&s[0]&&bt(u,1)):(u=Hs(t),u.c(),bt(u,1),u.m(e,n)):u&&(yt(),wt(u,1,1,(()=>{u=null})),_t()),f===(f=l(t))&&d?d.p(t,s):(d&&d.d(1),d=f&&f(t),d&&(d.c(),d.m(e,r))),t[7]?h?(h.p(t,s),128&s[0]&&bt(h,1)):(h=Ys(t),h.c(),bt(h,1),h.m(e,o)):h&&(yt(),wt(h,1,1,(()=>{h=null})),_t()),t[8]?p?(p.p(t,s),256&s[0]&&bt(p,1)):(p=tc(t),p.c(),bt(p,1),p.m(e,i)):p&&(yt(),wt(p,1,1,(()=>{p=null})),_t());const g={};16384&s[0]&&(g.noUnderline=t[14]),4&s[0]&&(g.outlined=t[2]),2&s[0]&&(g.focused=t[1]),64&s[0]&&(g.error=t[6]),a.$set(g),t[24]?v?(v.p(t,s),16777216&s[0]&&bt(v,1)):(v=nc(t),v.c(),bt(v,1),v.m(e,null)):v&&(yt(),wt(v,1,1,(()=>{v=null})),_t()),(!c||2097152&s[0])&&M(e,"class",t[21])},i(t){c||(bt(u),bt(h),bt(p),bt(a.$$.fragment,t),bt(v),c=!0)},o(t){wt(u),wt(h),wt(p),wt(a.$$.fragment,t),wt(v),c=!1},d(t){t&&O(e),u&&u.d(),d&&d.d(),h&&h.d(),p&&p.d(),Dt(a),v&&v.d()}}}const oc="pb-2 pt-6 px-4 rounded-t text-black dark:text-gray-100 w-full",ic="mt-2 mb-6 relative text-gray-600 dark:text-gray-100",ac="absolute right-0 top-0 pb-2 pr-4 pt-4 text-gray-700 z-10",sc="absolute left-0 top-0 pb-2 pl-2 pt-4 text-xs text-gray-700 z-10";function cc(t,e,r){let o,i,a,{$$slots:s={},$$scope:c}=e,{outlined:u=!1}=e,{value:l=null}=e,{label:f=""}=e,{placeholder:d=""}=e,{hint:h=""}=e,{error:v=!1}=e,{append:g=""}=e,{prepend:m=""}=e,{persistentHint:y=!1}=e,{textarea:_=!1}=e,{rows:b=5}=e,{select:w=!1}=e,{dense:x=!1}=e,{autocomplete:$=!1}=e,{noUnderline:k=!1}=e,{appendReverse:C=!1}=e,{prependReverse:O=!1}=e,{color:E="primary"}=e,{bgColor:S="white"}=e,{iconClass:A=""}=e,{disabled:R=!1}=e,{add:j=""}=e,{remove:P=""}=e,{replace:D=""}=e,{inputClasses:M=oc}=e,{classes:T=ic}=e,{appendClasses:I=ac}=e,{prependClasses:L=sc}=e;const{bg:q,border:z,txt:N,caret:U}=pa(E),B=new va(M,oc),F=new va(T,ic),W=new va(I,ac),V=new va(L,sc);let{extend:G=(()=>{})}=e,{focused:H=!1}=e,K=t=>t,J=t=>t,X=t=>t;const Z=ma(["outlined","label","placeholder","hint","error","append","prepend","persistentHint","textarea","rows","select","autocomplete","noUnderline","appendReverse","prependReverse","color","bgColor","disabled","replace","remove","small"],e),tt=Q();return t.$$set=t=>{r(77,e=n(n({},e),p(t))),"outlined"in t&&r(2,u=t.outlined),"value"in t&&r(0,l=t.value),"label"in t&&r(3,f=t.label),"placeholder"in t&&r(4,d=t.placeholder),"hint"in t&&r(5,h=t.hint),"error"in t&&r(6,v=t.error),"append"in t&&r(7,g=t.append),"prepend"in t&&r(8,m=t.prepend),"persistentHint"in t&&r(31,y=t.persistentHint),"textarea"in t&&r(9,_=t.textarea),"rows"in t&&r(10,b=t.rows),"select"in t&&r(11,w=t.select),"dense"in t&&r(12,x=t.dense),"autocomplete"in t&&r(13,$=t.autocomplete),"noUnderline"in t&&r(14,k=t.noUnderline),"appendReverse"in t&&r(15,C=t.appendReverse),"prependReverse"in t&&r(16,O=t.prependReverse),"color"in t&&r(17,E=t.color),"bgColor"in t&&r(18,S=t.bgColor),"iconClass"in t&&r(19,A=t.iconClass),"disabled"in t&&r(20,R=t.disabled),"add"in t&&r(32,j=t.add),"remove"in t&&r(33,P=t.remove),"replace"in t&&r(34,D=t.replace),"inputClasses"in t&&r(35,M=t.inputClasses),"classes"in t&&r(36,T=t.classes),"appendClasses"in t&&r(37,I=t.appendClasses),"prependClasses"in t&&r(38,L=t.prependClasses),"extend"in t&&r(39,G=t.extend),"focused"in t&&r(1,H=t.focused),"$$scope"in t&&r(69,c=t.$$scope)},t.$$.update=()=>{98&t.$$.dirty[0]|1&t.$$.dirty[1]&&r(24,o=v||(y||H)&&h),19&t.$$.dirty[0]&&r(25,i=d||H||l||0===l),r(26,a=B.flush().remove("pt-6 pb-2",u).add("border rounded bg-transparent py-4 duration-200 ease-in",u).add("border-error-500 caret-error-500",v).remove(U(),v).add(U(),!v).add(z(),u&&H&&!v).add("bg-gray-100 dark:bg-dark-600",!u).add("bg-gray-300 dark:bg-dark-200",H&&!u).remove("px-4",m).add("pr-4 pl-10",m).add(j).remove("pt-6 pb-2",x&&!u).add("pt-4 pb-1",x&&!u).remove("bg-gray-100",R).add("bg-gray-50",R).add("cursor-pointer",w&&!$).add(e.class).remove(P).replace(D).extend(G).get()),1062980&t.$$.dirty[0]&&r(21,K=F.flush().add("select",w||$).add("dense",x&&!u).remove("mb-6 mt-2",x&&!u).add("mb-4 mt-1",x).replace({"text-gray-600":"text-error-500"},v).add("text-gray-200",R).get())},r(22,J=W.flush().get()),r(23,X=V.flush().get()),e=p(e),[l,H,u,f,d,h,v,g,m,_,b,w,x,$,k,C,O,E,S,A,R,K,J,X,o,i,a,N,function(){r(1,H=!H)},Z,tt,y,j,P,D,M,T,I,L,G,s,function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(){l=this.value,r(0,l)},function(){l=this.value,r(0,l)},()=>tt("click-append"),()=>tt("click-prepend"),c]}class uc extends Tt{constructor(t){super(),Mt(this,t,cc,rc,s,{outlined:2,value:0,label:3,placeholder:4,hint:5,error:6,append:7,prepend:8,persistentHint:31,textarea:9,rows:10,select:11,dense:12,autocomplete:13,noUnderline:14,appendReverse:15,prependReverse:16,color:17,bgColor:18,iconClass:19,disabled:20,add:32,remove:33,replace:34,inputClasses:35,classes:36,appendClasses:37,prependClasses:38,extend:39,focused:1},[-1,-1,-1])}}function lc(t){return t>1279?"xl":t>1023?"lg":t>767?"md":"sm"}function fc(t){let e,n,r,o,i,a,s,c,u=!t[0]&&dc(t);const l=t[13].default,d=f(l,t,t[12],null);return{c(){e=S("aside"),u&&u.c(),n=j(),r=S("nav"),o=S("div"),d&&d.c(),M(o,"class","w-full"),M(r,"role","navigation"),M(r,"class",i=v(t[4])+" svelte-6qcjcu"),M(e,"class",a=v(t[3])+" svelte-6qcjcu")},m(t,i){C(t,e,i),u&&u.m(e,null),k(e,n),k(e,r),k(r,o),d&&d.m(o,null),c=!0},p(o,s){(t=o)[0]?u&&(yt(),wt(u,1,1,(()=>{u=null})),_t()):u?(u.p(t,s),1&s&&bt(u,1)):(u=dc(t),u.c(),bt(u,1),u.m(e,n)),d&&d.p&&4096&s&&h(d,l,t,t[12],s,null,null),(!c||16&s&&i!==(i=v(t[4])+" svelte-6qcjcu"))&&M(r,"class",i),(!c||8&s&&a!==(a=v(t[3])+" svelte-6qcjcu"))&&M(e,"class",a)},i(n){c||(bt(u),bt(d,n),st((()=>{s||(s=Ct(e,Ua,t[2],!0)),s.run(1)})),c=!0)},o(n){wt(u),wt(d,n),s||(s=Ct(e,Ua,t[2],!1)),s.run(0),c=!1},d(t){t&&O(e),u&&u.d(),d&&d.d(t),t&&s&&s.end()}}}function dc(e){let n,r;return n=new Ga({}),n.$on("click",e[14]),{c(){jt(n.$$.fragment)},m(t,e){Pt(n,t,e),r=!0},p:t,i(t){r||(bt(n.$$.fragment,t),r=!0)},o(t){wt(n.$$.fragment,t),r=!1},d(t){Dt(n,t)}}}function hc(t){let e,n,r=t[1]&&fc(t);return{c(){r&&r.c(),e=P()},m(t,o){r&&r.m(t,o),C(t,e,o),n=!0},p(t,[n]){t[1]?r?(r.p(t,n),2&n&&bt(r,1)):(r=fc(t),r.c(),bt(r,1),r.m(e.parentNode,e)):r&&(yt(),wt(r,1,1,(()=>{r=null})),_t())},i(t){n||(bt(r),n=!0)},o(t){wt(r),n=!1},d(t){r&&r.d(t),t&&O(e)}}}const pc="fixed top-0 md:mt-16 w-auto drawer overflow-hidden h-full";function vc(t,e,r){let o,i,a,{$$slots:s={},$$scope:c}=e;const u=function(t=lc){if("undefined"==typeof window)return qt("sm");const e=qt(t(window.innerWidth)),n=({target:n})=>e.set(t(n.innerWidth));return window.addEventListener("resize",n),X((()=>window.removeEventListener("resize",n))),{subscribe:e.subscribe}}();l(t,u,(t=>r(11,a=t)));const f="h-full w-full bg-white dark:bg-gray-900 dark:text-gray-200 absolute flex w-auto z-20 drawer\n    pointer-events-auto overflow-y-auto";let{right:d=!1}=e,{persistent:h=!1}=e,{elevation:v=!0}=e,{show:g=!0}=e,{classes:m=pc}=e,{navClasses:y=f}=e,{borderClasses:_="border-gray-600 "+(d?"border-l":"border-r")}=e,{transitionProps:b={duration:200,x:-300,easing:qa,opacity:1}}=e,w=!g;const x=new va(m,pc);"sm"===a&&(g=!1);const $=new va(y,f);return t.$$set=t=>{r(19,e=n(n({},e),p(t))),"right"in t&&r(6,d=t.right),"persistent"in t&&r(0,h=t.persistent),"elevation"in t&&r(7,v=t.elevation),"show"in t&&r(1,g=t.show),"classes"in t&&r(8,m=t.classes),"navClasses"in t&&r(9,y=t.navClasses),"borderClasses"in t&&r(10,_=t.borderClasses),"transitionProps"in t&&r(2,b=t.transitionProps),"$$scope"in t&&r(12,c=t.$$scope)},t.$$.update=()=>{64&t.$$.dirty&&r(2,b.x=d?300:-300,b),2048&t.$$.dirty&&(w||r(0,h=r(1,g="sm"!==a))),r(3,o=x.flush().add(m,!0,pc).add(_,!v&&h).add(e.class).add("right-0",d).add("left-0",!d).add("pointer-events-none",h).add("z-50",!h).add("shadow",v).add("z-20",h).get())},r(4,i=$.flush().get()),e=p(e),[h,g,b,o,i,u,d,v,m,y,_,a,c,s,()=>r(1,g=!1)]}class gc extends Tt{constructor(t){super(),Mt(this,t,vc,hc,s,{right:6,persistent:0,elevation:7,show:1,classes:8,navClasses:9,borderClasses:10,transitionProps:2})}}function mc(t){let e,r;const o=t[7].default,i=f(o,t,t[6],null),a=i||function(t){let e;return{c(){e=R(t[0])},m(t,n){C(t,e,n)},p(t,n){1&n&&I(e,t[0])},d(t){t&&O(e)}}}(t);let s=[{"aria-hidden":"true"},t[2],{class:t[1]}],c={};for(let t=0;t<s.length;t+=1)c=n(c,s[t]);return{c(){e=S("label"),a&&a.c(),T(e,c)},m(t,n){C(t,e,n),a&&a.m(e,null),r=!0},p(t,[n]){i?i.p&&64&n&&h(i,o,t,t[6],n,null,null):a&&a.p&&1&n&&a.p(t,n),T(e,c=St(s,[{"aria-hidden":"true"},4&n&&t[2],(!r||2&n)&&{class:t[1]}]))},i(t){r||(bt(a,t),r=!0)},o(t){wt(a,t),r=!1},d(t){t&&O(e),a&&a.d(t)}}}const yc="pl-2 cursor-pointer 'text-gray-700 dark:text-gray-300'";function _c(t,e,r){let o,{$$slots:i={},$$scope:a}=e,{classes:s=yc}=e,{label:c=""}=e,{disabled:u=!1}=e,{disabledClasses:l="text-gray-500 dark:text-gray-600"}=e;const f=new va(s,yc);return t.$$set=t=>{r(2,e=n(n({},e),p(t))),"classes"in t&&r(3,s=t.classes),"label"in t&&r(0,c=t.label),"disabled"in t&&r(4,u=t.disabled),"disabledClasses"in t&&r(5,l=t.disabledClasses),"$$scope"in t&&r(6,a=t.$$scope)},t.$$.update=()=>{r(1,o=f.flush().add(s,!0,yc).add(l,u).add(e.class).get())},e=p(e),[c,o,e,s,u,l,a,i]}class bc extends Tt{constructor(t){super(),Mt(this,t,_c,mc,s,{classes:3,label:0,disabled:4,disabledClasses:5})}}function wc(t){let e,n,r,o,i;const a=t[6].default,s=f(a,t,t[5],null);return{c(){e=S("span"),s&&s.c(),M(e,"class",n="z-40 "+t[3].class+" p-2 rounded-full flex items-center justify-center top-0 left-0 "+(t[0]?"":t[2])+" svelte-1o8z87d")},m(n,a){C(n,e,a),s&&s.m(e,null),r=!0,o||(i=m(t[1].call(null,e)),o=!0)},p(t,[o]){s&&s.p&&32&o&&h(s,a,t,t[5],o,null,null),(!r||13&o&&n!==(n="z-40 "+t[3].class+" p-2 rounded-full flex items-center justify-center top-0 left-0 "+(t[0]?"":t[2])+" svelte-1o8z87d"))&&M(e,"class",n)},i(t){r||(bt(s,t),r=!0)},o(t){wt(s,t),r=!1},d(t){t&&O(e),s&&s.d(t),o=!1,i()}}}function xc(t,e,r){let o,i,{$$slots:a={},$$scope:s}=e,{color:c="primary"}=e,{noHover:u=!1}=e;return t.$$set=t=>{r(3,e=n(n({},e),p(t))),"color"in t&&r(4,c=t.color),"noHover"in t&&r(0,u=t.noHover),"$$scope"in t&&r(5,s=t.$$scope)},t.$$.update=()=>{16&t.$$.dirty&&r(1,o=ya(c,!0)),16&t.$$.dirty&&r(2,i=`hover:bg-${c}-transLight`)},e=p(e),[u,o,i,e,c,s,a]}class $c extends Tt{constructor(t){super(),Mt(this,t,xc,wc,s,{color:4,noHover:0})}}const kc=t=>({}),Cc=t=>({});function Oc(t){let e,n;return e=new fa({props:{class:t[4]?"text-gray-500 dark:text-gray-600":"text-gray-600 dark:text-gray-300",$$slots:{default:[Sc]},$$scope:{ctx:t}}}),{c(){jt(e.$$.fragment)},m(t,r){Pt(e,t,r),n=!0},p(t,n){const r={};16&n&&(r.class=t[4]?"text-gray-500 dark:text-gray-600":"text-gray-600 dark:text-gray-300"),65536&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(bt(e.$$.fragment,t),n=!0)},o(t){wt(e.$$.fragment,t),n=!1},d(t){Dt(e,t)}}}function Ec(t){let e,n;return e=new fa({props:{class:t[4]?"text-gray-500 dark:text-gray-600":`text-${t[3]}-500 dark:text-${t[3]}-100`,$$slots:{default:[Ac]},$$scope:{ctx:t}}}),{c(){jt(e.$$.fragment)},m(t,r){Pt(e,t,r),n=!0},p(t,n){const r={};24&n&&(r.class=t[4]?"text-gray-500 dark:text-gray-600":`text-${t[3]}-500 dark:text-${t[3]}-100`),65536&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(bt(e.$$.fragment,t),n=!0)},o(t){wt(e.$$.fragment,t),n=!1},d(t){Dt(e,t)}}}function Sc(t){let e;return{c(){e=R("check_box_outline_blank")},m(t,n){C(t,e,n)},d(t){t&&O(e)}}}function Ac(t){let e;return{c(){e=R("check_box")},m(t,n){C(t,e,n)},d(t){t&&O(e)}}}function Rc(t){let e,n,r,o;const i=[Ec,Oc],a=[];function s(t,e){return t[0]?0:1}return e=s(t),n=a[e]=i[e](t),{c(){n.c(),r=P()},m(t,n){a[e].m(t,n),C(t,r,n),o=!0},p(t,o){let c=e;e=s(t),e===c?a[e].p(t,o):(yt(),wt(a[c],1,1,(()=>{a[c]=null})),_t(),n=a[e],n?n.p(t,o):(n=a[e]=i[e](t),n.c()),bt(n,1),n.m(r.parentNode,r))},i(t){o||(bt(n),o=!0)},o(t){wt(n),o=!1},d(t){a[e].d(t),t&&O(r)}}}function jc(t){let e,n,r,o,a,s,c,u,l,d,p;s=new $c({props:{color:t[6],$$slots:{default:[Rc]},$$scope:{ctx:t}}});const v=t[13].label,g=f(v,t,t[16],Cc),m=g||function(t){let e,n;return e=new bc({props:{disabled:t[4],label:t[2],class:t[5]}}),{c(){jt(e.$$.fragment)},m(t,r){Pt(e,t,r),n=!0},p(t,n){const r={};16&n&&(r.disabled=t[4]),4&n&&(r.label=t[2]),32&n&&(r.class=t[5]),e.$set(r)},i(t){n||(bt(e.$$.fragment,t),n=!0)},o(t){wt(e.$$.fragment,t),n=!1},d(t){Dt(e,t)}}}(t);return{c(){e=S("div"),n=S("div"),r=S("input"),o=j(),a=S("div"),jt(s.$$.fragment),c=j(),m&&m.c(),M(r,"class","hidden"),M(r,"type","checkbox"),r.__value=t[1],r.value=r.__value,M(a,"class","relative w-auto h-auto z-0"),M(n,"class",t[7]),M(e,"class",u=t[9].class)},m(i,u){C(i,e,u),k(e,n),k(n,r),r.checked=t[0],k(n,o),k(n,a),Pt(s,a,null),k(n,c),m&&m.m(n,null),l=!0,d||(p=[D(r,"change",t[15]),D(r,"change",t[14]),D(n,"click",t[8])],d=!0)},p(t,[o]){(!l||2&o)&&(r.__value=t[1],r.value=r.__value),1&o&&(r.checked=t[0]);const i={};64&o&&(i.color=t[6]),65561&o&&(i.$$scope={dirty:o,ctx:t}),s.$set(i),g?g.p&&65536&o&&h(g,v,t,t[16],o,kc,Cc):m&&m.p&&52&o&&m.p(t,o),(!l||128&o)&&M(n,"class",t[7]),(!l||512&o&&u!==(u=t[9].class))&&M(e,"class",u)},i(t){l||(bt(s.$$.fragment,t),bt(m,t),l=!0)},o(t){wt(s.$$.fragment,t),wt(m,t),l=!1},d(t){t&&O(e),Dt(s),m&&m.d(t),d=!1,i(p)}}}const Pc="inline-flex items-center mb-2 cursor-pointer z-10";function Dc(t,e,r){let o,i,{$$slots:a={},$$scope:s}=e,{value:c=""}=e,{label:u=""}=e,{color:l="primary"}=e,{checked:f=!1}=e,{disabled:d=!1}=e,{classes:h=Pc}=e,{labelClasses:v=(t=>t)}=e,{group:g=[]}=e,m=g.includes(c);const y=Q();function _(){d||(r(0,f=!f),y("change",f))}const b=new va(h,Pc);return t.$$set=t=>{r(9,e=n(n({},e),p(t))),"value"in t&&r(1,c=t.value),"label"in t&&r(2,u=t.label),"color"in t&&r(3,l=t.color),"checked"in t&&r(0,f=t.checked),"disabled"in t&&r(4,d=t.disabled),"classes"in t&&r(11,h=t.classes),"labelClasses"in t&&r(5,v=t.labelClasses),"group"in t&&r(10,g=t.group),"$$scope"in t&&r(16,s=t.$$scope)},t.$$.update=()=>{if(5139&t.$$.dirty&&c&&!d){const t=g.includes(c);t===m?f&&!t?(r(10,g=g.concat([c])),r(12,m=!0)):!f&&t&&(r(10,g=[...g.filter((t=>t!==c))]),r(12,m=!1)):(r(12,m=t),_())}25&t.$$.dirty&&r(6,o=f&&!d?l:"gray"),r(7,i=b.flush().add(h,!0,Pc).add(e.class).get())},e=p(e),[f,c,u,l,d,v,o,i,_,e,g,h,m,a,function(e){Y(t,e)},function(){f=this.checked,r(0,f)},s]}class Mc extends Tt{constructor(t){super(),Mt(this,t,Dc,jc,s,{value:1,label:2,color:3,checked:0,disabled:4,classes:11,labelClasses:5,group:10})}}const Tc=t=>({}),Ic=t=>({});function Lc(t){let e,n;return e=new fa({props:{class:t[3]?"text-gray-500 dark:text-gray-600":"text-gray-600",$$slots:{default:[zc]},$$scope:{ctx:t}}}),{c(){jt(e.$$.fragment)},m(t,r){Pt(e,t,r),n=!0},p(t,n){const r={};8&n&&(r.class=t[3]?"text-gray-500 dark:text-gray-600":"text-gray-600"),4096&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(bt(e.$$.fragment,t),n=!0)},o(t){wt(e.$$.fragment,t),n=!1},d(t){Dt(e,t)}}}function qc(t){let e,n;return e=new fa({props:{class:"text-"+(t[3]?"gray":t[2])+"-500",$$slots:{default:[Nc]},$$scope:{ctx:t}}}),{c(){jt(e.$$.fragment)},m(t,r){Pt(e,t,r),n=!0},p(t,n){const r={};12&n&&(r.class="text-"+(t[3]?"gray":t[2])+"-500"),4096&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(bt(e.$$.fragment,t),n=!0)},o(t){wt(e.$$.fragment,t),n=!1},d(t){Dt(e,t)}}}function zc(t){let e;return{c(){e=R("radio_button_unchecked")},m(t,n){C(t,e,n)},d(t){t&&O(e)}}}function Nc(t){let e;return{c(){e=R("radio_button_checked")},m(t,n){C(t,e,n)},d(t){t&&O(e)}}}function Uc(t){let e,n,r,o;const i=[qc,Lc],a=[];function s(t,e){return t[0]===t[5]?0:1}return e=s(t),n=a[e]=i[e](t),{c(){n.c(),r=P()},m(t,n){a[e].m(t,n),C(t,r,n),o=!0},p(t,o){let c=e;e=s(t),e===c?a[e].p(t,o):(yt(),wt(a[c],1,1,(()=>{a[c]=null})),_t(),n=a[e],n?n.p(t,o):(n=a[e]=i[e](t),n.c()),bt(n,1),n.m(r.parentNode,r))},i(t){o||(bt(n),o=!0)},o(t){wt(n),o=!1},d(t){a[e].d(t),t&&O(r)}}}function Bc(t){let e,n,r,o,i,a,s,c,u,l;a=new $c({props:{color:t[8],$$slots:{default:[Uc]},$$scope:{ctx:t}}});const d=t[11].label,p=f(d,t,t[12],Ic),v=p||function(t){let e,n;return e=new bc({props:{disabled:t[3],label:t[1],class:t[6]}}),{c(){jt(e.$$.fragment)},m(t,r){Pt(e,t,r),n=!0},p(t,n){const r={};8&n&&(r.disabled=t[3]),2&n&&(r.label=t[1]),64&n&&(r.class=t[6]),e.$set(r)},i(t){n||(bt(e.$$.fragment,t),n=!0)},o(t){wt(e.$$.fragment,t),n=!1},d(t){Dt(e,t)}}}(t);return{c(){e=S("div"),n=S("input"),o=j(),i=S("div"),jt(a.$$.fragment),s=j(),v&&v.c(),M(n,"aria-label",t[1]),M(n,"class","hidden"),M(n,"type","radio"),M(n,"role","radio"),M(n,"name",t[4]),M(n,"selected",r=t[0]===t[5]),M(i,"class","relative"),M(e,"class",t[7])},m(r,f){C(r,e,f),k(e,n),k(e,o),k(e,i),Pt(a,i,null),k(e,s),v&&v.m(e,null),c=!0,u||(l=D(e,"click",t[9]),u=!0)},p(t,[o]){(!c||2&o)&&M(n,"aria-label",t[1]),(!c||16&o)&&M(n,"name",t[4]),(!c||33&o&&r!==(r=t[0]===t[5]))&&M(n,"selected",r);const i={};256&o&&(i.color=t[8]),4141&o&&(i.$$scope={dirty:o,ctx:t}),a.$set(i),p?p.p&&4096&o&&h(p,d,t,t[12],o,Tc,Ic):v&&v.p&&74&o&&v.p(t,o),(!c||128&o)&&M(e,"class",t[7])},i(t){c||(bt(a.$$.fragment,t),bt(v,t),c=!0)},o(t){wt(a.$$.fragment,t),wt(v,t),c=!1},d(t){t&&O(e),Dt(a),v&&v.d(t),u=!1,l()}}}const Fc="inline-flex block items-center mb-2 cursor-pointer z-0";function Wc(t,e,r){let o,i,{$$slots:a={},$$scope:s}=e,{selected:c=""}=e,{label:u=""}=e,{color:l="primary"}=e,{disabled:f=!1}=e,{name:d=""}=e,{value:h=""}=e,{classes:v=Fc}=e,{labelClasses:g=(t=>t)}=e;const m=new va(v,Fc);return t.$$set=t=>{r(14,e=n(n({},e),p(t))),"selected"in t&&r(0,c=t.selected),"label"in t&&r(1,u=t.label),"color"in t&&r(2,l=t.color),"disabled"in t&&r(3,f=t.disabled),"name"in t&&r(4,d=t.name),"value"in t&&r(5,h=t.value),"classes"in t&&r(10,v=t.classes),"labelClasses"in t&&r(6,g=t.labelClasses),"$$scope"in t&&r(12,s=t.$$scope)},t.$$.update=()=>{r(7,o=m.flush().add(v,!0,Fc).add(e.class).get()),44&t.$$.dirty&&r(8,i=h&&!f?l:"gray")},e=p(e),[c,u,l,f,d,h,g,o,i,function(){f||r(0,c=h)},v,a,s]}class Vc extends Tt{constructor(t){super(),Mt(this,t,Wc,Bc,s,{selected:0,label:1,color:2,disabled:3,name:4,value:5,classes:10,labelClasses:6})}}function Gc(t,e,n){const r=t.slice();return r[13]=e[n],r}const Hc=t=>({item:2&t}),Kc=t=>({item:t[13]});function Jc(t){let e;const r=t[9].default,o=f(r,t,t[8],Kc),i=o||function(t){let e,r,o,i;const a=[{class:t[5]},t[13],{color:t[4]},{name:t[2]||`radio-${Math.random()}`},{disabled:t[3]}];function s(e){t[10](e)}let c={};for(let t=0;t<a.length;t+=1)c=n(c,a[t]);return void 0!==t[0]&&(c.selected=t[0]),e=new Vc({props:c}),tt.push((()=>Rt(e,"selected",s))),{c(){jt(e.$$.fragment),o=j()},m(t,n){Pt(e,t,n),C(t,o,n),i=!0},p(t,n){const o=62&n?St(a,[32&n&&{class:t[5]},2&n&&At(t[13]),16&n&&{color:t[4]},4&n&&{name:t[2]||`radio-${Math.random()}`},8&n&&{disabled:t[3]}]):{};!r&&1&n&&(r=!0,o.selected=t[0],ct((()=>r=!1))),e.$set(o)},i(t){i||(bt(e.$$.fragment,t),i=!0)},o(t){wt(e.$$.fragment,t),i=!1},d(t){Dt(e,t),t&&O(o)}}}(t);return{c(){i&&i.c()},m(t,n){i&&i.m(t,n),e=!0},p(t,e){o?o.p&&258&e&&h(o,r,t,t[8],e,Hc,Kc):i&&i.p&&63&e&&i.p(t,e)},i(t){e||(bt(i,t),e=!0)},o(t){wt(i,t),e=!1},d(t){i&&i.d(t)}}}function Xc(t){let e,n,r=t[1],o=[];for(let e=0;e<r.length;e+=1)o[e]=Jc(Gc(t,r,e));const i=t=>wt(o[t],1,1,(()=>{o[t]=null}));return{c(){e=S("div");for(let t=0;t<o.length;t+=1)o[t].c();M(e,"class",t[6])},m(t,r){C(t,e,r);for(let t=0;t<o.length;t+=1)o[t].m(e,null);n=!0},p(t,[a]){if(319&a){let n;for(r=t[1],n=0;n<r.length;n+=1){const i=Gc(t,r,n);o[n]?(o[n].p(i,a),bt(o[n],1)):(o[n]=Jc(i),o[n].c(),bt(o[n],1),o[n].m(e,null))}for(yt(),n=r.length;n<o.length;n+=1)i(n);_t()}(!n||64&a)&&M(e,"class",t[6])},i(t){if(!n){for(let t=0;t<r.length;t+=1)bt(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)wt(o[t]);n=!1},d(t){t&&O(e),E(o,t)}}}const Qc="flex flex-col mb-4 cursor-pointer";function Yc(t,e,r){let o,{$$slots:i={},$$scope:a}=e,{classes:s=Qc}=e,{items:c=[]}=e,{selected:u=""}=e,{name:l=""}=e,{disabled:f=!1}=e,{color:d="primary"}=e,{buttonClasses:h="inline-flex block items-center mb-2 cursor-pointer z-0"}=e;const v=new va(s,Qc);return t.$$set=t=>{r(12,e=n(n({},e),p(t))),"classes"in t&&r(7,s=t.classes),"items"in t&&r(1,c=t.items),"selected"in t&&r(0,u=t.selected),"name"in t&&r(2,l=t.name),"disabled"in t&&r(3,f=t.disabled),"color"in t&&r(4,d=t.color),"buttonClasses"in t&&r(5,h=t.buttonClasses),"$$scope"in t&&r(8,a=t.$$scope)},t.$$.update=()=>{r(6,o=v.flush().add(e.class).get())},e=p(e),[u,c,l,f,d,h,o,s,a,i,function(t){u=t,r(0,u)}]}class Zc extends Tt{constructor(t){super(),Mt(this,t,Yc,Xc,s,{classes:7,items:1,selected:0,name:2,disabled:3,color:4,buttonClasses:5})}}function tu(t){let e,n;const r=t[3].default,o=f(r,t,t[2],null);return{c(){e=S("header"),o&&o.c(),M(e,"class",t[0])},m(t,r){C(t,e,r),o&&o.m(e,null),n=!0},p(t,[i]){o&&o.p&&4&i&&h(o,r,t,t[2],i,null,null),(!n||1&i)&&M(e,"class",t[0])},i(t){n||(bt(o,t),n=!0)},o(t){wt(o,t),n=!1},d(t){t&&O(e),o&&o.d(t)}}}let eu="fixed top-0 w-full items-center flex-wrap flex left-0 z-30 p-0 h-16 shadow bg-primary-300 dark:bg-dark-600";function nu(t,e,r){let o,{$$slots:i={},$$scope:a}=e,{classes:s=eu}=e;const c=new va(s,eu);return t.$$set=t=>{r(5,e=n(n({},e),p(t))),"classes"in t&&r(1,s=t.classes),"$$scope"in t&&r(2,a=t.$$scope)},t.$$.update=()=>{r(0,o=c.flush().add(e.class).get())},e=p(e),[o,s,a,i]}class ru extends Tt{constructor(t){super(),Mt(this,t,nu,tu,s,{classes:1})}}function ou(t,e){const n=n=>{t.contains(n.target)||e()};return window.addEventListener("click",n),{destroy:()=>{window.removeEventListener("click",n)}}}const iu=t=>({}),au=t=>({}),su=t=>({}),cu=t=>({});function uu(t){let e;const n=t[40].options,r=f(n,t,t[39],au),o=r||function(t){let e,n,r,o,i,a;function s(e){t[43](e)}let c={class:t[18],selectedClasses:t[19],itemClasses:t[20],select:!0,dense:t[10],items:t[25]};void 0!==t[0]&&(c.value=t[0]);return n=new js({props:c}),tt.push((()=>Rt(n,"value",s))),n.$on("change",t[44]),{c(){e=S("div"),jt(n.$$.fragment),M(e,"class",t[27])},m(r,s){C(r,e,s),Pt(n,e,null),o=!0,i||(a=D(e,"click",t[45]),i=!0)},p(t,i){const a={};262144&i[0]&&(a.class=t[18]),524288&i[0]&&(a.selectedClasses=t[19]),1048576&i[0]&&(a.itemClasses=t[20]),1024&i[0]&&(a.dense=t[10]),33554432&i[0]&&(a.items=t[25]),!r&&1&i[0]&&(r=!0,a.value=t[0],ct((()=>r=!1))),n.$set(a),(!o||134217728&i[0])&&M(e,"class",t[27])},i(t){o||(bt(n.$$.fragment,t),o=!0)},o(t){wt(n.$$.fragment,t),o=!1},d(t){t&&O(e),Dt(n),i=!1,a()}}}(t);return{c(){o&&o.c()},m(t,n){o&&o.m(t,n),e=!0},p(t,e){r?r.p&&256&e[1]&&h(r,n,t,t[39],e,iu,au):o&&o.p&&169608195&e[0]&&o.p(t,e)},i(t){e||(bt(o,t),e=!0)},o(t){wt(o,t),e=!1},d(t){o&&o.d(t)}}}function lu(t){let e,n,r,o,i;const a=t[40].select,s=f(a,t,t[39],cu),c=s||function(t){let e,n;return e=new uc({props:{select:!0,dense:t[10],focused:t[1],autocomplete:t[12],value:t[24],outlined:t[5],label:t[3],placeholder:t[6],hint:t[7],error:t[8],append:t[9],persistentHint:t[11],color:t[4],add:t[21],remove:t[22],replace:t[23],noUnderline:t[13],class:t[14],appendClasses:t[2],labelClasses:t[15],inputClasses:t[16],prependClasses:t[17],appendReverse:t[1]}}),e.$on("click",t[30]),e.$on("click-append",t[41]),e.$on("click",t[42]),e.$on("input",t[29]),{c(){jt(e.$$.fragment)},m(t,r){Pt(e,t,r),n=!0},p(t,n){const r={};1024&n[0]&&(r.dense=t[10]),2&n[0]&&(r.focused=t[1]),4096&n[0]&&(r.autocomplete=t[12]),16777216&n[0]&&(r.value=t[24]),32&n[0]&&(r.outlined=t[5]),8&n[0]&&(r.label=t[3]),64&n[0]&&(r.placeholder=t[6]),128&n[0]&&(r.hint=t[7]),256&n[0]&&(r.error=t[8]),512&n[0]&&(r.append=t[9]),2048&n[0]&&(r.persistentHint=t[11]),16&n[0]&&(r.color=t[4]),2097152&n[0]&&(r.add=t[21]),4194304&n[0]&&(r.remove=t[22]),8388608&n[0]&&(r.replace=t[23]),8192&n[0]&&(r.noUnderline=t[13]),16384&n[0]&&(r.class=t[14]),4&n[0]&&(r.appendClasses=t[2]),32768&n[0]&&(r.labelClasses=t[15]),65536&n[0]&&(r.inputClasses=t[16]),131072&n[0]&&(r.prependClasses=t[17]),2&n[0]&&(r.appendReverse=t[1]),e.$set(r)},i(t){n||(bt(e.$$.fragment,t),n=!0)},o(t){wt(e.$$.fragment,t),n=!1},d(t){Dt(e,t)}}}(t);let u=t[1]&&uu(t);return{c(){e=S("div"),c&&c.c(),n=j(),u&&u.c(),M(e,"class",t[26])},m(a,s){C(a,e,s),c&&c.m(e,null),k(e,n),u&&u.m(e,null),r=!0,o||(i=m(ou.call(null,e,t[31])),o=!0)},p(t,n){s?s.p&&256&n[1]&&h(s,a,t,t[39],n,su,cu):c&&c.p&&31719422&n[0]&&c.p(t,n),t[1]?u?(u.p(t,n),2&n[0]&&bt(u,1)):(u=uu(t),u.c(),bt(u,1),u.m(e,null)):u&&(yt(),wt(u,1,1,(()=>{u=null})),_t()),(!r||67108864&n[0])&&M(e,"class",t[26])},i(t){r||(bt(c,t),bt(u),r=!0)},o(t){wt(c,t),wt(u),r=!1},d(t){t&&O(e),c&&c.d(t),u&&u.d(),o=!1,i()}}}const fu="absolute left-0 bg-white rounded shadow w-full z-20 dark:bg-dark-500",du="cursor-pointer relative pb-4";function hu(t,e,r){let o,i,a,{$$slots:s={},$$scope:c}=e;const u=t=>t;let{items:l=[]}=e,{value:f=""}=e;let{label:d=""}=e,{selectedLabel:h}=e,{color:v="primary"}=e,{outlined:g=!1}=e,{placeholder:m=""}=e,{hint:y=""}=e,{error:_=!1}=e,{append:b="arrow_drop_down"}=e,{dense:w=!1}=e,{persistentHint:x=!1}=e,{autocomplete:$=!1}=e,{noUnderline:k=!1}=e,{showList:C=!1}=e,{classes:O=du}=e,{optionsClasses:E=fu}=e,{inputWrapperClasses:S=u}=e,{appendClasses:A=u}=e,{labelClasses:R=u}=e,{inputClasses:j=u}=e,{prependClasses:P=u}=e,{listClasses:D=u}=e,{selectedClasses:M=u}=e,{itemClasses:T=u}=e,{add:I=""}=e,{remove:L=""}=e,{replace:q=""}=e,z=[];const N=Q();let U="",B=null;const F=new va(O,du),W=new va(E,fu);return t.$$set=t=>{r(49,e=n(n({},e),p(t))),"items"in t&&r(32,l=t.items),"value"in t&&r(0,f=t.value),"label"in t&&r(3,d=t.label),"selectedLabel"in t&&r(34,h=t.selectedLabel),"color"in t&&r(4,v=t.color),"outlined"in t&&r(5,g=t.outlined),"placeholder"in t&&r(6,m=t.placeholder),"hint"in t&&r(7,y=t.hint),"error"in t&&r(8,_=t.error),"append"in t&&r(9,b=t.append),"dense"in t&&r(10,w=t.dense),"persistentHint"in t&&r(11,x=t.persistentHint),"autocomplete"in t&&r(12,$=t.autocomplete),"noUnderline"in t&&r(13,k=t.noUnderline),"showList"in t&&r(1,C=t.showList),"classes"in t&&r(35,O=t.classes),"optionsClasses"in t&&r(36,E=t.optionsClasses),"inputWrapperClasses"in t&&r(14,S=t.inputWrapperClasses),"appendClasses"in t&&r(2,A=t.appendClasses),"labelClasses"in t&&r(15,R=t.labelClasses),"inputClasses"in t&&r(16,j=t.inputClasses),"prependClasses"in t&&r(17,P=t.prependClasses),"listClasses"in t&&r(18,D=t.listClasses),"selectedClasses"in t&&r(19,M=t.selectedClasses),"itemClasses"in t&&r(20,T=t.itemClasses),"add"in t&&r(21,I=t.add),"remove"in t&&r(22,L=t.remove),"replace"in t&&r(23,q=t.replace),"$$scope"in t&&r(39,c=t.$$scope)},t.$$.update=()=>{if(2&t.$$.dirty[1]&&r(37,z=l.map((t=>"object"!=typeof t?{value:t,text:t}:t))),1&t.$$.dirty[0]|72&t.$$.dirty[1])if(void 0!==h)r(24,U=h);else if(void 0!==f){let t=z.find((t=>t.value===f));r(24,U=t?t.text:"")}else r(24,U="");192&t.$$.dirty[1]&&r(25,o=z.filter((t=>!B||t.text.toLowerCase().includes(B)))),r(26,i=F.flush().add(O,!0,du).add(e.class).get()),32&t.$$.dirty[0]|32&t.$$.dirty[1]&&r(27,a=W.flush().add(E,!0,fu).add("rounded-t-none",!g).get()),1024&t.$$.dirty[0]&&w&&r(2,A=t=>t.replace("pt-4","pt-3"))},e=p(e),[f,C,A,d,v,g,m,y,_,b,w,x,$,k,S,R,j,P,D,M,T,I,L,q,U,o,i,a,N,function({target:t}){r(38,B=t.value.toLowerCase())},function(){r(1,C=!!$||!C)},()=>r(1,C=!1),l,"",h,O,E,z,B,c,s,t=>r(1,C=!C),function(e){Y(t,e)},function(t){f=t,r(0,f)},({detail:t})=>{N("change",t)},()=>r(1,C=!1)]}class pu extends Tt{constructor(t){super(),Mt(this,t,hu,lu,s,{items:32,value:0,text:33,label:3,selectedLabel:34,color:4,outlined:5,placeholder:6,hint:7,error:8,append:9,dense:10,persistentHint:11,autocomplete:12,noUnderline:13,showList:1,classes:35,optionsClasses:36,inputWrapperClasses:14,appendClasses:2,labelClasses:15,inputClasses:16,prependClasses:17,listClasses:18,selectedClasses:19,itemClasses:20,add:21,remove:22,replace:23},[-1,-1])}get text(){return this.$$.ctx[33]}}function vu(e){let n,r,o,i,a,s;return{c(){n=A("svg"),r=A("circle"),M(r,"class",o="path stroke-"+e[0]+" svelte-1xkiyez"),M(r,"cx",i=e[2]/2),M(r,"cy",a=e[2]/2),M(r,"fill","none"),M(r,"r",s=e[2]/2-e[2]/5),M(r,"stroke-width",e[1]),M(r,"stroke-miterlimit","10"),M(r,"style",e[3]),M(n,"class","circular svelte-1xkiyez"),q(n,"width",e[2]+"px"),q(n,"height",e[2]+"px")},m(t,e){C(t,n,e),k(n,r)},p(t,[e]){1&e&&o!==(o="path stroke-"+t[0]+" svelte-1xkiyez")&&M(r,"class",o),4&e&&i!==(i=t[2]/2)&&M(r,"cx",i),4&e&&a!==(a=t[2]/2)&&M(r,"cy",a),4&e&&s!==(s=t[2]/2-t[2]/5)&&M(r,"r",s),2&e&&M(r,"stroke-width",t[1]),8&e&&M(r,"style",t[3]),4&e&&q(n,"width",t[2]+"px"),4&e&&q(n,"height",t[2]+"px")},i:t,o:t,d(t){t&&O(n)}}}function gu(t,e,n){let r,{progress:o=null}=e,{color:i="primary"}=e,{width:a=3}=e,{size:s=70}=e;return t.$$set=t=>{"progress"in t&&n(4,o=t.progress),"color"in t&&n(0,i=t.color),"width"in t&&n(1,a=t.width),"size"in t&&n(2,s=t.size)},t.$$.update=()=>{16&t.$$.dirty&&n(3,r=o>0?`\n      animation: none;\n      stroke-dasharray: ${15e4-1e3*o};\n      stroke-dashoffset: -${124-124*o/100};\n    `:"")},[i,a,s,r,o]}class mu extends Tt{constructor(t){super(),Mt(this,t,gu,vu,s,{progress:4,color:0,width:1,size:2})}}const yu=t=>({}),_u=t=>({});function bu(t){let e,n,r,o,i,a,s,c,u,l;const d=t[20].default,p=f(d,t,t[24],null);let g=!t[5]&&wu(t);return{c(){e=S("div"),n=S("div"),r=S("div"),p&&p.c(),o=j(),g&&g.c(),M(n,"class",s=v(t[7])+" svelte-1ym8qvd"),M(e,"class","fixed w-full h-full top-0 left-0 z-30 pointer-events-none")},m(i,a){C(i,e,a),k(e,n),k(n,r),p&&p.m(r,null),k(r,o),g&&g.m(r,null),t[22](r),c=!0,u||(l=D(r,"click",t[23]),u=!0)},p(e,o){t=e,p&&p.p&&16777216&o&&h(p,d,t,t[24],o,null,null),t[5]?g&&(yt(),wt(g,1,1,(()=>{g=null})),_t()):g?(g.p(t,o),32&o&&bt(g,1)):(g=wu(t),g.c(),bt(g,1),g.m(r,null)),(!c||128&o&&s!==(s=v(t[7])+" svelte-1ym8qvd"))&&M(n,"class",s)},i(e){c||(bt(p,e),bt(g),st((()=>{a&&a.end(1),i||(i=$t(r,Ba,t[3])),i.start()})),c=!0)},o(e){wt(p,e),wt(g),i&&i.invalidate(),a=kt(r,Na,t[4]),c=!1},d(n){n&&O(e),p&&p.d(n),g&&g.d(),t[22](null),n&&a&&a.end(),u=!1,l()}}}function wu(t){let e,n,r;e=new Ha({});const o=t[20].action,i=f(o,t,t[24],_u),a=i||function(t){let e,n,r=!t[2]&&xu(t);return{c(){r&&r.c(),e=P()},m(t,o){r&&r.m(t,o),C(t,e,o),n=!0},p(t,n){t[2]?r&&(yt(),wt(r,1,1,(()=>{r=null})),_t()):r?(r.p(t,n),4&n&&bt(r,1)):(r=xu(t),r.c(),bt(r,1),r.m(e.parentNode,e))},i(t){n||(bt(r),n=!0)},o(t){wt(r),n=!1},d(t){r&&r.d(t),t&&O(e)}}}(t);return{c(){jt(e.$$.fragment),n=j(),a&&a.c()},m(t,o){Pt(e,t,o),C(t,n,o),a&&a.m(t,o),r=!0},p(t,e){i?i.p&&16777216&e&&h(i,o,t,t[24],e,yu,_u):a&&a.p&&5&e&&a.p(t,e)},i(t){r||(bt(e.$$.fragment,t),bt(a,t),r=!0)},o(t){wt(e.$$.fragment,t),wt(a,t),r=!1},d(t){Dt(e,t),t&&O(n),a&&a.d(t)}}}function xu(t){let e,n;return e=new Ia({props:{text:!0,$$slots:{default:[$u]},$$scope:{ctx:t}}}),e.$on("click",t[21]),{c(){jt(e.$$.fragment)},m(t,r){Pt(e,t,r),n=!0},p(t,n){const r={};16777216&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(bt(e.$$.fragment,t),n=!0)},o(t){wt(e.$$.fragment,t),n=!1},d(t){Dt(e,t)}}}function $u(t){let e;return{c(){e=R("Close")},m(t,n){C(t,e,n)},d(t){t&&O(e)}}}function ku(t){let e,n,r=t[0]&&Ou===t[1]&&bu(t);return{c(){r&&r.c(),e=P()},m(t,o){r&&r.m(t,o),C(t,e,o),n=!0},p(t,[n]){t[0]&&Ou===t[1]?r?(r.p(t,n),3&n&&bt(r,1)):(r=bu(t),r.c(),bt(r,1),r.m(e.parentNode,e)):r&&(yt(),wt(r,1,1,(()=>{r=null})),_t())},i(t){n||(bt(r),n=!0)},o(t){wt(r),n=!1},d(t){r&&r.d(t),t&&O(e)}}}const Cu=qt([]);let Ou=!1;const Eu="fixed w-full h-full flex items-center justify-center pointer-events-none";function Su(t,e,r){let o,i,a;l(t,Cu,(t=>r(18,a=t)));let{$$slots:s={},$$scope:c}=e,{value:u=!1}=e,{timeout:f=2e3}=e,{inProps:d={duration:100,easing:qa}}=e,{outProps:h={duration:100,easing:za,delay:150}}=e,{color:v="gray"}=e,{text:g="white"}=e,{top:m=!1}=e,{bottom:y=!0}=e,{right:_=!1}=e,{left:b=!1}=e,{noAction:w=!0}=e,{hash:x=!1}=e;const $=Q();let{classes:k=Eu}=e;const C=new va(e.class,"pointer-events-auto flex absolute py-2 px-4 z-30 mb-4 content-between mx-auto\n      rounded items-center shadow-sm h-12"),O=new va(k,Eu);let E,S,A=t=>t,R=()=>{};A=O.flush().add(`text-${g}`).get();return t.$$set=t=>{r(30,e=n(n({},e),p(t))),"value"in t&&r(0,u=t.value),"timeout"in t&&r(2,f=t.timeout),"inProps"in t&&r(3,d=t.inProps),"outProps"in t&&r(4,h=t.outProps),"color"in t&&r(8,v=t.color),"text"in t&&r(9,g=t.text),"top"in t&&r(10,m=t.top),"bottom"in t&&r(11,y=t.bottom),"right"in t&&r(12,_=t.right),"left"in t&&r(13,b=t.left),"noAction"in t&&r(5,w=t.noAction),"hash"in t&&r(1,x=t.hash),"classes"in t&&r(14,k=t.classes),"$$scope"in t&&r(24,c=t.$$scope)},t.$$.update=()=>{if(256&t.$$.dirty){const t=pa(v||"gray");r(16,R=t.bg)}3&t.$$.dirty&&(r(1,x=x||(u?btoa(`${u}${(new Date).valueOf()}`):null)),r(0,u),r(1,x)),3&t.$$.dirty&&r(17,o=()=>function(t,e){!1===u&&!1===Ou||(r(1,x=Ou=r(0,u=e)),f&&r(15,E=setTimeout((()=>{r(0,u=Ou=r(1,x=!1)),$("finish"),a.length&&a.shift()()}),f)))}(0,x)),131073&t.$$.dirty&&u&&Cu.update((t=>[...t,o])),262145&t.$$.dirty&&!Ou&&u&&a.length&&a.shift()(),32769&t.$$.dirty&&(u||clearTimeout(E)),81184&t.$$.dirty&&r(19,i=C.flush().add(R(800),v).add("right-0 mr-2",_).add("top-0 mt-2",m).add("left-0 ml-2",b).add("bottom-0",y).add("snackbar",!w).get()),524352&t.$$.dirty&&S&&r(6,S.classList=i,S)},e=p(e),[u,x,f,d,h,w,S,A,v,g,m,y,_,b,k,E,R,o,a,i,s,()=>r(0,u=!1),function(t){tt[t?"unshift":"push"]((()=>{S=t,r(6,S),r(19,i),r(16,R),r(8,v),r(12,_),r(10,m),r(13,b),r(11,y),r(5,w)}))},()=>r(0,u=!1),c]}class Au extends Tt{constructor(t){super(),Mt(this,t,Su,ku,s,{value:0,timeout:2,inProps:3,outProps:4,color:8,text:9,top:10,bottom:11,right:12,left:13,noAction:5,hash:1,classes:14})}}function Ru(t){let e,r,o;const i=[t[2]];var a=t[0];function s(t){let e={};for(let t=0;t<i.length;t+=1)e=n(e,i[t]);return{props:e}}return a&&(e=new a(s()),e.$on("routeEvent",t[7])),{c(){e&&jt(e.$$.fragment),r=P()},m(t,n){e&&Pt(e,t,n),C(t,r,n),o=!0},p(t,n){const o=4&n?St(i,[At(t[2])]):{};if(a!==(a=t[0])){if(e){yt();const t=e;wt(t.$$.fragment,1,0,(()=>{Dt(t,1)})),_t()}a?(e=new a(s()),e.$on("routeEvent",t[7]),jt(e.$$.fragment),bt(e.$$.fragment,1),Pt(e,r.parentNode,r)):e=null}else a&&e.$set(o)},i(t){o||(e&&bt(e.$$.fragment,t),o=!0)},o(t){e&&wt(e.$$.fragment,t),o=!1},d(t){t&&O(r),e&&Dt(e,t)}}}function ju(t){let e,r,o;const i=[{params:t[1]},t[2]];var a=t[0];function s(t){let e={};for(let t=0;t<i.length;t+=1)e=n(e,i[t]);return{props:e}}return a&&(e=new a(s()),e.$on("routeEvent",t[6])),{c(){e&&jt(e.$$.fragment),r=P()},m(t,n){e&&Pt(e,t,n),C(t,r,n),o=!0},p(t,n){const o=6&n?St(i,[2&n&&{params:t[1]},4&n&&At(t[2])]):{};if(a!==(a=t[0])){if(e){yt();const t=e;wt(t.$$.fragment,1,0,(()=>{Dt(t,1)})),_t()}a?(e=new a(s()),e.$on("routeEvent",t[6]),jt(e.$$.fragment),bt(e.$$.fragment,1),Pt(e,r.parentNode,r)):e=null}else a&&e.$set(o)},i(t){o||(e&&bt(e.$$.fragment,t),o=!0)},o(t){e&&wt(e.$$.fragment,t),o=!1},d(t){t&&O(r),e&&Dt(e,t)}}}function Pu(t){let e,n,r,o;const i=[ju,Ru],a=[];function s(t,e){return t[1]?0:1}return e=s(t),n=a[e]=i[e](t),{c(){n.c(),r=P()},m(t,n){a[e].m(t,n),C(t,r,n),o=!0},p(t,[o]){let c=e;e=s(t),e===c?a[e].p(t,o):(yt(),wt(a[c],1,1,(()=>{a[c]=null})),_t(),n=a[e],n?n.p(t,o):(n=a[e]=i[e](t),n.c()),bt(n,1),n.m(r.parentNode,r))},i(t){o||(bt(n),o=!0)},o(t){wt(n),o=!1},d(t){a[e].d(t),t&&O(r)}}}function Du(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let r="";return n>-1&&(r=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:r}}const Mu=Lt(null,(function(t){t(Du());const e=()=>{t(Du())};return window.addEventListener("hashchange",e,!1),function(){window.removeEventListener("hashchange",e,!1)}})),Tu=zt(Mu,(t=>t.location));async function Iu(t){if(!t||t.length<1||"/"!=t.charAt(0)&&0!==t.indexOf("#/"))throw Error("Invalid parameter location");await at(),history.replaceState({scrollX:window.scrollX,scrollY:window.scrollY},void 0,void 0),window.location.hash=("#"==t.charAt(0)?"":"#")+t}async function Lu(){await at(),window.history.back()}function qu(t,e,n){let{routes:r={}}=e,{prefix:o=""}=e,{restoreScrollState:i=!1}=e;class a{constructor(t,e){if(!e||"function"!=typeof e&&("object"!=typeof e||!0!==e._sveltesparouter))throw Error("Invalid component object");if(!t||"string"==typeof t&&(t.length<1||"/"!=t.charAt(0)&&"*"!=t.charAt(0))||"object"==typeof t&&!(t instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:n,keys:r}=function(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,o,i,a=[],s="",c=t.split("/");for(c[0]||c.shift();o=c.shift();)"*"===(n=o[0])?(a.push("wild"),s+="/(.*)"):":"===n?(r=o.indexOf("?",1),i=o.indexOf(".",1),a.push(o.substring(1,~r?r:~i?i:o.length)),s+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(s+=(~r?"?":"")+"\\"+o.substring(i))):s+="/"+o;return{keys:a,pattern:new RegExp("^"+s+(e?"(?=$|/)":"/?$"),"i")}}(t);this.path=t,"object"==typeof e&&!0===e._sveltesparouter?(this.component=e.component,this.conditions=e.conditions||[],this.userData=e.userData,this.props=e.props||{}):(this.component=()=>Promise.resolve(e),this.conditions=[],this.props={}),this._pattern=n,this._keys=r}match(t){if(o)if("string"==typeof o){if(!t.startsWith(o))return null;t=t.substr(o.length)||"/"}else if(o instanceof RegExp){const e=t.match(o);if(!e||!e[0])return null;t=t.substr(e[0].length)||"/"}const e=this._pattern.exec(t);if(null===e)return null;if(!1===this._keys)return e;const n={};let r=0;for(;r<this._keys.length;){try{n[this._keys[r]]=decodeURIComponent(e[r+1]||"")||null}catch(t){n[this._keys[r]]=null}r++}return n}async checkConditions(t){for(let e=0;e<this.conditions.length;e++)if(!await this.conditions[e](t))return!1;return!0}}const s=[];r instanceof Map?r.forEach(((t,e)=>{s.push(new a(e,t))})):Object.keys(r).forEach((t=>{s.push(new a(t,r[t]))}));let c=null,u=null,l={};const f=Q();async function d(t,e){await at(),f(t,e)}let h=null;var p;i&&(window.addEventListener("popstate",(t=>{h=t.state&&t.state.scrollY?t.state:null})),p=()=>{h?window.scrollTo(h.scrollX,h.scrollY):window.scrollTo(0,0)},K().$$.after_update.push(p));let v=null,g=null;return Mu.subscribe((async t=>{v=t;let e=0;for(;e<s.length;){const r=s[e].match(t.location);if(!r){e++;continue}const o={route:s[e].path,location:t.location,querystring:t.querystring,userData:s[e].userData};if(!await s[e].checkConditions(o))return n(0,c=null),g=null,void d("conditionsFailed",o);d("routeLoading",Object.assign({},o));const i=s[e].component;if(g!=i){i.loading?(n(0,c=i.loading),g=i,n(1,u=i.loadingParams),n(2,l={}),d("routeLoaded",Object.assign({},o,{component:c,name:c.name}))):(n(0,c=null),g=null);const e=await i();if(t!=v)return;n(0,c=e&&e.default||e),g=i}return r&&"object"==typeof r&&Object.keys(r).length?n(1,u=r):n(1,u=null),n(2,l=s[e].props),void d("routeLoaded",Object.assign({},o,{component:c,name:c.name}))}n(0,c=null),g=null})),t.$$set=t=>{"routes"in t&&n(3,r=t.routes),"prefix"in t&&n(4,o=t.prefix),"restoreScrollState"in t&&n(5,i=t.restoreScrollState)},t.$$.update=()=>{32&t.$$.dirty&&(history.scrollRestoration=i?"manual":"auto")},[c,u,l,r,o,i,function(e){Y(t,e)},function(e){Y(t,e)}]}zt(Mu,(t=>t.querystring));class zu extends Tt{constructor(t){super(),Mt(this,t,qu,Pu,s,{routes:3,prefix:4,restoreScrollState:5})}}function Nu(e){let n,r;return n=new Ia({props:{add:"flex-none align-middle mr-3 mt-1",color:"error",small:!0,flat:!0,light:!0,icon:"delete_outline"}}),n.$on("click",e[7]),{c(){jt(n.$$.fragment)},m(t,e){Pt(n,t,e),r=!0},p:t,i(t){r||(bt(n.$$.fragment,t),r=!0)},o(t){wt(n.$$.fragment,t),r=!1},d(t){Dt(n,t)}}}function Uu(e){let n,r,o,i,a=e[0].category+"";return{c(){n=S("span"),r=R(a),M(n,"class","mt-2 h-8 self-center")},m(t,a){C(t,n,a),k(n,r),o||(i=D(n,"click",e[9]),o=!0)},p(t,e){1&e&&a!==(a=t[0].category+"")&&I(r,a)},i:t,o:t,d(t){t&&O(n),o=!1,i()}}}function Bu(t){let e,n,r,o;function i(t,e){return t[0].coche?Wu:Fu}e=new Mc({props:{checked:t[0].coche}}),e.$on("change",t[8]);let a=i(t),s=a(t);return{c(){jt(e.$$.fragment),n=j(),s.c(),r=P()},m(t,i){Pt(e,t,i),C(t,n,i),s.m(t,i),C(t,r,i),o=!0},p(t,n){const o={};1&n&&(o.checked=t[0].coche),e.$set(o),a===(a=i(t))&&s?s.p(t,n):(s.d(1),s=a(t),s&&(s.c(),s.m(r.parentNode,r)))},i(t){o||(bt(e.$$.fragment,t),o=!0)},o(t){wt(e.$$.fragment,t),o=!1},d(t){Dt(e,t),t&&O(n),s.d(t),t&&O(r)}}}function Fu(t){let e,n,r,o,i=t[0].produit+"";return{c(){e=S("span"),n=R(i),M(e,"class","mb-2 self-center")},m(i,a){C(i,e,a),k(e,n),r||(o=D(e,"click",t[9]),r=!0)},p(t,e){1&e&&i!==(i=t[0].produit+"")&&I(n,i)},d(t){t&&O(e),r=!1,o()}}}function Wu(t){let e,n,r,o,i=t[0].produit+"";return{c(){e=S("span"),n=R(i),M(e,"class","line-through mb-2 self-center")},m(i,a){C(i,e,a),k(e,n),r||(o=D(e,"click",t[9]),r=!0)},p(t,e){1&e&&i!==(i=t[0].produit+"")&&I(n,i)},d(t){t&&O(e),r=!1,o()}}}function Vu(t){let e,n,r,o,a,s,c,u,l,f,d,h=(t[2]||t[3].allwaysShowDeleteButton)&&Nu(t);const p=[Bu,Uu],v=[];function g(t,e){return"item"==t[1]?0:1}return a=g(t),s=v[a]=p[a](t),{c(){e=S("div"),n=S("li"),r=S("div"),h&&h.c(),o=j(),s.c(),c=j(),u=S("hr"),M(r,"class","flex"),M(n,"class","flex-grow"),M(e,"class","flex")},m(i,s){C(i,e,s),k(e,n),k(n,r),h&&h.m(r,null),k(r,o),v[a].m(r,null),k(n,c),k(n,u),l=!0,f||(d=[D(e,"mousedown",t[4]),D(e,"mousemove",t[5]),D(e,"mouseup",t[6]),D(e,"mouseleave",t[6]),D(e,"touchstart",t[4]),D(e,"touchmove",t[5]),D(e,"touchend",t[6]),D(e,"touchcancel",t[6])],f=!0)},p(t,[e]){t[2]||t[3].allwaysShowDeleteButton?h?(h.p(t,e),12&e&&bt(h,1)):(h=Nu(t),h.c(),bt(h,1),h.m(r,o)):h&&(yt(),wt(h,1,1,(()=>{h=null})),_t());let n=a;a=g(t),a===n?v[a].p(t,e):(yt(),wt(v[n],1,1,(()=>{v[n]=null})),_t(),s=v[a],s?s.p(t,e):(s=v[a]=p[a](t),s.c()),bt(s,1),s.m(r,null))},i(t){l||(bt(h),bt(s),l=!0)},o(t){wt(h),wt(s),l=!1},d(t){t&&O(e),h&&h.d(),v[a].d(),f=!1,i(d)}}}function Gu(t,e,n){let r;l(t,Hi,(t=>n(3,r=t)));let{item:o={}}=e,{type:i=""}=e;var a=!1,s=null,c=null,u=null,f={x:-1,y:-1},d={x:-1,y:-1},h=!1,p=function(t){var e={x:0,y:0};if("touchstart"==t.type||"touchmove"==t.type||"touchend"==t.type||"touchcancel"==t.type){var n=t.touches[0]||t.changedTouches[0];e.x=n.pageX,e.y=n.pageY}else"mousedown"!=t.type&&"mouseup"!=t.type&&"mousemove"!=t.type&&"mouseover"!=t.type&&"mouseout"!=t.type&&"mouseenter"!=t.type&&"mouseleave"!=t.type||(e.x=t.pageX,e.y=t.pageY);return e};function v(){"item"==i&&(n(0,o.coche=!o.coche,o),Zi.updateItem(o))}function g(){var t="";t="item"==i?"#/item/edit/":"#/category/edit/",Iu(t+=o._id)}return X((()=>{null!=s&&clearTimeout(s),null!=c&&clearTimeout(c),null!=u&&clearTimeout(u)})),t.$$set=t=>{"item"in t&&n(0,o=t.item),"type"in t&&n(1,i=t.type)},[o,i,a,r,function(t){a||r.allwaysShowDeleteButton||(h=!1,f=p(t),d={x:-1,y:-1},s=setTimeout((()=>{if(s=null,-1==d.x);else{var e=Math.abs(d.x-f.x),r=Math.abs(d.y-f.y);(e>5||r>5)&&(0==e||r/e>.75?(clearTimeout(u),u=null):(h=!0,clearTimeout(u),u=null,t.cancelable&&t.preventDefault(),n(2,a=!0),c=setTimeout((()=>{c=!1,n(2,a=!1)}),5e3)))}}),250),r.longPressToEdit&&(u=setTimeout((()=>{u=null,(-1==d.y||Math.abs(d.y-f.y)<=10)&&(t.cancelable&&t.preventDefault(),g())}),1250)))},function(t){d=p(t)},function(t){a||r.allwaysShowDeleteButton||(null!=u&&(clearTimeout(u),u=null),null!=s?(clearTimeout(s),s=null):h&&(h=!1,t.cancelable&&t.preventDefault()))},function(){"item"==i?Zi.removeItem(o):Zi.removeCategory(o)},v,function(){r.longPressToEdit?v():g()}]}class Hu extends Tt{constructor(t){super(),Mt(this,t,Gu,Vu,s,{item:0,type:1})}}function Ku(t,e,n){const r=t.slice();return r[13]=e[n],r[14]=e,r[15]=n,r}function Ju(t){let e,n,r,o,i,a;return n=new Ia({props:{icon:"menu",flat:!0,color:"white",text:!0}}),n.$on("click",t[3]),{c(){e=S("div"),jt(n.$$.fragment),r=j(),o=S("h6"),i=R(t[1]),M(e,"class","md:hidden"),M(o,"class","md:pl-3 text-white text-lg")},m(t,s){C(t,e,s),Pt(n,e,null),C(t,r,s),C(t,o,s),k(o,i),a=!0},p(t,e){(!a||2&e)&&I(i,t[1])},i(t){a||(bt(n.$$.fragment,t),a=!0)},o(t){wt(n.$$.fragment,t),a=!1},d(t){t&&O(e),Dt(n),t&&O(r),t&&O(o)}}}function Xu(t,e){let n,r,o,i;function a(t){e[8](t,e[13],e[14],e[15])}let s={type:"item"};return void 0!==e[13]&&(s.item=e[13]),r=new Hu({props:s}),tt.push((()=>Rt(r,"item",a))),{key:t,first:null,c(){n=P(),jt(r.$$.fragment),this.first=n},m(t,e){C(t,n,e),Pt(r,t,e),i=!0},p(t,n){e=t;const i={};!o&&1&n&&(o=!0,i.item=e[13],ct((()=>o=!1))),r.$set(i)},i(t){i||(bt(r.$$.fragment,t),i=!0)},o(t){wt(r.$$.fragment,t),i=!1},d(t){t&&O(n),Dt(r,t)}}}function Qu(t){let e,n,r,o,i,a,s,c,u,l=[],f=new Map;n=new ru({props:{class:"bg-blue-400",$$slots:{default:[Ju]},$$scope:{ctx:t}}});let d=t[0];const h=t=>t[13]._id;for(let e=0;e<d.length;e+=1){let n=Ku(t,d,e),r=h(n);f.set(r,l[e]=Xu(r,n))}return s=new Ia({props:{color:"error",icon:"add"}}),s.$on("click",t[2]),{c(){e=S("div"),jt(n.$$.fragment),r=j(),o=S("ul");for(let t=0;t<l.length;t+=1)l[t].c();i=j(),a=S("div"),jt(s.$$.fragment),M(a,"class","fixed px-5 py-5 bottom-0 right-0")},m(t,c){C(t,e,c),Pt(n,e,null),k(e,r),k(e,o);for(let t=0;t<l.length;t+=1)l[t].m(o,null);k(e,i),k(e,a),Pt(s,a,null),u=!0},p(t,[e]){const r={};65538&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r),1&e&&(d=t[0],yt(),l=Et(l,e,h,1,t,d,f,o,Ot,Xu,null,Ku),_t())},i(t){if(!u){bt(n.$$.fragment,t);for(let t=0;t<d.length;t+=1)bt(l[t]);bt(s.$$.fragment,t),c||st((()=>{c=$t(e,Na,{}),c.start()})),u=!0}},o(t){wt(n.$$.fragment,t);for(let t=0;t<l.length;t+=1)wt(l[t]);wt(s.$$.fragment,t),u=!1},d(t){t&&O(e),Dt(n);for(let t=0;t<l.length;t+=1)l[t].d();Dt(s)}}}function Yu(t,e,n){let r,o,i,a,s;l(t,Hi,(t=>n(10,r=t))),l(t,Tu,(t=>n(11,o=t))),l(t,Ji,(t=>n(5,i=t))),l(t,Ki,(t=>n(6,a=t))),l(t,Xi,(t=>n(7,s=t)));const c=Q();let{params:u={}}=e;var f,d,h=[];return g(Hi,r.startLocation=o,r),Hi.saveParams(),t.$$set=t=>{"params"in t&&n(4,u=t.params)},t.$$.update=()=>{if(240&t.$$.dirty){if("null"==u.id)n(0,h=i.filter((t=>null==t.categoryId||""==t.categoryId))),n(1,f=a.emtpyCategory),d="#/item/new/"+(null==u.id?"":u.id);else if(n(0,h=i.filter((t=>null==u.id||t.categoryId==u.id))),null==u.id)n(1,f=a.appname);else try{n(1,f=s.filter((t=>t._id==u.id))[0].category)}catch(t){n(1,f="")}d="#/item/new/"+(null==u.id?"":u.id)}},[h,f,function(){Iu(d)},function(){c("routeEvent",{action:"openDrawer"})},u,i,a,s,function(t,e,r,o){r[o]=t,n(0,h),n(4,u),n(5,i),n(6,a),n(7,s)}]}class Zu extends Tt{constructor(t){super(),Mt(this,t,Yu,Qu,s,{params:4})}}var tl=Bt(Wt((function(t,e){window,t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=87)}([function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(e)}t.exports=n},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}},function(t,e,n){var r=n(19),o=n(1);t.exports=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?o(t):e}},function(t,e,n){var r=n(222);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}},function(t,e,n){t.exports={EPSILON:n(61),create:n(62),clone:n(154),fromValues:n(155),copy:n(156),set:n(157),equals:n(158),exactEquals:n(159),add:n(160),subtract:n(63),sub:n(161),multiply:n(64),mul:n(162),divide:n(65),div:n(163),inverse:n(164),min:n(165),max:n(166),rotate:n(167),floor:n(168),ceil:n(169),round:n(170),scale:n(171),scaleAndAdd:n(172),distance:n(66),dist:n(173),squaredDistance:n(67),sqrDist:n(174),length:n(68),len:n(175),squaredLength:n(69),sqrLen:n(176),negate:n(177),normalize:n(178),dot:n(179),cross:n(180),lerp:n(181),random:n(182),transformMat2:n(183),transformMat2d:n(184),transformMat3:n(185),transformMat4:n(186),forEach:n(187),limit:n(188)}},function(t,e,n){e.a={init:function(t,e){for(var n=t.length;n--;)t[n]=e},shuffle:function(t){for(var e=t.length-1;e>=0;e--){var n=Math.floor(Math.random()*e),r=t[e];t[e]=t[n],t[n]=r}return t},toPointList:function(t){var e=t.reduce((function(t,e){var n="[".concat(e.join(","),"]");return t.push(n),t}),[]);return"[".concat(e.join(",\r\n"),"]")},threshold:function(t,e,n){return t.reduce((function(r,o){return n.apply(t,[o])>=e&&r.push(o),r}),[])},maxIndex:function(t){for(var e=0,n=0;n<t.length;n++)t[n]>t[e]&&(e=n);return e},max:function(t){for(var e=0,n=0;n<t.length;n++)t[n]>e&&(e=t[n]);return e},sum:function(t){for(var e=t.length,n=0;e--;)n+=t[e];return n}}},function(t,e,n){n.d(e,"h",(function(){return f})),n.d(e,"i",(function(){return h})),n.d(e,"b",(function(){return p})),n.d(e,"j",(function(){return v})),n.d(e,"e",(function(){return g})),n.d(e,"c",(function(){return m})),n.d(e,"f",(function(){return y})),n.d(e,"g",(function(){return _})),n.d(e,"a",(function(){return w})),n.d(e,"d",(function(){return $}));var r=n(7),o=n(83),i={clone:r.clone,dot:r.dot},a=function(t,e){var n=[],r={rad:0,vec:i.clone([0,0])},o={};function a(t){o[t.id]=t,n.push(t)}function s(){var t,e=0;for(t=0;t<n.length;t++)e+=n[t].rad;r.rad=e/n.length,r.vec=i.clone([Math.cos(r.rad),Math.sin(r.rad)])}return a(t),s(),{add:function(t){o[t.id]||(a(t),s())},fits:function(t){return Math.abs(i.dot(t.point.vec,r.vec))>e},getPoints:function(){return n},getCenter:function(){return r}}},s=function(t,e,n){return{rad:t[n],point:t,id:e}},c=n(8),u={clone:r.clone},l={clone:o.clone};function f(t,e){return{x:t,y:e,toVec2:function(){return u.clone([this.x,this.y])},toVec3:function(){return l.clone([this.x,this.y,1])},round:function(){return this.x=this.x>0?Math.floor(this.x+.5):Math.floor(this.x-.5),this.y=this.y>0?Math.floor(this.y+.5):Math.floor(this.y-.5),this}}}function d(t,e){e||(e=8);for(var n=t.data,r=n.length,o=8-e,i=new Int32Array(1<<e);r--;)i[n[r]>>o]++;return i}function h(t,e){var n=function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,r=8-n;function o(t,n){for(var r=0,o=t;o<=n;o++)r+=e[o];return r}function i(t,n){for(var r=0,o=t;o<=n;o++)r+=o*e[o];return r}function a(){var r,a,s,u,l=[0],f=(1<<n)-1;e=d(t,n);for(var h=1;h<f;h++)0==(s=(r=o(0,h))*(a=o(h+1,f)))&&(s=1),u=i(0,h)*a-i(h+1,f)*r,l[h]=u*u/s;return c.a.maxIndex(l)}return a()<<r}(t);return function(t,e,n){n||(n=t);for(var r=t.data,o=r.length,i=n.data;o--;)i[o]=r[o]<e?1:0}(t,n,e),n}function p(t,e,n){var r,o,i,c,u=[];function l(t){var e=!1;for(o=0;o<u.length;o++)(i=u[o]).fits(t)&&(i.add(t),e=!0);return e}for(n||(n="rad"),r=0;r<t.length;r++)l(c=s(t[r],r,n))||u.push(a(c,e));return u}function v(t,e,n){var r,o,i,a,s=0,c=0,u=[];for(r=0;r<e;r++)u[r]={score:0,item:null};for(r=0;r<t.length;r++)if((o=n.apply(this,[t[r]]))>c)for((i=u[s]).score=o,i.item=t[r],c=Number.MAX_VALUE,a=0;a<e;a++)u[a].score<c&&(c=u[a].score,s=a);return u}function g(t,e,n){for(var r,o=0,i=e.x,a=Math.floor(t.length/4),s=e.x/2,c=0,u=e.x;i<a;){for(r=0;r<s;r++)n[c]=(.299*t[4*o+0]+.587*t[4*o+1]+.114*t[4*o+2]+(.299*t[4*(o+1)+0]+.587*t[4*(o+1)+1]+.114*t[4*(o+1)+2])+(.299*t[4*i+0]+.587*t[4*i+1]+.114*t[4*i+2])+(.299*t[4*(i+1)+0]+.587*t[4*(i+1)+1]+.114*t[4*(i+1)+2]))/4,c++,o+=2,i+=2;o+=u,i+=u}}function m(t,e,n){var r=t.length/4|0;if(n&&!0===n.singleChannel)for(var o=0;o<r;o++)e[o]=t[4*o+0];else for(var i=0;i<r;i++)e[i]=.299*t[4*i+0]+.587*t[4*i+1]+.114*t[4*i+2]}function y(t,e){for(var n=t.data,r=t.size.x,o=e.data,i=0,a=r,s=n.length,c=r/2,u=0;a<s;){for(var l=0;l<c;l++)o[u]=Math.floor((n[i]+n[i+1]+n[a]+n[a+1])/4),u++,i+=2,a+=2;i+=r,a+=r}}function _(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0],n=t[0],r=t[1],o=t[2],i=o*r,a=i*(1-Math.abs(n/60%2-1)),s=o-i,c=0,u=0,l=0;return n<60?(c=i,u=a):n<120?(c=a,u=i):n<180?(u=i,l=a):n<240?(u=a,l=i):n<300?(c=a,l=i):n<360&&(c=i,l=a),e[0]=255*(c+s)|0,e[1]=255*(u+s)|0,e[2]=255*(l+s)|0,e}function b(t){for(var e=[],n=[],r=1;r<Math.sqrt(t)+1;r++)t%r==0&&(n.push(r),r!==t/r&&e.unshift(Math.floor(t/r)));return n.concat(e)}function w(t,e){var n,r=b(e.x),o=b(e.y),i=Math.max(e.x,e.y),a=function(t,e){for(var n=0,r=0,o=[];n<t.length&&r<e.length;)t[n]===e[r]?(o.push(t[n]),n++,r++):t[n]>e[r]?r++:n++;return o}(r,o),s=[8,10,15,20,32,60,80],c={"x-small":5,small:4,medium:3,large:2,"x-large":1},u=c[t]||c.medium,l=s[u],f=Math.floor(i/l);function d(t){for(var e=0,n=t[Math.floor(t.length/2)];e<t.length-1&&t[e]<f;)e++;return e>0&&(n=Math.abs(t[e]-f)>Math.abs(t[e-1]-f)?t[e-1]:t[e]),f/n<s[u+1]/s[u]&&f/n>s[u-1]/s[u]?{x:n,y:n}:null}return(n=d(a))||(n=d(b(i)))||(n=d(b(f*l))),n}var x={top:function(t,e){return"%"===t.unit?Math.floor(e.height*(t.value/100)):null},right:function(t,e){return"%"===t.unit?Math.floor(e.width-e.width*(t.value/100)):null},bottom:function(t,e){return"%"===t.unit?Math.floor(e.height-e.height*(t.value/100)):null},left:function(t,e){return"%"===t.unit?Math.floor(e.width*(t.value/100)):null}};function $(t,e,n){var r={width:t,height:e},o=Object.keys(n).reduce((function(t,e){var o=function(t){return{value:parseFloat(t),unit:(t.indexOf("%"),t.length,"%")}}(n[e]),i=x[e](o,r);return t[e]=i,t}),{});return{sx:o.left,sy:o.top,sw:o.right-o.left,sh:o.bottom-o.top}}},function(t,e,n){var r=n(82),o=n.n(r),i=n(3),a=n.n(i),s=n(4),c=n.n(s),u=n(0),l=n.n(u),f=n(7),d=n(9),h=n(8),p={clone:f.clone};function v(t){if(t<0)throw new Error("expected positive number, received ".concat(t))}var g=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Uint8Array,o=arguments.length>3?arguments[3]:void 0;a()(this,t),l()(this,"data",void 0),l()(this,"size",void 0),l()(this,"indexMapping",void 0),n?this.data=n:(this.data=new r(e.x*e.y),o&&h.a.init(this.data,0)),this.size=e}return c()(t,[{key:"inImageWithBorder",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return v(e),t.x>=0&&t.y>=0&&t.x<this.size.x+2*e&&t.y<this.size.y+2*e}},{key:"subImageAsCopy",value:function(t,e){v(e.x),v(e.y);for(var n=t.size,r=n.x,o=n.y,i=0;i<r;i++)for(var a=0;a<o;a++)t.data[a*r+i]=this.data[(e.y+a)*this.size.x+e.x+i];return t}},{key:"get",value:function(t,e){return this.data[e*this.size.x+t]}},{key:"getSafe",value:function(t,e){if(!this.indexMapping){this.indexMapping={x:[],y:[]};for(var n=0;n<this.size.x;n++)this.indexMapping.x[n]=n,this.indexMapping.x[n+this.size.x]=n;for(var r=0;r<this.size.y;r++)this.indexMapping.y[r]=r,this.indexMapping.y[r+this.size.y]=r}return this.data[this.indexMapping.y[e+this.size.y]*this.size.x+this.indexMapping.x[t+this.size.x]]}},{key:"set",value:function(t,e,n){return this.data[e*this.size.x+t]=n,delete this.indexMapping,this}},{key:"zeroBorder",value:function(){for(var t=this.size,e=t.x,n=t.y,r=0;r<e;r++)this.data[r]=this.data[(n-1)*e+r]=0;for(var o=1;o<n-1;o++)this.data[o*e]=this.data[o*e+(e-1)]=0;return delete this.indexMapping,this}},{key:"moments",value:function(t){var e,n,r,o,i,a,s,c,u,l,f=this.data,d=this.size.y,h=this.size.x,v=[],g=[],m=Math.PI,y=m/4;if(t<=0)return g;for(i=0;i<t;i++)v[i]={m00:0,m01:0,m10:0,m11:0,m02:0,m20:0,theta:0,rad:0};for(n=0;n<d;n++)for(o=n*n,e=0;e<h;e++)(r=f[n*h+e])>0&&((a=v[r-1]).m00+=1,a.m01+=n,a.m10+=e,a.m11+=e*n,a.m02+=o,a.m20+=e*e);for(i=0;i<t;i++)a=v[i],isNaN(a.m00)||0===a.m00||(c=a.m10/a.m00,u=a.m01/a.m00,s=a.m11/a.m00-c*u,l=(a.m02/a.m00-u*u-(a.m20/a.m00-c*c))/(2*s),l=.5*Math.atan(l)+(s>=0?y:-y)+m,a.theta=(180*l/m+90)%180-90,a.theta<0&&(a.theta+=180),a.rad=l>m?l-m:l,a.vec=p.clone([Math.cos(l),Math.sin(l)]),g.push(a));return g}},{key:"getAsRGBA",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=new Uint8ClampedArray(4*this.size.x*this.size.y),n=0;n<this.size.y;n++)for(var r=0;r<this.size.x;r++){var o=n*this.size.x+r,i=this.get(r,n)*t;e[4*o+0]=i,e[4*o+1]=i,e[4*o+2]=i,e[4*o+3]=255}return e}},{key:"show",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=t.getContext("2d");if(!n)throw new Error("Unable to get canvas context");var r=n.getImageData(0,0,t.width,t.height),o=this.getAsRGBA(e);t.width=this.size.x,t.height=this.size.y;var i=new ImageData(o,r.width,r.height);n.putImageData(i,0,0)}},{key:"overlay",value:function(t,e,n){var r=e<0||e>360?360:e,i=[0,1,1],a=[0,0,0],s=[255,255,255],c=[0,0,0],u=t.getContext("2d");if(!u)throw new Error("Unable to get canvas context");for(var l=u.getImageData(n.x,n.y,this.size.x,this.size.y),f=l.data,h=this.data.length;h--;){i[0]=this.data[h]*r;var p=4*h,v=i[0]<=0?s:i[0]>=360?c:Object(d.g)(i,a),g=o()(v,3);f[p]=g[0],f[p+1]=g[1],f[p+2]=g[2],f[p+3]=255}u.putImageData(l,n.x,n.y)}}]),t}();e.a=g},function(t,e,n){t.exports=n(227)},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){e.a={drawRect:function(t,e,n,r){n.strokeStyle=r.color,n.fillStyle=r.color,n.lineWidth=r.lineWidth||1,n.beginPath(),n.strokeRect(t.x,t.y,e.x,e.y)},drawPath:function(t,e,n,r){n.strokeStyle=r.color,n.fillStyle=r.color,n.lineWidth=r.lineWidth,n.beginPath(),n.moveTo(t[0][e.x],t[0][e.y]);for(var o=1;o<t.length;o++)n.lineTo(t[o][e.x],t[o][e.y]);n.closePath(),n.stroke()},drawImage:function(t,e,n){var r=n.getImageData(0,0,e.x,e.y),o=r.data,i=o.length,a=t.length;if(i/a!=4)return!1;for(;a--;){var s=t[a];o[--i]=255,o[--i]=s,o[--i]=s,o[--i]=s}return n.putImageData(r,0,0),!0}}},function(t,e,n){var r=n(88),o=n(143)((function(t,e,n){r(t,e,n)}));t.exports=o},function(t,e,n){var r=n(226);function o(e,n,i){return"undefined"!=typeof Reflect&&Reflect.get?t.exports=o=Reflect.get:t.exports=o=function(t,e,n){var o=r(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}},o(e,n,i||e)}t.exports=o},function(t,e,n){var r=n(44),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();t.exports=i},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e){function n(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=n=function(t){return typeof t}:t.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(e)}t.exports=n},function(t,e){function n(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}t.exports=function(t){return function(){var e=this,r=arguments;return new Promise((function(o,i){var a=t.apply(e,r);function s(t){n(a,o,i,s,c,"next",t)}function c(t){n(a,o,i,s,c,"throw",t)}s(void 0)}))}}},function(t,e,n){e.a={searchDirections:[[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1],[-1,0],[-1,1]],create:function(t,e){var n,r=t.data,o=e.data,i=this.searchDirections,a=t.size.x;function s(t,e,s,c){var u,l,f;for(u=0;u<7;u++){if(l=t.cy+i[t.dir][0],f=t.cx+i[t.dir][1],r[n=l*a+f]===e&&(0===o[n]||o[n]===s))return o[n]=s,t.cy=l,t.cx=f,!0;0===o[n]&&(o[n]=c),t.dir=(t.dir+1)%8}return!1}function c(t,e,n){return{dir:n,x:t,y:e,next:null,prev:null}}return{trace:function(t,e,n,r){return s(t,e,n,r)},contourTracing:function(t,e,n,r,o){return function(t,e,n,r,o){var i,a,u,l=null,f={cx:e,cy:t,dir:0};if(s(f,r,n,o)){i=l=c(e,t,f.dir),u=f.dir,(a=c(f.cx,f.cy,0)).prev=i,i.next=a,a.next=null,i=a;do{f.dir=(f.dir+6)%8,s(f,r,n,o),u!==f.dir?(i.dir=f.dir,(a=c(f.cx,f.cy,0)).prev=i,i.next=a,a.next=null,i=a):(i.dir=u,i.x=f.cx,i.y=f.cy),u=f.dir}while(f.cx!==e||f.cy!==t);l.prev=i.prev,i.prev.next=l}return l}(t,e,n,r,o)}}}}},function(t,e,n){var r=n(27),o=n(101),i=n(102),a=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?o(t):i(t)}},function(t,e,n){(function(t){var r,o,i,a,s,c,u,l,f,d,h,p,v=n(7),g=n(34),m=n(10),y=n(9),_=n(8),b=(n(14),n(85)),w=n(21),x=n(86),$={ctx:{binary:null},dom:{binary:null}},k={x:0,y:0};function C(t){var e,n,o,i,a,s,c,u=f.size.x,l=f.size.y,d=-f.size.x,h=-f.size.y;for(e=0,n=0;n<t.length;n++)e+=(i=t[n]).rad;for((e=(180*(e/=t.length)/Math.PI+90)%180-90)<0&&(e+=180),e=(180-e)*Math.PI/180,a=g.copy(g.create(),[Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e)]),n=0;n<t.length;n++)for(i=t[n],o=0;o<4;o++)v.transformMat2(i.box[o],i.box[o],a);for(n=0;n<t.length;n++)for(i=t[n],o=0;o<4;o++)i.box[o][0]<u&&(u=i.box[o][0]),i.box[o][0]>d&&(d=i.box[o][0]),i.box[o][1]<l&&(l=i.box[o][1]),i.box[o][1]>h&&(h=i.box[o][1]);for(s=[[u,l],[d,l],[d,h],[u,h]],c=r.halfSample?2:1,a=g.invert(a,a),o=0;o<4;o++)v.transformMat2(s[o],s[o],a);for(o=0;o<4;o++)v.scale(s[o],s[o],c);return s}function O(t,e){f.subImageAsCopy(a,Object(y.h)(t,e)),p.skeletonize()}function E(t,e,n,r){var o,i,s,c,u=[],l=[],f=Math.ceil(d.x/3);if(t.length>=2){for(o=0;o<t.length;o++)t[o].m00>f&&u.push(t[o]);if(u.length>=2){for(s=function(t){var e=Object(y.b)(t,.9),n=Object(y.j)(e,1,(function(t){return t.getPoints().length})),r=[],o=[];if(1===n.length){r=n[0].item.getPoints();for(var i=0;i<r.length;i++)o.push(r[i].point)}return o}(u),i=0,o=0;o<s.length;o++)i+=s[o].rad;s.length>1&&s.length>=u.length/4*3&&s.length>t.length/4&&(i/=s.length,c={index:e[1]*k.x+e[0],pos:{x:n,y:r},box:[v.clone([n,r]),v.clone([n+a.size.x,r]),v.clone([n+a.size.x,r+a.size.y]),v.clone([n,r+a.size.y])],moments:s,rad:i,vec:v.clone([Math.cos(i),Math.sin(i)])},l.push(c))}}return l}e.a={init:function(e,n){r=n,h=e,function(){o=r.halfSample?new m.a({x:h.size.x/2|0,y:h.size.y/2|0}):h,d=Object(y.a)(r.patchSize,o.size),k.x=o.size.x/d.x|0,k.y=o.size.y/d.y|0,f=new m.a(o.size,void 0,Uint8Array,!1),s=new m.a(d,void 0,Array,!0);var e=new ArrayBuffer(65536);a=new m.a(d,new Uint8Array(e,0,d.x*d.y)),i=new m.a(d,new Uint8Array(e,d.x*d.y*3,d.x*d.y),void 0,!0),p=Object(x.a)("undefined"!=typeof window?window:"undefined"!=typeof self?self:t,{size:d.x},e),l=new m.a({x:o.size.x/a.size.x|0,y:o.size.y/a.size.y|0},void 0,Array,!0),c=new m.a(l.size,void 0,void 0,!0),u=new m.a(l.size,void 0,Int32Array,!0)}(),r.useWorker||"undefined"==typeof document||($.dom.binary=document.createElement("canvas"),$.dom.binary.className="binaryBuffer",$.ctx.binary=$.dom.binary.getContext("2d"),$.dom.binary.width=f.size.x,$.dom.binary.height=f.size.y)},locate:function(){r.halfSample&&Object(y.f)(h,o),Object(y.i)(o,f),f.zeroBorder();var t=function(){var t,e,n,r,o,c,u=[];for(t=0;t<k.x;t++)for(e=0;e<k.y;e++)O(n=a.size.x*t,r=a.size.y*e),i.zeroBorder(),_.a.init(s.data,0),c=b.a.create(i,s).rasterize(0),o=s.moments(c.count),u=u.concat(E(o,[t,e],n,r));return u}();if(t.length<k.x*k.y*.05)return null;var e=function(t){var e,n,r=0,o=0;function i(){var t;for(t=0;t<u.data.length;t++)if(0===u.data[t]&&1===c.data[t])return t;return u.length}function a(t){var e,n,o,i,s,f=t%u.size.x,d=t/u.size.x|0;if(t<u.data.length)for(o=l.data[t],u.data[t]=r,s=0;s<w.a.searchDirections.length;s++)n=d+w.a.searchDirections[s][0],e=f+w.a.searchDirections[s][1],i=n*u.size.x+e,0!==c.data[i]?0===u.data[i]&&Math.abs(v.dot(l.data[i].vec,o.vec))>.95&&a(i):u.data[i]=Number.MAX_VALUE}for(_.a.init(c.data,0),_.a.init(u.data,0),_.a.init(l.data,null),e=0;e<t.length;e++)n=t[e],l.data[n.index]=n,c.data[n.index]=1;for(c.zeroBorder();(o=i())<u.data.length;)r++,a(o);return r}(t);if(e<1)return null;var n=function(t){var e,n,r=[];for(e=0;e<t;e++)r.push(0);for(n=u.data.length;n--;)u.data[n]>0&&r[u.data[n]-1]++;return(r=r.map((function(t,e){return{val:t,label:e+1}}))).sort((function(t,e){return e.val-t.val})),r.filter((function(t){return t.val>=5}))}(e);return 0===n.length?null:function(t,e){var n,r,o,i,a=[],s=[];for(n=0;n<t.length;n++){for(r=u.data.length,a.length=0;r--;)u.data[r]===t[n].label&&(o=l.data[r],a.push(o));(i=C(a))&&s.push(i)}return s}(n)},checkImageConstraints:function(t,e){var n,r,o=t.getWidth(),i=t.getHeight(),a=e.halfSample?.5:1;t.getConfig().area&&(r=Object(y.d)(o,i,t.getConfig().area),t.setTopRight({x:r.sx,y:r.sy}),t.setCanvasSize({x:o,y:i}),o=r.sw,i=r.sh);var s={x:Math.floor(o*a),y:Math.floor(i*a)};if(n=Object(y.a)(e.patchSize,s),t.setWidth(Math.floor(Math.floor(s.x/n.x)*(1/a)*n.x)),t.setHeight(Math.floor(Math.floor(s.y/n.y)*(1/a)*n.y)),t.getWidth()%n.x==0&&t.getHeight()%n.y==0)return!0;throw new Error("Image dimensions do not comply with the current settings: Width (".concat(o," )and height (").concat(i,") must a multiple of ").concat(n.x))}}}).call(this,n(45))},function(t,e,n){var r=n(90),o=n(91),i=n(92),a=n(93),s=n(94);function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,t.exports=c},function(t,e,n){var r=n(26);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){var r=n(17).Symbol;t.exports=r},function(t,e,n){var r=n(35)(Object,"create");t.exports=r},function(t,e,n){var r=n(115);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e,n){var r=n(130),o=n(18),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(t){return o(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=c},function(t,e){var n=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&n.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e,n){var r=n(13),o=n(231),i=n(232),a=n(235);t.exports=function(t,e){return r(t)?t:o(t,e)?[t]:i(a(t))}},function(t,e,n){var r=n(223),o=n(224),i=n(59),a=n(225);t.exports=function(t){return r(t)||o(t)||i(t)||a()}},function(t,e,n){t.exports={determinant:n(247),transpose:n(248),multiply:n(249),identity:n(250),adjoint:n(251),rotate:n(252),invert:n(253),create:n(254),scale:n(255),copy:n(256),frob:n(257),ldu:n(258)}},function(t,e,n){var r=n(100),o=n(106);t.exports=function(t,e){var n=o(t,e);return r(n)?n:void 0}},function(t,e,n){var r=n(22),o=n(12);t.exports=function(t){if(!o(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(t,e,n){var r=n(48);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){var r=n(36),o=n(40);t.exports=function(t){return null!=t&&o(t.length)&&!r(t)}},function(t,e){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},function(t,e,n){var r=n(22),o=n(18);t.exports=function(t){return"symbol"==typeof t||o(t)&&"[object Symbol]"==r(t)}},function(t,e,n){var r=n(41);t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},function(t,e,n){var r=n(35)(n(17),"Map");t.exports=r},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(45))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(107),o=n(114),i=n(116),a=n(117),s=n(118);function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,t.exports=c},function(t,e,n){var r=n(37),o=n(26);t.exports=function(t,e,n){(void 0!==n&&!o(t[e],n)||void 0===n&&!(e in t))&&r(t,e,n)}},function(t,e,n){var r=n(35),o=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=o},function(t,e,n){var r=n(129)(Object.getPrototypeOf,Object);t.exports=r},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e,n){(function(t){var r=n(17),o=n(132),i=e&&!e.nodeType&&e,a=i&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===i?r.Buffer:void 0,c=(s?s.isBuffer:void 0)||o;t.exports=c}).call(this,n(38)(t))},function(t,e,n){var r=n(134),o=n(135),i=n(136),a=i&&i.isTypedArray,s=a?o(a):r;t.exports=s},function(t,e){t.exports=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}},function(t,e,n){var r=n(37),o=n(26),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];i.call(t,e)&&o(a,n)&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e,n){var r=n(139),o=n(141),i=n(39);t.exports=function(t){return i(t)?r(t,!0):o(t)}},function(t,e){t.exports=function(t){return t}},function(t,e,n){var r=n(145),o=Math.max;t.exports=function(t,e,n){return e=o(void 0===e?t.length-1:e,0),function(){for(var i=arguments,a=-1,s=o(i.length-e,0),c=Array(s);++a<s;)c[a]=i[e+a];a=-1;for(var u=Array(e+1);++a<e;)u[a]=i[a];return u[e]=n(c),r(t,this,u)}}},function(t,e,n){var r=n(146),o=n(148)(r);t.exports=o},function(t,e,n){var r=n(60);t.exports=function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}},function(t,e){t.exports=1e-6},function(t,e){t.exports=function(){var t=new Float32Array(2);return t[0]=0,t[1]=0,t}},function(t,e){t.exports=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}},function(t,e){t.exports=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}},function(t,e){t.exports=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}},function(t,e){t.exports=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)}},function(t,e){t.exports=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}},function(t,e){t.exports=function(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)}},function(t,e){t.exports=function(t){var e=t[0],n=t[1];return e*e+n*n}},function(t,e){t.exports=1e-6},function(t,e){t.exports=function(){var t=new Float32Array(3);return t[0]=0,t[1]=0,t[2]=0,t}},function(t,e){t.exports=function(t,e,n){var r=new Float32Array(3);return r[0]=t,r[1]=e,r[2]=n,r}},function(t,e){t.exports=function(t,e){var n=e[0],r=e[1],o=e[2],i=n*n+r*r+o*o;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i),t}},function(t,e){t.exports=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}},function(t,e){t.exports=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}},function(t,e){t.exports=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}},function(t,e){t.exports=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}},function(t,e){t.exports=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2];return Math.sqrt(n*n+r*r+o*o)}},function(t,e){t.exports=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2];return n*n+r*r+o*o}},function(t,e){t.exports=function(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)}},function(t,e){t.exports=function(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}},function(t,e,n){var r=n(151),o=n(152),i=n(59),a=n(153);t.exports=function(t,e){return r(t)||o(t,e)||i(t,e)||a()}},function(t,e,n){t.exports={EPSILON:n(70),create:n(71),clone:n(189),angle:n(190),fromValues:n(72),copy:n(191),set:n(192),equals:n(193),exactEquals:n(194),add:n(195),subtract:n(75),sub:n(196),multiply:n(76),mul:n(197),divide:n(77),div:n(198),min:n(199),max:n(200),floor:n(201),ceil:n(202),round:n(203),scale:n(204),scaleAndAdd:n(205),distance:n(78),dist:n(206),squaredDistance:n(79),sqrDist:n(207),length:n(80),len:n(208),squaredLength:n(81),sqrLen:n(209),negate:n(210),inverse:n(211),normalize:n(73),dot:n(74),cross:n(212),lerp:n(213),random:n(214),transformMat4:n(215),transformMat3:n(216),transformQuat:n(217),rotateX:n(218),rotateY:n(219),rotateZ:n(220),forEach:n(221)}},function(t,e,n){var r=n(228),o=n(242)((function(t,e){return null==t?{}:r(t,e)}));t.exports=o},function(t,e,n){var r=n(21),o={createContour2D:function(){return{dir:null,index:null,firstVertex:null,insideContours:null,nextpeer:null,prevpeer:null}},CONTOUR_DIR:{CW_DIR:0,CCW_DIR:1,UNKNOWN_DIR:2},DIR:{OUTSIDE_EDGE:-32767,INSIDE_EDGE:-32766},create:function(t,e){var n=t.data,i=e.data,a=t.size.x,s=t.size.y,c=r.a.create(t,e);return{rasterize:function(t){var e,r,u,l,f,d,h,p,v,g,m,y,_=[],b=0;for(y=0;y<400;y++)_[y]=0;for(_[0]=n[0],v=null,d=1;d<s-1;d++)for(l=0,r=_[0],f=1;f<a-1;f++)if(0===i[m=d*a+f])if((e=n[m])!==r){if(0===l)_[u=b+1]=e,r=e,null!==(h=c.contourTracing(d,f,u,e,o.DIR.OUTSIDE_EDGE))&&(b++,l=u,(p=o.createContour2D()).dir=o.CONTOUR_DIR.CW_DIR,p.index=l,p.firstVertex=h,p.nextpeer=v,p.insideContours=null,null!==v&&(v.prevpeer=p),v=p);else if(null!==(h=c.contourTracing(d,f,o.DIR.INSIDE_EDGE,e,l))){for((p=o.createContour2D()).firstVertex=h,p.insideContours=null,p.dir=0===t?o.CONTOUR_DIR.CCW_DIR:o.CONTOUR_DIR.CW_DIR,p.index=t,g=v;null!==g&&g.index!==l;)g=g.nextpeer;null!==g&&(p.nextpeer=g.insideContours,null!==g.insideContours&&(g.insideContours.prevpeer=p),g.insideContours=p)}}else i[m]=l;else i[m]===o.DIR.OUTSIDE_EDGE||i[m]===o.DIR.INSIDE_EDGE?(l=0,r=i[m]===o.DIR.INSIDE_EDGE?n[m]:_[0]):r=_[l=i[m]];for(g=v;null!==g;)g.index=t,g=g.nextpeer;return{cc:v,count:b}},debug:{drawContour:function(t,e){var n,r,i,a=t.getContext("2d"),s=e;for(a.strokeStyle="red",a.fillStyle="red",a.lineWidth=1,n=null!==s?s.insideContours:null;null!==s;){switch(null!==n?(r=n,n=n.nextpeer):(r=s,n=null!==(s=s.nextpeer)?s.insideContours:null),r.dir){case o.CONTOUR_DIR.CW_DIR:a.strokeStyle="red";break;case o.CONTOUR_DIR.CCW_DIR:a.strokeStyle="blue";break;case o.CONTOUR_DIR.UNKNOWN_DIR:a.strokeStyle="green"}i=r.firstVertex,a.beginPath(),a.moveTo(i.x,i.y);do{i=i.next,a.lineTo(i.x,i.y)}while(i!==r.firstVertex);a.stroke()}}}}}};e.a=o},function(t,e,n){/* @preserve ASM BEGIN */
/* @preserve ASM END */e.a=function(t,e,n){"use asm";var r=new t.Uint8Array(n),o=e.size|0,i=t.Math.imul;function a(t,e){t|=0;e|=0;var n=0;var i=0;var a=0;var s=0;var c=0;var u=0;var l=0;var f=0;for(n=1;(n|0)<(o-1|0);n=n+1|0){f=f+o|0;for(i=1;(i|0)<(o-1|0);i=i+1|0){s=f-o|0;c=f+o|0;u=i-1|0;l=i+1|0;a=(r[t+s+u|0]|0)+(r[t+s+l|0]|0)+(r[t+f+i|0]|0)+(r[t+c+u|0]|0)+(r[t+c+l|0]|0)|0;if((a|0)==(5|0)){r[e+f+i|0]=1}else{r[e+f+i|0]=0}}}}function s(t,e,n){t|=0;e|=0;n|=0;var a=0;a=i(o,o)|0;while((a|0)>0){a=a-1|0;r[n+a|0]=(r[t+a|0]|0)-(r[e+a|0]|0)|0}}function c(t,e,n){t|=0;e|=0;n|=0;var a=0;a=i(o,o)|0;while((a|0)>0){a=a-1|0;r[n+a|0]=r[t+a|0]|0|(r[e+a|0]|0)|0}}function u(t){t|=0;var e=0;var n=0;n=i(o,o)|0;while((n|0)>0){n=n-1|0;e=(e|0)+(r[t+n|0]|0)|0}return e|0}function l(t,e){t|=0;e|=0;var n=0;n=i(o,o)|0;while((n|0)>0){n=n-1|0;r[t+n|0]=e}}function f(t,e){t|=0;e|=0;var n=0;var i=0;var a=0;var s=0;var c=0;var u=0;var l=0;var f=0;for(n=1;(n|0)<(o-1|0);n=n+1|0){f=f+o|0;for(i=1;(i|0)<(o-1|0);i=i+1|0){s=f-o|0;c=f+o|0;u=i-1|0;l=i+1|0;a=(r[t+s+u|0]|0)+(r[t+s+l|0]|0)+(r[t+f+i|0]|0)+(r[t+c+u|0]|0)+(r[t+c+l|0]|0)|0;if((a|0)>(0|0)){r[e+f+i|0]=1}else{r[e+f+i|0]=0}}}}function d(t,e){t|=0;e|=0;var n=0;n=i(o,o)|0;while((n|0)>0){n=n-1|0;r[e+n|0]=r[t+n|0]|0}}function h(t){t|=0;var e=0;var n=0;for(e=0;(e|0)<(o-1|0);e=e+1|0){r[t+e|0]=0;r[t+n|0]=0;n=n+o-1|0;r[t+n|0]=0;n=n+1|0}for(e=0;(e|0)<(o|0);e=e+1|0){r[t+n|0]=0;n=n+1|0}}function p(){var t=0;var e=0;var n=0;var r=0;var p=0;var v=0;e=i(o,o)|0;n=e+e|0;r=n+e|0;l(r,0);h(t);do{a(t,e);f(e,n);s(t,n,n);c(r,n,r);d(e,t);p=u(t)|0;v=(p|0)==0|0}while(!v)}return{skeletonize:p}}},function(t,e,n){t.exports=n(259)},function(t,e,n){var r=n(89),o=n(47),i=n(119),a=n(121),s=n(12),c=n(55),u=n(53);t.exports=function t(e,n,l,f,d){e!==n&&i(n,(function(i,c){if(d||(d=new r),s(i))a(e,n,c,l,t,f,d);else{var h=f?f(u(e,c),i,c+"",e,n,d):void 0;void 0===h&&(h=i),o(e,c,h)}}),c)}},function(t,e,n){var r=n(24),o=n(95),i=n(96),a=n(97),s=n(98),c=n(99);function u(t){var e=this.__data__=new r(t);this.size=e.size}u.prototype.clear=o,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=s,u.prototype.set=c,t.exports=u},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var r=n(25),o=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0||(n==e.length-1?e.pop():o.call(e,n,1),--this.size,0))}},function(t,e,n){var r=n(25);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var r=n(25);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,e,n){var r=n(25);t.exports=function(t,e){var n=this.__data__,o=r(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this}},function(t,e,n){var r=n(24);t.exports=function(){this.__data__=new r,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var r=n(24),o=n(43),i=n(46);t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!o||a.length<199)return a.push([t,e]),this.size=++n.size,this;n=this.__data__=new i(a)}return n.set(t,e),this.size=n.size,this}},function(t,e,n){var r=n(36),o=n(103),i=n(12),a=n(105),s=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,l=c.toString,f=u.hasOwnProperty,d=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!i(t)||o(t))&&(r(t)?d:s).test(a(t))}},function(t,e,n){var r=n(27),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=i.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(t){}var o=a.call(t);return r&&(e?t[s]=n:delete t[s]),o}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){var r,o=n(104),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!i&&i in t}},function(t,e,n){var r=n(17)["__core-js_shared__"];t.exports=r},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,n){var r=n(108),o=n(24),i=n(43);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},function(t,e,n){var r=n(109),o=n(110),i=n(111),a=n(112),s=n(113);function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,t.exports=c},function(t,e,n){var r=n(28);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var r=n(28),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(e,t)?e[t]:void 0}},function(t,e,n){var r=n(28),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:o.call(e,t)}},function(t,e,n){var r=n(28);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},function(t,e,n){var r=n(29);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var r=n(29);t.exports=function(t){return r(this,t).get(t)}},function(t,e,n){var r=n(29);t.exports=function(t){return r(this,t).has(t)}},function(t,e,n){var r=n(29);t.exports=function(t,e){var n=r(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this}},function(t,e,n){var r=n(120)();t.exports=r},function(t,e){t.exports=function(t){return function(e,n,r){for(var o=-1,i=Object(e),a=r(e),s=a.length;s--;){var c=a[t?s:++o];if(!1===n(i[c],c,i))break}return e}}},function(t,e,n){var r=n(47),o=n(122),i=n(123),a=n(126),s=n(127),c=n(30),u=n(13),l=n(131),f=n(51),d=n(36),h=n(12),p=n(133),v=n(52),g=n(53),m=n(137);t.exports=function(t,e,n,y,_,b,w){var x=g(t,n),$=g(e,n),k=w.get($);if(k)r(t,n,k);else{var C=b?b(x,$,n+"",t,e,w):void 0,O=void 0===C;if(O){var E=u($),S=!E&&f($),A=!E&&!S&&v($);C=$,E||S||A?u(x)?C=x:l(x)?C=a(x):S?(O=!1,C=o($,!0)):A?(O=!1,C=i($,!0)):C=[]:p($)||c($)?(C=x,c(x)?C=m(x):h(x)&&!d(x)||(C=s($))):O=!1}O&&(w.set($,C),_(C,$,y,b,w),w.delete($)),r(t,n,C)}}},function(t,e,n){(function(t){var r=n(17),o=e&&!e.nodeType&&e,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=i&&i.exports===o?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=s?s(n):new t.constructor(n);return t.copy(r),r}}).call(this,n(38)(t))},function(t,e,n){var r=n(124);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},function(t,e,n){var r=n(125);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},function(t,e,n){var r=n(17).Uint8Array;t.exports=r},function(t,e){t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},function(t,e,n){var r=n(128),o=n(49),i=n(50);t.exports=function(t){return"function"!=typeof t.constructor||i(t)?{}:r(o(t))}},function(t,e,n){var r=n(12),o=Object.create,i=function(){function t(){}return function(e){if(!r(e))return{};if(o)return o(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=i},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e,n){var r=n(22),o=n(18);t.exports=function(t){return o(t)&&"[object Arguments]"==r(t)}},function(t,e,n){var r=n(39),o=n(18);t.exports=function(t){return o(t)&&r(t)}},function(t,e){t.exports=function(){return!1}},function(t,e,n){var r=n(22),o=n(49),i=n(18),a=Function.prototype,s=Object.prototype,c=a.toString,u=s.hasOwnProperty,l=c.call(Object);t.exports=function(t){if(!i(t)||"[object Object]"!=r(t))return!1;var e=o(t);if(null===e)return!0;var n=u.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==l}},function(t,e,n){var r=n(22),o=n(40),i=n(18),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return i(t)&&o(t.length)&&!!a[r(t)]}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,n){(function(t){var r=n(44),o=e&&!e.nodeType&&e,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=i&&i.exports===o&&r.process,s=function(){try{return i&&i.require&&i.require("util").types||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=s}).call(this,n(38)(t))},function(t,e,n){var r=n(138),o=n(55);t.exports=function(t){return r(t,o(t))}},function(t,e,n){var r=n(54),o=n(37);t.exports=function(t,e,n,i){var a=!n;n||(n={});for(var s=-1,c=e.length;++s<c;){var u=e[s],l=i?i(n[u],t[u],u,n,t):void 0;void 0===l&&(l=t[u]),a?o(n,u,l):r(n,u,l)}return n}},function(t,e,n){var r=n(140),o=n(30),i=n(13),a=n(51),s=n(31),c=n(52),u=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=i(t),l=!n&&o(t),f=!n&&!l&&a(t),d=!n&&!l&&!f&&c(t),h=n||l||f||d,p=h?r(t.length,String):[],v=p.length;for(var g in t)!e&&!u.call(t,g)||h&&("length"==g||f&&("offset"==g||"parent"==g)||d&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,v))||p.push(g);return p}},function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},function(t,e,n){var r=n(12),o=n(50),i=n(142),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=o(t),n=[];for(var s in t)("constructor"!=s||!e&&a.call(t,s))&&n.push(s);return n}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},function(t,e,n){var r=n(144),o=n(149);t.exports=function(t){return r((function(e,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(i--,a):void 0,s&&o(n[0],n[1],s)&&(a=i<3?void 0:a,i=1),e=Object(e);++r<i;){var c=n[r];c&&t(e,c,r,a)}return e}))}},function(t,e,n){var r=n(56),o=n(57),i=n(58);t.exports=function(t,e){return i(o(t,e,r),t+"")}},function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},function(t,e,n){var r=n(147),o=n(48),i=n(56),a=o?function(t,e){return o(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:i;t.exports=a},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e){var n=Date.now;t.exports=function(t){var e=0,r=0;return function(){var o=n(),i=16-(o-r);if(r=o,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e,n){var r=n(26),o=n(39),i=n(31),a=n(12);t.exports=function(t,e,n){if(!a(n))return!1;var s=typeof e;return!!("number"==s?o(n)&&i(e,n.length):"string"==s&&e in n)&&r(n[e],t)}},function(t,e){"undefined"!=typeof window&&(window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)})),"function"!=typeof Math.imul&&(Math.imul=function(t,e){var n=65535&t,r=65535&e;return n*r+((t>>>16&65535)*r+n*(e>>>16&65535)<<16>>>0)|0}),"function"!=typeof Object.assign&&(Object.assign=function(t){if(null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(null!==r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e})},function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,e){t.exports=function(t){var e=new Float32Array(2);return e[0]=t[0],e[1]=t[1],e}},function(t,e){t.exports=function(t,e){var n=new Float32Array(2);return n[0]=t,n[1]=e,n}},function(t,e){t.exports=function(t,e){return t[0]=e[0],t[1]=e[1],t}},function(t,e){t.exports=function(t,e,n){return t[0]=e,t[1]=n,t}},function(t,e,n){t.exports=function(t,e){var n=t[0],o=t[1],i=e[0],a=e[1];return Math.abs(n-i)<=r*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(o-a)<=r*Math.max(1,Math.abs(o),Math.abs(a))};var r=n(61)},function(t,e){t.exports=function(t,e){return t[0]===e[0]&&t[1]===e[1]}},function(t,e){t.exports=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}},function(t,e,n){t.exports=n(63)},function(t,e,n){t.exports=n(64)},function(t,e,n){t.exports=n(65)},function(t,e){t.exports=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}},function(t,e){t.exports=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}},function(t,e){t.exports=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}},function(t,e){t.exports=function(t,e,n){var r=Math.cos(n),o=Math.sin(n),i=e[0],a=e[1];return t[0]=i*r-a*o,t[1]=i*o+a*r,t}},function(t,e){t.exports=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}},function(t,e){t.exports=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}},function(t,e){t.exports=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}},function(t,e){t.exports=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}},function(t,e){t.exports=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t}},function(t,e,n){t.exports=n(66)},function(t,e,n){t.exports=n(67)},function(t,e,n){t.exports=n(68)},function(t,e,n){t.exports=n(69)},function(t,e){t.exports=function(t,e){return t[0]=-e[0],t[1]=-e[1],t}},function(t,e){t.exports=function(t,e){var n=e[0],r=e[1],o=n*n+r*r;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o),t}},function(t,e){t.exports=function(t,e){return t[0]*e[0]+t[1]*e[1]}},function(t,e){t.exports=function(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t}},function(t,e){t.exports=function(t,e,n,r){var o=e[0],i=e[1];return t[0]=o+r*(n[0]-o),t[1]=i+r*(n[1]-i),t}},function(t,e){t.exports=function(t,e){e=e||1;var n=2*Math.random()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t}},function(t,e){t.exports=function(t,e,n){var r=e[0],o=e[1];return t[0]=n[0]*r+n[2]*o,t[1]=n[1]*r+n[3]*o,t}},function(t,e){t.exports=function(t,e,n){var r=e[0],o=e[1];return t[0]=n[0]*r+n[2]*o+n[4],t[1]=n[1]*r+n[3]*o+n[5],t}},function(t,e){t.exports=function(t,e,n){var r=e[0],o=e[1];return t[0]=n[0]*r+n[3]*o+n[6],t[1]=n[1]*r+n[4]*o+n[7],t}},function(t,e){t.exports=function(t,e,n){var r=e[0],o=e[1];return t[0]=n[0]*r+n[4]*o+n[12],t[1]=n[1]*r+n[5]*o+n[13],t}},function(t,e,n){t.exports=function(t,e,n,o,i,a){var s,c;for(e||(e=2),n||(n=0),c=o?Math.min(o*e+n,t.length):t.length,s=n;s<c;s+=e)r[0]=t[s],r[1]=t[s+1],i(r,r,a),t[s]=r[0],t[s+1]=r[1];return t};var r=n(62)()},function(t,e){t.exports=function(t,e,n){var r=e[0]*e[0]+e[1]*e[1];if(r>n*n){var o=Math.sqrt(r);t[0]=e[0]/o*n,t[1]=e[1]/o*n}else t[0]=e[0],t[1]=e[1];return t}},function(t,e){t.exports=function(t){var e=new Float32Array(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}},function(t,e,n){t.exports=function(t,e){var n=r(t[0],t[1],t[2]),a=r(e[0],e[1],e[2]);o(n,n),o(a,a);var s=i(n,a);return s>1?0:Math.acos(s)};var r=n(72),o=n(73),i=n(74)},function(t,e){t.exports=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}},function(t,e){t.exports=function(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}},function(t,e,n){t.exports=function(t,e){var n=t[0],o=t[1],i=t[2],a=e[0],s=e[1],c=e[2];return Math.abs(n-a)<=r*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(o-s)<=r*Math.max(1,Math.abs(o),Math.abs(s))&&Math.abs(i-c)<=r*Math.max(1,Math.abs(i),Math.abs(c))};var r=n(70)},function(t,e){t.exports=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}},function(t,e){t.exports=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}},function(t,e,n){t.exports=n(75)},function(t,e,n){t.exports=n(76)},function(t,e,n){t.exports=n(77)},function(t,e){t.exports=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t}},function(t,e){t.exports=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t}},function(t,e){t.exports=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}},function(t,e){t.exports=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}},function(t,e){t.exports=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}},function(t,e){t.exports=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}},function(t,e){t.exports=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t}},function(t,e,n){t.exports=n(78)},function(t,e,n){t.exports=n(79)},function(t,e,n){t.exports=n(80)},function(t,e,n){t.exports=n(81)},function(t,e){t.exports=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}},function(t,e){t.exports=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}},function(t,e){t.exports=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=n[0],s=n[1],c=n[2];return t[0]=o*c-i*s,t[1]=i*a-r*c,t[2]=r*s-o*a,t}},function(t,e){t.exports=function(t,e,n,r){var o=e[0],i=e[1],a=e[2];return t[0]=o+r*(n[0]-o),t[1]=i+r*(n[1]-i),t[2]=a+r*(n[2]-a),t}},function(t,e){t.exports=function(t,e){e=e||1;var n=2*Math.random()*Math.PI,r=2*Math.random()-1,o=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*o,t[1]=Math.sin(n)*o,t[2]=r*e,t}},function(t,e){t.exports=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=n[3]*r+n[7]*o+n[11]*i+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*o+n[8]*i+n[12])/a,t[1]=(n[1]*r+n[5]*o+n[9]*i+n[13])/a,t[2]=(n[2]*r+n[6]*o+n[10]*i+n[14])/a,t}},function(t,e){t.exports=function(t,e,n){var r=e[0],o=e[1],i=e[2];return t[0]=r*n[0]+o*n[3]+i*n[6],t[1]=r*n[1]+o*n[4]+i*n[7],t[2]=r*n[2]+o*n[5]+i*n[8],t}},function(t,e){t.exports=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=n[0],s=n[1],c=n[2],u=n[3],l=u*r+s*i-c*o,f=u*o+c*r-a*i,d=u*i+a*o-s*r,h=-a*r-s*o-c*i;return t[0]=l*u+h*-a+f*-c-d*-s,t[1]=f*u+h*-s+d*-a-l*-c,t[2]=d*u+h*-c+l*-s-f*-a,t}},function(t,e){t.exports=function(t,e,n,r){var o=n[1],i=n[2],a=e[1]-o,s=e[2]-i,c=Math.sin(r),u=Math.cos(r);return t[0]=e[0],t[1]=o+a*u-s*c,t[2]=i+a*c+s*u,t}},function(t,e){t.exports=function(t,e,n,r){var o=n[0],i=n[2],a=e[0]-o,s=e[2]-i,c=Math.sin(r),u=Math.cos(r);return t[0]=o+s*c+a*u,t[1]=e[1],t[2]=i+s*u-a*c,t}},function(t,e){t.exports=function(t,e,n,r){var o=n[0],i=n[1],a=e[0]-o,s=e[1]-i,c=Math.sin(r),u=Math.cos(r);return t[0]=o+a*u-s*c,t[1]=i+a*c+s*u,t[2]=e[2],t}},function(t,e,n){t.exports=function(t,e,n,o,i,a){var s,c;for(e||(e=3),n||(n=0),c=o?Math.min(o*e+n,t.length):t.length,s=n;s<c;s+=e)r[0]=t[s],r[1]=t[s+1],r[2]=t[s+2],i(r,r,a),t[s]=r[0],t[s+1]=r[1],t[s+2]=r[2];return t};var r=n(71)()},function(t,e){function n(e,r){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(e,r)}t.exports=n},function(t,e,n){var r=n(60);t.exports=function(t){if(Array.isArray(t))return r(t)}},function(t,e){t.exports=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,e,n){var r=n(2);t.exports=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r(t)););return t}},function(t,e,n){var r=function(t){var e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n,r){var o=e&&e.prototype instanceof l?e:l,i=Object.create(o.prototype),a=new x(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return k()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=_(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=c(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(t,n,a),i}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var u={};function l(){}function f(){}function d(){}var h={};h[o]=function(){return this};var p=Object.getPrototypeOf,v=p&&p(p($([])));v&&v!==e&&n.call(v,o)&&(h=v);var g=d.prototype=l.prototype=Object.create(h);function m(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function y(t,e){var r;this._invoke=function(o,i){function a(){return new e((function(r,a){!function r(o,i,a,s){var u=c(t[o],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}(o,i,r,a)}))}return r=r?r.then(a,a):a()}}function _(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=c(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,u;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function $(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:k}}function k(){return{value:void 0,done:!0}}return f.prototype=g.constructor=d,d.constructor=f,d[a]=f.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,a in t||(t[a]="GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},m(y.prototype),y.prototype[i]=function(){return this},t.AsyncIterator=y,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new y(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},m(g),g[a]="Generator",g[o]=function(){return this},g.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=$,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;w(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:$(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},t}(t.exports);try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}},function(t,e,n){var r=n(229),o=n(239);t.exports=function(t,e){return r(t,e,(function(e,n){return o(t,n)}))}},function(t,e,n){var r=n(230),o=n(238),i=n(32);t.exports=function(t,e,n){for(var a=-1,s=e.length,c={};++a<s;){var u=e[a],l=r(t,u);n(l,u)&&o(c,i(u,t),l)}return c}},function(t,e,n){var r=n(32),o=n(42);t.exports=function(t,e){for(var n=0,i=(e=r(e,t)).length;null!=t&&n<i;)t=t[o(e[n++])];return n&&n==i?t:void 0}},function(t,e,n){var r=n(13),o=n(41),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!o(t))||a.test(t)||!i.test(t)||null!=e&&t in Object(e)}},function(t,e,n){var r=n(233),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=r((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(o,(function(t,n,r,o){e.push(r?o.replace(i,"$1"):n||t)})),e}));t.exports=a},function(t,e,n){var r=n(234);t.exports=function(t){var e=r(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}},function(t,e,n){var r=n(46);function o(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(o.Cache||r),n}o.Cache=r,t.exports=o},function(t,e,n){var r=n(236);t.exports=function(t){return null==t?"":r(t)}},function(t,e,n){var r=n(27),o=n(237),i=n(13),a=n(41),s=r?r.prototype:void 0,c=s?s.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(i(e))return o(e,t)+"";if(a(e))return c?c.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}},function(t,e,n){var r=n(54),o=n(32),i=n(31),a=n(12),s=n(42);t.exports=function(t,e,n,c){if(!a(t))return t;for(var u=-1,l=(e=o(e,t)).length,f=l-1,d=t;null!=d&&++u<l;){var h=s(e[u]),p=n;if("__proto__"===h||"constructor"===h||"prototype"===h)return t;if(u!=f){var v=d[h];void 0===(p=c?c(v,h,d):void 0)&&(p=a(v)?v:i(e[u+1])?[]:{})}r(d,h,p),d=d[h]}return t}},function(t,e,n){var r=n(240),o=n(241);t.exports=function(t,e){return null!=t&&o(t,e,r)}},function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},function(t,e,n){var r=n(32),o=n(30),i=n(13),a=n(31),s=n(40),c=n(42);t.exports=function(t,e,n){for(var u=-1,l=(e=r(e,t)).length,f=!1;++u<l;){var d=c(e[u]);if(!(f=null!=t&&n(t,d)))break;t=t[d]}return f||++u!=l?f:!!(l=null==t?0:t.length)&&s(l)&&a(d,l)&&(i(t)||o(t))}},function(t,e,n){var r=n(243),o=n(57),i=n(58);t.exports=function(t){return i(o(t,void 0,r),t+"")}},function(t,e,n){var r=n(244);t.exports=function(t){return null!=t&&t.length?r(t,1):[]}},function(t,e,n){var r=n(245),o=n(246);t.exports=function t(e,n,i,a,s){var c=-1,u=e.length;for(i||(i=o),s||(s=[]);++c<u;){var l=e[c];n>0&&i(l)?n>1?t(l,n-1,i,a,s):r(s,l):a||(s[s.length]=l)}return s}},function(t,e){t.exports=function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}},function(t,e,n){var r=n(27),o=n(30),i=n(13),a=r?r.isConcatSpreadable:void 0;t.exports=function(t){return i(t)||o(t)||!!(a&&t&&t[a])}},function(t,e){t.exports=function(t){return t[0]*t[3]-t[2]*t[1]}},function(t,e){t.exports=function(t,e){if(t===e){var n=e[1];t[1]=e[2],t[2]=n}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t}},function(t,e){t.exports=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=n[0],c=n[1],u=n[2],l=n[3];return t[0]=r*s+i*c,t[1]=o*s+a*c,t[2]=r*u+i*l,t[3]=o*u+a*l,t}},function(t,e){t.exports=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}},function(t,e){t.exports=function(t,e){var n=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=n,t}},function(t,e){t.exports=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=Math.sin(n),c=Math.cos(n);return t[0]=r*c+i*s,t[1]=o*c+a*s,t[2]=r*-s+i*c,t[3]=o*-s+a*c,t}},function(t,e){t.exports=function(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=n*i-o*r;return a?(a=1/a,t[0]=i*a,t[1]=-r*a,t[2]=-o*a,t[3]=n*a,t):null}},function(t,e){t.exports=function(){var t=new Float32Array(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}},function(t,e){t.exports=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=n[0],c=n[1];return t[0]=r*s,t[1]=o*s,t[2]=i*c,t[3]=a*c,t}},function(t,e){t.exports=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}},function(t,e){t.exports=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))}},function(t,e){t.exports=function(t,e,n,r){return t[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-t[2]*n[1],[t,e,n]}},function(t,e,n){n.r(e),n.d(e,"BarcodeDecoder",(function(){return Rt})),n.d(e,"BarcodeReader",(function(){return S})),n.d(e,"CameraAccess",(function(){return Jt})),n.d(e,"ImageDebug",(function(){return d.a})),n.d(e,"ImageWrapper",(function(){return s.a})),n.d(e,"ResultCollector",(function(){return Xt}));var r=n(19),o=n.n(r),i=n(15),a=n.n(i),s=(n(150),n(10)),c={},u={UP:1,DOWN:-1};c.getBarcodeLine=function(t,e,n){var r,o,i,a,s,c=0|e.x,u=0|e.y,l=0|n.x,f=0|n.y,d=Math.abs(f-u)>Math.abs(l-c),h=[],p=t.data,v=t.size.x,g=255,m=0;function y(t,e){s=p[e*v+t],g=s<g?s:g,m=s>m?s:m,h.push(s)}d&&(i=c,c=u,u=i,i=l,l=f,f=i),c>l&&(i=c,c=l,l=i,i=u,u=f,f=i);var _=l-c,b=Math.abs(f-u);r=_/2|0,o=u;var w=u<f?1:-1;for(a=c;a<l;a++)d?y(o,a):y(a,o),(r-=b)<0&&(o+=w,r+=_);return{line:h,min:g,max:m}},c.toBinaryLine=function(t){var e,n,r,o,i,a,s=t.min,c=t.max,l=t.line,f=s+(c-s)/2,d=[],h=(c-s)/12,p=-h;for(r=l[0]>f?u.UP:u.DOWN,d.push({pos:0,val:l[0]}),i=0;i<l.length-2;i++)r!==(o=(e=l[i+1]-l[i])+(n=l[i+2]-l[i+1])<p&&l[i+1]<1.5*f?u.DOWN:e+n>h&&l[i+1]>.5*f?u.UP:r)&&(d.push({pos:i,val:l[i]}),r=o);for(d.push({pos:l.length,val:l[l.length-1]}),a=d[0].pos;a<d[1].pos;a++)l[a]=l[a]>f?0:1;for(i=1;i<d.length-1;i++)for(h=d[i+1].val>d[i].val?d[i].val+(d[i+1].val-d[i].val)/3*2|0:d[i+1].val+(d[i].val-d[i+1].val)/3|0,a=d[i].pos;a<d[i+1].pos;a++)l[a]=l[a]>h?0:1;return{line:l,threshold:h}},c.debug={printFrequency:function(t,e){var n,r=e.getContext("2d");for(e.width=t.length,e.height=256,r.beginPath(),r.strokeStyle="blue",n=0;n<t.length;n++)r.moveTo(n,255),r.lineTo(n,255-t[n]);r.stroke(),r.closePath()},printPattern:function(t,e){var n,r=e.getContext("2d");for(e.width=t.length,r.fillColor="black",n=0;n<t.length;n++)1===t[n]&&r.fillRect(n,0,1,100)}};var l,f=c,d=n(14),h=n(3),p=n.n(h),v=n(4),g=n.n(v),m=n(1),y=n.n(m),_=n(6),b=n.n(_),w=n(5),x=n.n(w),$=n(2),k=n.n($),C=n(0),O=n.n(C),E=n(8);!function(t){t[t.Forward=1]="Forward",t[t.Reverse=-1]="Reverse"}(l||(l={}));var S=function(){function t(e,n){return p()(this,t),O()(this,"_row",[]),O()(this,"config",{}),O()(this,"supplements",[]),O()(this,"SINGLE_CODE_ERROR",0),O()(this,"FORMAT","unknown"),O()(this,"CONFIG_KEYS",{}),this._row=[],this.config=e||{},n&&(this.supplements=n),this}return g()(t,[{key:"_nextUnset",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e<t.length;e++)if(!t[e])return e;return t.length}},{key:"_matchPattern",value:function(t,e,n){var r,o=0,i=0,a=0,s=0,c=0,u=0;n=n||this.SINGLE_CODE_ERROR||1;for(var l=0;l<t.length;l++)a+=t[l],s+=e[l];if(a<s)return Number.MAX_VALUE;n*=r=a/s;for(var f=0;f<t.length;f++){if(c=t[f],u=e[f]*r,(i=Math.abs(c-u)/u)>n)return Number.MAX_VALUE;o+=i}return o/s}},{key:"_nextSet",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e<t.length;e++)if(t[e])return e;return t.length}},{key:"_correctBars",value:function(t,e,n){for(var r=n.length,o=0;r--;)(o=t[n[r]]*(1-(1-e)/2))>1&&(t[n[r]]=o)}},{key:"decodePattern",value:function(t){this._row=t;var e=this._decode();return null===e?(this._row.reverse(),(e=this._decode())&&(e.direction=l.Reverse,e.start=this._row.length-e.start,e.end=this._row.length-e.end)):e.direction=l.Forward,e&&(e.format=this.FORMAT),e}},{key:"_matchRange",value:function(t,e,n){var r;for(r=t=t<0?0:t;r<e;r++)if(this._row[r]!==n)return!1;return!0}},{key:"_fillCounters",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._nextUnset(this._row),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._row.length,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=[],o=0;r[o]=0;for(var i=t;i<e;i++)this._row[i]^(n?1:0)?r[o]++:(r[++o]=1,n=!n);return r}},{key:"_toCounters",value:function(t,e){var n=e.length,r=this._row.length,o=!this._row[t],i=0;E.a.init(e,0);for(var a=t;a<r;a++)if(this._row[a]^(o?1:0))e[i]++;else{if(++i===n)break;e[i]=1,o=!o}return e}}],[{key:"Exception",get:function(){return{StartNotFoundException:"Start-Info was not found!",CodeNotFoundException:"Code could not be found!",PatternNotFoundException:"Pattern could not be found!"}}}]),t}();function A(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=k()(t);if(e){var o=k()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x()(this,n)}}var R=function(t){b()(n,t);var e=A(n);function n(){var t;p()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),O()(y()(t),"CODE_SHIFT",98),O()(y()(t),"CODE_C",99),O()(y()(t),"CODE_B",100),O()(y()(t),"CODE_A",101),O()(y()(t),"START_CODE_A",103),O()(y()(t),"START_CODE_B",104),O()(y()(t),"START_CODE_C",105),O()(y()(t),"STOP_CODE",106),O()(y()(t),"CODE_PATTERN",[[2,1,2,2,2,2],[2,2,2,1,2,2],[2,2,2,2,2,1],[1,2,1,2,2,3],[1,2,1,3,2,2],[1,3,1,2,2,2],[1,2,2,2,1,3],[1,2,2,3,1,2],[1,3,2,2,1,2],[2,2,1,2,1,3],[2,2,1,3,1,2],[2,3,1,2,1,2],[1,1,2,2,3,2],[1,2,2,1,3,2],[1,2,2,2,3,1],[1,1,3,2,2,2],[1,2,3,1,2,2],[1,2,3,2,2,1],[2,2,3,2,1,1],[2,2,1,1,3,2],[2,2,1,2,3,1],[2,1,3,2,1,2],[2,2,3,1,1,2],[3,1,2,1,3,1],[3,1,1,2,2,2],[3,2,1,1,2,2],[3,2,1,2,2,1],[3,1,2,2,1,2],[3,2,2,1,1,2],[3,2,2,2,1,1],[2,1,2,1,2,3],[2,1,2,3,2,1],[2,3,2,1,2,1],[1,1,1,3,2,3],[1,3,1,1,2,3],[1,3,1,3,2,1],[1,1,2,3,1,3],[1,3,2,1,1,3],[1,3,2,3,1,1],[2,1,1,3,1,3],[2,3,1,1,1,3],[2,3,1,3,1,1],[1,1,2,1,3,3],[1,1,2,3,3,1],[1,3,2,1,3,1],[1,1,3,1,2,3],[1,1,3,3,2,1],[1,3,3,1,2,1],[3,1,3,1,2,1],[2,1,1,3,3,1],[2,3,1,1,3,1],[2,1,3,1,1,3],[2,1,3,3,1,1],[2,1,3,1,3,1],[3,1,1,1,2,3],[3,1,1,3,2,1],[3,3,1,1,2,1],[3,1,2,1,1,3],[3,1,2,3,1,1],[3,3,2,1,1,1],[3,1,4,1,1,1],[2,2,1,4,1,1],[4,3,1,1,1,1],[1,1,1,2,2,4],[1,1,1,4,2,2],[1,2,1,1,2,4],[1,2,1,4,2,1],[1,4,1,1,2,2],[1,4,1,2,2,1],[1,1,2,2,1,4],[1,1,2,4,1,2],[1,2,2,1,1,4],[1,2,2,4,1,1],[1,4,2,1,1,2],[1,4,2,2,1,1],[2,4,1,2,1,1],[2,2,1,1,1,4],[4,1,3,1,1,1],[2,4,1,1,1,2],[1,3,4,1,1,1],[1,1,1,2,4,2],[1,2,1,1,4,2],[1,2,1,2,4,1],[1,1,4,2,1,2],[1,2,4,1,1,2],[1,2,4,2,1,1],[4,1,1,2,1,2],[4,2,1,1,1,2],[4,2,1,2,1,1],[2,1,2,1,4,1],[2,1,4,1,2,1],[4,1,2,1,2,1],[1,1,1,1,4,3],[1,1,1,3,4,1],[1,3,1,1,4,1],[1,1,4,1,1,3],[1,1,4,3,1,1],[4,1,1,1,1,3],[4,1,1,3,1,1],[1,1,3,1,4,1],[1,1,4,1,3,1],[3,1,1,1,4,1],[4,1,1,1,3,1],[2,1,1,4,1,2],[2,1,1,2,1,4],[2,1,1,2,3,2],[2,3,3,1,1,1,2]]),O()(y()(t),"SINGLE_CODE_ERROR",.64),O()(y()(t),"AVG_CODE_ERROR",.3),O()(y()(t),"FORMAT","code_128"),O()(y()(t),"MODULE_INDICES",{bar:[0,2,4],space:[1,3,5]}),t}return g()(n,[{key:"_decodeCode",value:function(t,e){for(var n={error:Number.MAX_VALUE,code:-1,start:t,end:t,correction:{bar:1,space:1}},r=[0,0,0,0,0,0],o=t,i=!this._row[o],a=0,s=o;s<this._row.length;s++)if(this._row[s]^(i?1:0))r[a]++;else{if(a===r.length-1){e&&this._correct(r,e);for(var c=0;c<this.CODE_PATTERN.length;c++){var u=this._matchPattern(r,this.CODE_PATTERN[c]);u<n.error&&(n.code=c,n.error=u)}return n.end=s,-1===n.code||n.error>this.AVG_CODE_ERROR?null:(this.CODE_PATTERN[n.code]&&(n.correction.bar=this.calculateCorrection(this.CODE_PATTERN[n.code],r,this.MODULE_INDICES.bar),n.correction.space=this.calculateCorrection(this.CODE_PATTERN[n.code],r,this.MODULE_INDICES.space)),n)}r[++a]=1,i=!i}return null}},{key:"_correct",value:function(t,e){this._correctBars(t,e.bar,this.MODULE_INDICES.bar),this._correctBars(t,e.space,this.MODULE_INDICES.space)}},{key:"_findStart",value:function(){for(var t=[0,0,0,0,0,0],e=this._nextSet(this._row),n={error:Number.MAX_VALUE,code:-1,start:0,end:0,correction:{bar:1,space:1}},r=!1,o=0,i=e;i<this._row.length;i++)if(this._row[i]^(r?1:0))t[o]++;else{if(o===t.length-1){for(var a=t.reduce((function(t,e){return t+e}),0),s=this.START_CODE_A;s<=this.START_CODE_C;s++){var c=this._matchPattern(t,this.CODE_PATTERN[s]);c<n.error&&(n.code=s,n.error=c)}if(n.error<this.AVG_CODE_ERROR)return n.start=i-a,n.end=i,n.correction.bar=this.calculateCorrection(this.CODE_PATTERN[n.code],t,this.MODULE_INDICES.bar),n.correction.space=this.calculateCorrection(this.CODE_PATTERN[n.code],t,this.MODULE_INDICES.space),n;for(var u=0;u<4;u++)t[u]=t[u+2];t[4]=0,t[5]=0,o--}else o++;t[o]=1,r=!r}return null}},{key:"_decode",value:function(t,e){var n=this,r=this._findStart();if(null===r)return null;var o={code:r.code,start:r.start,end:r.end,correction:{bar:r.correction.bar,space:r.correction.space}},i=[];i.push(o);for(var a=o.code,s=function(t){switch(t){case n.START_CODE_A:return n.CODE_A;case n.START_CODE_B:return n.CODE_B;case n.START_CODE_C:return n.CODE_C;default:return null}}(o.code),c=!1,u=!1,l=u,f=!0,d=0,h=[],p=[];!c;){if(l=u,u=!1,null!==(o=this._decodeCode(o.end,o.correction)))switch(o.code!==this.STOP_CODE&&(f=!0),o.code!==this.STOP_CODE&&(h.push(o.code),a+=++d*o.code),i.push(o),s){case this.CODE_A:if(o.code<64)p.push(String.fromCharCode(32+o.code));else if(o.code<96)p.push(String.fromCharCode(o.code-64));else switch(o.code!==this.STOP_CODE&&(f=!1),o.code){case this.CODE_SHIFT:u=!0,s=this.CODE_B;break;case this.CODE_B:s=this.CODE_B;break;case this.CODE_C:s=this.CODE_C;break;case this.STOP_CODE:c=!0}break;case this.CODE_B:if(o.code<96)p.push(String.fromCharCode(32+o.code));else switch(o.code!==this.STOP_CODE&&(f=!1),o.code){case this.CODE_SHIFT:u=!0,s=this.CODE_A;break;case this.CODE_A:s=this.CODE_A;break;case this.CODE_C:s=this.CODE_C;break;case this.STOP_CODE:c=!0}break;case this.CODE_C:if(o.code<100)p.push(o.code<10?"0"+o.code:o.code);else switch(o.code!==this.STOP_CODE&&(f=!1),o.code){case this.CODE_A:s=this.CODE_A;break;case this.CODE_B:s=this.CODE_B;break;case this.STOP_CODE:c=!0}}else c=!0;l&&(s=s===this.CODE_A?this.CODE_B:this.CODE_A)}return null===o?null:(o.end=this._nextUnset(this._row,o.end),this._verifyTrailingWhitespace(o)?(a-=d*h[h.length-1])%103!==h[h.length-1]?null:p.length?(f&&p.splice(p.length-1,1),{code:p.join(""),start:r.start,end:o.end,codeset:s,startInfo:r,decodedCodes:i,endInfo:o,format:this.FORMAT}):null:null)}},{key:"_verifyTrailingWhitespace",value:function(t){var e;return(e=t.end+(t.end-t.start)/2)<this._row.length&&this._matchRange(t.end,e,0)?t:null}},{key:"calculateCorrection",value:function(t,e,n){for(var r=n.length,o=0,i=0;r--;)i+=t[n[r]],o+=e[n[r]];return i/o}}]),n}(S);function j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function P(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?j(Object(n),!0).forEach((function(e){O()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function D(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=k()(t);if(e){var o=k()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x()(this,n)}}var M=[1,1,1],T=[1,1,1,1,1],I=[1,1,2],L=[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2],[1,1,2,3],[1,2,2,2],[2,2,1,2],[1,1,4,1],[2,3,1,1],[1,3,2,1],[4,1,1,1],[2,1,3,1],[3,1,2,1],[2,1,1,3]],q=[0,11,13,14,19,25,28,21,22,26],z=function(t){b()(n,t);var e=D(n);function n(t,r){var o;return p()(this,n),o=e.call(this,a()({supplements:[]},t),r),O()(y()(o),"FORMAT","ean_13"),O()(y()(o),"SINGLE_CODE_ERROR",.7),O()(y()(o),"STOP_PATTERN",[1,1,1]),o}return g()(n,[{key:"_findPattern",value:function(t,e,n,r){var o=new Array(t.length).fill(0),i={error:Number.MAX_VALUE,start:0,end:0},a=0;e||(e=this._nextSet(this._row));for(var s=!1,c=e;c<this._row.length;c++)if(this._row[c]^(n?1:0))o[a]+=1;else{if(a===o.length-1){var u=this._matchPattern(o,t);if(u<.48&&i.error&&u<i.error)return s=!0,i.error=u,i.start=c-o.reduce((function(t,e){return t+e}),0),i.end=c,i;if(r){for(var l=0;l<o.length-2;l++)o[l]=o[l+2];o[o.length-2]=0,o[o.length-1]=0,a--}}else a++;o[a]=1,n=!n}return s?i:null}},{key:"_decodeCode",value:function(t,e){var n=[0,0,0,0],r=t,o={error:Number.MAX_VALUE,code:-1,start:t,end:t},i=!this._row[r],a=0;e||(e=L.length);for(var s=r;s<this._row.length;s++)if(this._row[s]^(i?1:0))n[a]++;else{if(a===n.length-1){for(var c=0;c<e;c++){var u=this._matchPattern(n,L[c]);o.end=s,u<o.error&&(o.code=c,o.error=u)}return o.error>.48?null:o}n[++a]=1,i=!i}return null}},{key:"_findStart",value:function(){for(var t=this._nextSet(this._row),e=null;!e;){if(!(e=this._findPattern(M,t,!1,!0)))return null;var n=e.start-(e.end-e.start);if(n>=0&&this._matchRange(n,e.start,0))return e;t=e.end,e=null}return null}},{key:"_calculateFirstDigit",value:function(t){for(var e=0;e<q.length;e++)if(t===q[e])return e;return null}},{key:"_decodePayload",value:function(t,e,n){for(var r=P({},t),o=0,i=0;i<6;i++){if(!(r=this._decodeCode(r.end)))return null;r.code>=10?(r.code-=10,o|=1<<5-i):o|=0<<5-i,e.push(r.code),n.push(r)}var a=this._calculateFirstDigit(o);if(null===a)return null;e.unshift(a);var s=this._findPattern(T,r.end,!0,!1);if(null===s||!s.end)return null;n.push(s);for(var c=0;c<6;c++){if(!(s=this._decodeCode(s.end,10)))return null;n.push(s),e.push(s.code)}return s}},{key:"_verifyTrailingWhitespace",value:function(t){var e=t.end+(t.end-t.start);return e<this._row.length&&this._matchRange(t.end,e,0)?t:null}},{key:"_findEnd",value:function(t,e){var n=this._findPattern(this.STOP_PATTERN,t,e,!1);return null!==n?this._verifyTrailingWhitespace(n):null}},{key:"_checksum",value:function(t){for(var e=0,n=t.length-2;n>=0;n-=2)e+=t[n];e*=3;for(var r=t.length-1;r>=0;r-=2)e+=t[r];return e%10==0}},{key:"_decodeExtensions",value:function(t){var e=this._nextSet(this._row,t),n=this._findPattern(I,e,!1,!1);if(null===n)return null;for(var r=0;r<this.supplements.length;r++)try{var o=this.supplements[r]._decode(this._row,n.end);if(null!==o)return{code:o.code,start:e,startInfo:n,end:o.end,decodedCodes:o.decodedCodes,format:this.supplements[r].FORMAT}}catch(t){console.error("* decodeExtensions error in ",this.supplements[r],": ",t)}return null}},{key:"_decode",value:function(t,e){var n=new Array,r=new Array,o={},i=this._findStart();if(!i)return null;var a={start:i.start,end:i.end};if(r.push(a),!(a=this._decodePayload(a,n,r)))return null;if(!(a=this._findEnd(a.end,!1)))return null;if(r.push(a),!this._checksum(n))return null;if(this.supplements.length>0){var s=this._decodeExtensions(a.end);if(!s)return null;if(!s.decodedCodes)return null;var c=s.decodedCodes[s.decodedCodes.length-1],u={start:c.start+((c.end-c.start)/2|0),end:c.end};if(!this._verifyTrailingWhitespace(u))return null;o={supplement:s,code:n.join("")+s.code}}return P(P({code:n.join(""),start:i.start,end:a.end,startInfo:i,decodedCodes:r},o),{},{format:this.FORMAT})}}]),n}(S),N=n(33),U=n.n(N);function B(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=k()(t);if(e){var o=k()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x()(this,n)}}var F=new Uint16Array(U()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. *$/+%").map((function(t){return t.charCodeAt(0)}))),W=new Uint16Array([52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,148,168,162,138,42]),V=function(t){b()(n,t);var e=B(n);function n(){var t;p()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),O()(y()(t),"FORMAT","code_39"),t}return g()(n,[{key:"_findStart",value:function(){for(var t=this._nextSet(this._row),e=t,n=new Uint16Array([0,0,0,0,0,0,0,0,0]),r=0,o=!1,i=t;i<this._row.length;i++)if(this._row[i]^(o?1:0))n[r]++;else{if(r===n.length-1){if(148===this._toPattern(n)){var a=Math.floor(Math.max(0,e-(i-e)/4));if(this._matchRange(a,e,0))return{start:e,end:i}}e+=n[0]+n[1];for(var s=0;s<7;s++)n[s]=n[s+2];n[7]=0,n[8]=0,r--}else r++;n[r]=1,o=!o}return null}},{key:"_toPattern",value:function(t){for(var e=t.length,n=0,r=e,o=0;r>3;){n=this._findNextWidth(t,n),r=0;for(var i=0,a=0;a<e;a++)t[a]>n&&(i|=1<<e-1-a,r++,o+=t[a]);if(3===r){for(var s=0;s<e&&r>0;s++)if(t[s]>n&&(r--,2*t[s]>=o))return-1;return i}}return-1}},{key:"_findNextWidth",value:function(t,e){for(var n=Number.MAX_VALUE,r=0;r<t.length;r++)t[r]<n&&t[r]>e&&(n=t[r]);return n}},{key:"_patternToChar",value:function(t){for(var e=0;e<W.length;e++)if(W[e]===t)return String.fromCharCode(F[e]);return null}},{key:"_verifyTrailingWhitespace",value:function(t,e,n){var r=E.a.sum(n);return 3*(e-t-r)>=r}},{key:"_decode",value:function(t,e){var n=new Uint16Array([0,0,0,0,0,0,0,0,0]),r=[];if(!(e=this._findStart()))return null;var o,i,a=this._nextSet(this._row,e.end);do{n=this._toCounters(a,n);var s=this._toPattern(n);if(s<0)return null;if(null===(o=this._patternToChar(s)))return null;r.push(o),i=a,a+=E.a.sum(n),a=this._nextSet(this._row,a)}while("*"!==o);return r.pop(),r.length&&this._verifyTrailingWhitespace(i,a,n)?{code:r.join(""),start:e.start,end:a,startInfo:e,decodedCodes:r,format:this.FORMAT}:null}}]),n}(S),G=n(16),H=n.n(G);function K(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=k()(t);if(e){var o=k()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x()(this,n)}}var J=/[IOQ]/g,X=/[A-Z0-9]{17}/,Q=function(t){b()(n,t);var e=K(n);function n(){var t;p()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),O()(y()(t),"FORMAT","code_39_vin"),t}return g()(n,[{key:"_checkChecksum",value:function(t){return!!t}},{key:"_decode",value:function(t,e){var r=H()(k()(n.prototype),"_decode",this).call(this,t,e);if(!r)return null;var o=r.code;return o&&(o=o.replace(J,"")).match(X)&&this._checkChecksum(o)?(r.code=o,r):null}}]),n}(V);function Y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=k()(t);if(e){var o=k()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x()(this,n)}}var Z=[48,49,50,51,52,53,54,55,56,57,45,36,58,47,46,43,65,66,67,68],tt=[3,6,9,96,18,66,33,36,48,72,12,24,69,81,84,21,26,41,11,14],et=[26,41,11,14],nt=function(t){b()(n,t);var e=Y(n);function n(){var t;p()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),O()(y()(t),"_counters",[]),O()(y()(t),"FORMAT","codabar"),t}return g()(n,[{key:"_computeAlternatingThreshold",value:function(t,e){for(var n=Number.MAX_VALUE,r=0,o=0,i=t;i<e;i+=2)(o=this._counters[i])>r&&(r=o),o<n&&(n=o);return(n+r)/2|0}},{key:"_toPattern",value:function(t){var e=t+7;if(e>this._counters.length)return-1;for(var n=this._computeAlternatingThreshold(t,e),r=this._computeAlternatingThreshold(t+1,e),o=64,i=0,a=0,s=0;s<7;s++)i=0==(1&s)?n:r,this._counters[t+s]>i&&(a|=o),o>>=1;return a}},{key:"_isStartEnd",value:function(t){for(var e=0;e<et.length;e++)if(et[e]===t)return!0;return!1}},{key:"_sumCounters",value:function(t,e){for(var n=0,r=t;r<e;r++)n+=this._counters[r];return n}},{key:"_findStart",value:function(){for(var t=this._nextUnset(this._row),e=1;e<this._counters.length;e++){var n=this._toPattern(e);if(-1!==n&&this._isStartEnd(n))return{start:t+=this._sumCounters(0,e),end:t+this._sumCounters(e,e+8),startCounter:e,endCounter:e+8}}return null}},{key:"_patternToChar",value:function(t){for(var e=0;e<tt.length;e++)if(tt[e]===t)return String.fromCharCode(Z[e]);return null}},{key:"_calculatePatternLength",value:function(t){for(var e=0,n=t;n<t+7;n++)e+=this._counters[n];return e}},{key:"_verifyWhitespace",value:function(t,e){return(t-1<=0||this._counters[t-1]>=this._calculatePatternLength(t)/2)&&(e+8>=this._counters.length||this._counters[e+7]>=this._calculatePatternLength(e)/2)}},{key:"_charToPattern",value:function(t){for(var e=t.charCodeAt(0),n=0;n<Z.length;n++)if(Z[n]===e)return tt[n];return 0}},{key:"_thresholdResultPattern",value:function(t,e){for(var n,r={space:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}},bar:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}}},o=e,i=0;i<t.length;i++){n=this._charToPattern(t[i]);for(var a=6;a>=0;a--){var s=2==(1&a)?r.bar:r.space,c=1==(1&n)?s.wide:s.narrow;c.size+=this._counters[o+a],c.counts++,n>>=1}o+=8}return["space","bar"].forEach((function(t){var e=r[t];e.wide.min=Math.floor((e.narrow.size/e.narrow.counts+e.wide.size/e.wide.counts)/2),e.narrow.max=Math.ceil(e.wide.min),e.wide.max=Math.ceil((2*e.wide.size+1.5)/e.wide.counts)})),r}},{key:"_validateResult",value:function(t,e){for(var n,r=this._thresholdResultPattern(t,e),o=e,i=0;i<t.length;i++){n=this._charToPattern(t[i]);for(var a=6;a>=0;a--){var s=0==(1&a)?r.bar:r.space,c=1==(1&n)?s.wide:s.narrow,u=this._counters[o+a];if(u<c.min||u>c.max)return!1;n>>=1}o+=8}return!0}},{key:"_decode",value:function(t,e){if(this._counters=this._fillCounters(),!(e=this._findStart()))return null;var n,r=e.startCounter,o=[];do{if((n=this._toPattern(r))<0)return null;var i=this._patternToChar(n);if(null===i)return null;if(o.push(i),r+=8,o.length>1&&this._isStartEnd(n))break}while(r<this._counters.length);if(o.length-2<4||!this._isStartEnd(n))return null;if(!this._verifyWhitespace(e.startCounter,r-8))return null;if(!this._validateResult(o,e.startCounter))return null;r=r>this._counters.length?this._counters.length:r;var a=e.start+this._sumCounters(e.startCounter,r-8);return{code:o.join(""),start:e.start,end:a,startInfo:e,decodedCodes:o,format:this.FORMAT}}}]),n}(S);function rt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=k()(t);if(e){var o=k()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x()(this,n)}}var ot=function(t){b()(n,t);var e=rt(n);function n(){var t;p()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),O()(y()(t),"FORMAT","upc_a"),t}return g()(n,[{key:"_decode",value:function(t,e){var n=z.prototype._decode.call(this);return n&&n.code&&13===n.code.length&&"0"===n.code.charAt(0)?(n.code=n.code.substring(1),n):null}}]),n}(z);function it(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=k()(t);if(e){var o=k()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x()(this,n)}}var at=function(t){b()(n,t);var e=it(n);function n(){var t;p()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),O()(y()(t),"FORMAT","ean_8"),t}return g()(n,[{key:"_decodePayload",value:function(t,e,n){for(var r=t,o=0;o<4;o++){if(!(r=this._decodeCode(r.end,10)))return null;e.push(r.code),n.push(r)}if(null===(r=this._findPattern(T,r.end,!0,!1)))return null;n.push(r);for(var i=0;i<4;i++){if(!(r=this._decodeCode(r.end,10)))return null;n.push(r),e.push(r.code)}return r}}]),n}(z);function st(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=k()(t);if(e){var o=k()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x()(this,n)}}var ct=function(t){b()(n,t);var e=st(n);function n(){var t;p()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),O()(y()(t),"FORMAT","ean_2"),t}return g()(n,[{key:"_decode",value:function(t,e){t&&(this._row=t);var n=0,r=e,o=this._row.length,i=[],a=[],s=null;if(void 0===r)return null;for(var c=0;c<2&&r<o;c++){if(!(s=this._decodeCode(r)))return null;a.push(s),i.push(s.code%10),s.code>=10&&(n|=1<<1-c),1!==c&&(r=this._nextSet(this._row,s.end),r=this._nextUnset(this._row,r))}if(2!==i.length||parseInt(i.join(""))%4!==n)return null;var u=this._findStart();return{code:i.join(""),decodedCodes:a,end:s.end,format:this.FORMAT,startInfo:u,start:u.start}}}]),n}(z);function ut(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=k()(t);if(e){var o=k()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x()(this,n)}}var lt=[24,20,18,17,12,6,3,10,9,5],ft=function(t){b()(n,t);var e=ut(n);function n(){var t;p()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),O()(y()(t),"FORMAT","ean_5"),t}return g()(n,[{key:"_decode",value:function(t,e){if(void 0===e)return null;t&&(this._row=t);for(var n=0,r=e,o=this._row.length,i=null,a=[],s=[],c=0;c<5&&r<o;c++){if(!(i=this._decodeCode(r)))return null;s.push(i),a.push(i.code%10),i.code>=10&&(n|=1<<4-c),4!==c&&(r=this._nextSet(this._row,i.end),r=this._nextUnset(this._row,r))}if(5!==a.length)return null;if(function(t){for(var e=t.length,n=0,r=e-2;r>=0;r-=2)n+=t[r];n*=3;for(var o=e-1;o>=0;o-=2)n+=t[o];return(n*=3)%10}(a)!==function(t){for(var e=0;e<10;e++)if(t===lt[e])return e;return null}(n))return null;var u=this._findStart();return{code:a.join(""),decodedCodes:s,end:i.end,format:this.FORMAT,startInfo:u,start:u.start}}}]),n}(z);function dt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ht(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=k()(t);if(e){var o=k()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x()(this,n)}}var pt=function(t){b()(n,t);var e=ht(n);function n(){var t;p()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),O()(y()(t),"CODE_FREQUENCY",[[56,52,50,49,44,38,35,42,41,37],[7,11,13,14,19,25,28,21,22,26]]),O()(y()(t),"STOP_PATTERN",[1/6*7,1/6*7,1/6*7,1/6*7,1/6*7,1/6*7]),O()(y()(t),"FORMAT","upc_e"),t}return g()(n,[{key:"_decodePayload",value:function(t,e,n){for(var r=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?dt(Object(n),!0).forEach((function(e){O()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t),o=0,i=0;i<6;i++){if(!(r=this._decodeCode(r.end)))return null;r.code>=10&&(r.code=r.code-10,o|=1<<5-i),e.push(r.code),n.push(r)}return this._determineParity(o,e)?r:null}},{key:"_determineParity",value:function(t,e){for(var n=0;n<this.CODE_FREQUENCY.length;n++)for(var r=0;r<this.CODE_FREQUENCY[n].length;r++)if(t===this.CODE_FREQUENCY[n][r])return e.unshift(n),e.push(r),!0;return!1}},{key:"_convertToUPCA",value:function(t){var e=[t[0]],n=t[t.length-2];return(e=n<=2?e.concat(t.slice(1,3)).concat([n,0,0,0,0]).concat(t.slice(3,6)):3===n?e.concat(t.slice(1,4)).concat([0,0,0,0,0]).concat(t.slice(4,6)):4===n?e.concat(t.slice(1,5)).concat([0,0,0,0,0,t[5]]):e.concat(t.slice(1,6)).concat([0,0,0,0,n])).push(t[t.length-1]),e}},{key:"_checksum",value:function(t){return H()(k()(n.prototype),"_checksum",this).call(this,this._convertToUPCA(t))}},{key:"_findEnd",value:function(t,e){return H()(k()(n.prototype),"_findEnd",this).call(this,t,!0)}},{key:"_verifyTrailingWhitespace",value:function(t){var e=t.end+(t.end-t.start)/2;return e<this._row.length&&this._matchRange(t.end,e,0)?t:null}}]),n}(z);function vt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=k()(t);if(e){var o=k()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x()(this,n)}}var gt=function(t){b()(n,t);var e=vt(n);function n(t){var r;return p()(this,n),r=e.call(this,a()({normalizeBarSpaceWidth:!1},t)),O()(y()(r),"barSpaceRatio",[1,1]),O()(y()(r),"SINGLE_CODE_ERROR",.78),O()(y()(r),"AVG_CODE_ERROR",.38),O()(y()(r),"START_PATTERN",[1,1,1,1]),O()(y()(r),"STOP_PATTERN",[1,1,3]),O()(y()(r),"CODE_PATTERN",[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]]),O()(y()(r),"MAX_CORRECTION_FACTOR",5),O()(y()(r),"FORMAT","i2of5"),t.normalizeBarSpaceWidth&&(r.SINGLE_CODE_ERROR=.38,r.AVG_CODE_ERROR=.09),r.config=t,x()(r,y()(r))}return g()(n,[{key:"_matchPattern",value:function(t,e){if(this.config.normalizeBarSpaceWidth){for(var n=[0,0],r=[0,0],o=[0,0],i=this.MAX_CORRECTION_FACTOR,a=1/i,s=0;s<t.length;s++)n[s%2]+=t[s],r[s%2]+=e[s];o[0]=r[0]/n[0],o[1]=r[1]/n[1],o[0]=Math.max(Math.min(o[0],i),a),o[1]=Math.max(Math.min(o[1],i),a),this.barSpaceRatio=o;for(var c=0;c<t.length;c++)t[c]*=this.barSpaceRatio[c%2]}return S.prototype._matchPattern.call(this,t,e)}},{key:"_findPattern",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=new Array(t.length).fill(0),i=0,a={error:Number.MAX_VALUE,code:-1,start:0,end:0},s=this.AVG_CODE_ERROR;n=n||!1,r=r||!1,e||(e=this._nextSet(this._row));for(var c=e;c<this._row.length;c++)if(this._row[c]^(n?1:0))o[i]++;else{if(i===o.length-1){var u=o.reduce((function(t,e){return t+e}),0),l=this._matchPattern(o,t);if(l<s)return a.error=l,a.start=c-u,a.end=c,a;if(!r)return null;for(var f=0;f<o.length-2;f++)o[f]=o[f+2];o[o.length-2]=0,o[o.length-1]=0,i--}else i++;o[i]=1,n=!n}return null}},{key:"_findStart",value:function(){for(var t=0,e=this._nextSet(this._row),n=null,r=1;!n;){if(!(n=this._findPattern(this.START_PATTERN,e,!1,!0)))return null;if(r=Math.floor((n.end-n.start)/4),(t=n.start-10*r)>=0&&this._matchRange(t,n.start,0))return n;e=n.end,n=null}return null}},{key:"_verifyTrailingWhitespace",value:function(t){var e=t.end+(t.end-t.start)/2;return e<this._row.length&&this._matchRange(t.end,e,0)?t:null}},{key:"_findEnd",value:function(){this._row.reverse();var t=this._findPattern(this.STOP_PATTERN);if(this._row.reverse(),null===t)return null;var e=t.start;return t.start=this._row.length-t.end,t.end=this._row.length-e,null!==t?this._verifyTrailingWhitespace(t):null}},{key:"_decodePair",value:function(t){for(var e=[],n=0;n<t.length;n++){var r=this._decodeCode(t[n]);if(!r)return null;e.push(r)}return e}},{key:"_decodeCode",value:function(t){for(var e=this.AVG_CODE_ERROR,n={error:Number.MAX_VALUE,code:-1,start:0,end:0},r=0;r<this.CODE_PATTERN.length;r++){var o=this._matchPattern(t,this.CODE_PATTERN[r]);o<n.error&&(n.code=r,n.error=o)}return n.error<e?n:null}},{key:"_decodePayload",value:function(t,e,n){for(var r=0,o=t.length,i=[[0,0,0,0,0],[0,0,0,0,0]],a=null;r<o;){for(var s=0;s<5;s++)i[0][s]=t[r]*this.barSpaceRatio[0],i[1][s]=t[r+1]*this.barSpaceRatio[1],r+=2;if(!(a=this._decodePair(i)))return null;for(var c=0;c<a.length;c++)e.push(a[c].code+""),n.push(a[c])}return a}},{key:"_verifyCounterLength",value:function(t){return t.length%10==0}},{key:"_decode",value:function(t,e){var n=new Array,r=new Array,o=this._findStart();if(!o)return null;r.push(o);var i=this._findEnd();if(!i)return null;var a=this._fillCounters(o.end,i.start,!1);return this._verifyCounterLength(a)&&this._decodePayload(a,n,r)?n.length%2!=0||n.length<6?null:(r.push(i),{code:n.join(""),start:o.start,end:i.end,startInfo:o,decodedCodes:r,format:this.FORMAT}):null}}]),n}(S);function mt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=k()(t);if(e){var o=k()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x()(this,n)}}var yt=[3,1,3,1,1,1],_t=[3,1,1,1,3],bt=[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]],wt=yt.reduce((function(t,e){return t+e}),0),xt=function(t){b()(n,t);var e=mt(n);function n(){var t;p()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),O()(y()(t),"barSpaceRatio",[1,1]),O()(y()(t),"FORMAT","2of5"),O()(y()(t),"SINGLE_CODE_ERROR",.78),O()(y()(t),"AVG_CODE_ERROR",.3),t}return g()(n,[{key:"_findPattern",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=[],i=0,a={error:Number.MAX_VALUE,code:-1,start:0,end:0},s=0,c=0,u=this.AVG_CODE_ERROR;e||(e=this._nextSet(this._row));for(var l=0;l<t.length;l++)o[l]=0;for(var f=e;f<this._row.length;f++)if(this._row[f]^(n?1:0))o[i]++;else{if(i===o.length-1){s=0;for(var d=0;d<o.length;d++)s+=o[d];if((c=this._matchPattern(o,t))<u)return a.error=c,a.start=f-s,a.end=f,a;if(!r)return null;for(var h=0;h<o.length-2;h++)o[h]=o[h+2];o[o.length-2]=0,o[o.length-1]=0,i--}else i++;o[i]=1,n=!n}return null}},{key:"_findStart",value:function(){for(var t=null,e=this._nextSet(this._row),n=1,r=0;!t;){if(!(t=this._findPattern(yt,e,!1,!0)))return null;if(n=Math.floor((t.end-t.start)/wt),(r=t.start-5*n)>=0&&this._matchRange(r,t.start,0))return t;e=t.end,t=null}return t}},{key:"_verifyTrailingWhitespace",value:function(t){var e=t.end+(t.end-t.start)/2;return e<this._row.length&&this._matchRange(t.end,e,0)?t:null}},{key:"_findEnd",value:function(){this._row.reverse();var t=this._nextSet(this._row),e=this._findPattern(_t,t,!1,!0);if(this._row.reverse(),null===e)return null;var n=e.start;return e.start=this._row.length-e.end,e.end=this._row.length-n,null!==e?this._verifyTrailingWhitespace(e):null}},{key:"_verifyCounterLength",value:function(t){return t.length%10==0}},{key:"_decodeCode",value:function(t){for(var e=this.AVG_CODE_ERROR,n={error:Number.MAX_VALUE,code:-1,start:0,end:0},r=0;r<bt.length;r++){var o=this._matchPattern(t,bt[r]);o<n.error&&(n.code=r,n.error=o)}return n.error<e?n:null}},{key:"_decodePayload",value:function(t,e,n){for(var r=0,o=t.length,i=[0,0,0,0,0],a=null;r<o;){for(var s=0;s<5;s++)i[s]=t[r]*this.barSpaceRatio[0],r+=2;if(!(a=this._decodeCode(i)))return null;e.push("".concat(a.code)),n.push(a)}return a}},{key:"_decode",value:function(t,e){var n=this._findStart();if(!n)return null;var r=this._findEnd();if(!r)return null;var o=this._fillCounters(n.end,r.start,!1);if(!this._verifyCounterLength(o))return null;var i=[];i.push(n);var a=[];return this._decodePayload(o,a,i)?a.length<5?null:(i.push(r),{code:a.join(""),start:n.start,end:r.end,startInfo:n,decodedCodes:i,format:this.FORMAT}):null}}]),n}(S);function $t(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=k()(t);if(e){var o=k()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x()(this,n)}}var kt=new Uint16Array(U()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*").map((function(t){return t.charCodeAt(0)}))),Ct=new Uint16Array([276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350]);function Ot(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=k()(t);if(e){var o=k()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x()(this,n)}}var Et,St=/[AEIO]/g,At={code_128_reader:R,ean_reader:z,ean_5_reader:ft,ean_2_reader:ct,ean_8_reader:at,code_39_reader:V,code_39_vin_reader:Q,codabar_reader:nt,upc_reader:ot,upc_e_reader:pt,i2of5_reader:gt,"2of5_reader":xt,code_93_reader:function(t){b()(n,t);var e=$t(n);function n(){var t;p()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),O()(y()(t),"FORMAT","code_93"),t}return g()(n,[{key:"_patternToChar",value:function(t){for(var e=0;e<Ct.length;e++)if(Ct[e]===t)return String.fromCharCode(kt[e]);return null}},{key:"_toPattern",value:function(t){for(var e=t.length,n=t.reduce((function(t,e){return t+e}),0),r=0,o=0;o<e;o++){var i=Math.round(9*t[o]/n);if(i<1||i>4)return-1;if(0==(1&o))for(var a=0;a<i;a++)r=r<<1|1;else r<<=i}return r}},{key:"_findStart",value:function(){for(var t=this._nextSet(this._row),e=t,n=new Uint16Array([0,0,0,0,0,0]),r=0,o=!1,i=t;i<this._row.length;i++)if(this._row[i]^(o?1:0))n[r]++;else{if(r===n.length-1){if(350===this._toPattern(n)){var a=Math.floor(Math.max(0,e-(i-e)/4));if(this._matchRange(a,e,0))return{start:e,end:i}}e+=n[0]+n[1];for(var s=0;s<4;s++)n[s]=n[s+2];n[4]=0,n[5]=0,r--}else r++;n[r]=1,o=!o}return null}},{key:"_verifyEnd",value:function(t,e){return!(t===e||!this._row[e])}},{key:"_decodeExtended",value:function(t){for(var e=t.length,n=[],r=0;r<e;r++){var o=t[r];if(o>="a"&&o<="d"){if(r>e-2)return null;var i=t[++r],a=i.charCodeAt(0),s=void 0;switch(o){case"a":if(!(i>="A"&&i<="Z"))return null;s=String.fromCharCode(a-64);break;case"b":if(i>="A"&&i<="E")s=String.fromCharCode(a-38);else if(i>="F"&&i<="J")s=String.fromCharCode(a-11);else if(i>="K"&&i<="O")s=String.fromCharCode(a+16);else if(i>="P"&&i<="S")s=String.fromCharCode(a+43);else{if(!(i>="T"&&i<="Z"))return null;s=String.fromCharCode(127)}break;case"c":if(i>="A"&&i<="O")s=String.fromCharCode(a-32);else{if("Z"!==i)return null;s=":"}break;case"d":if(!(i>="A"&&i<="Z"))return null;s=String.fromCharCode(a+32);break;default:return console.warn("* code_93_reader _decodeExtended hit default case, this may be an error",s),null}n.push(s)}else n.push(o)}return n}},{key:"_matchCheckChar",value:function(t,e,n){var r=t.slice(0,e),o=r.length,i=r.reduce((function(t,e,r){return t+((-1*r+(o-1))%n+1)*kt.indexOf(e.charCodeAt(0))}),0);return kt[i%47]===t[e].charCodeAt(0)}},{key:"_verifyChecksums",value:function(t){return this._matchCheckChar(t,t.length-2,20)&&this._matchCheckChar(t,t.length-1,15)}},{key:"_decode",value:function(t,e){if(!(e=this._findStart()))return null;var n,r,o=new Uint16Array([0,0,0,0,0,0]),i=[],a=this._nextSet(this._row,e.end);do{o=this._toCounters(a,o);var s=this._toPattern(o);if(s<0)return null;if(null===(r=this._patternToChar(s)))return null;i.push(r),n=a,a+=E.a.sum(o),a=this._nextSet(this._row,a)}while("*"!==r);return i.pop(),i.length&&this._verifyEnd(n,a)&&this._verifyChecksums(i)?(i=i.slice(0,i.length-2),null===(i=this._decodeExtended(i))?null:{code:i.join(""),start:e.start,end:a,startInfo:e,decodedCodes:i,format:this.FORMAT}):null}}]),n}(S),code_32_reader:function(t){b()(n,t);var e=Ot(n);function n(){var t;p()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),O()(y()(t),"FORMAT","code_32_reader"),t}return g()(n,[{key:"_decodeCode32",value:function(t){if(/[^0-9BCDFGHJKLMNPQRSTUVWXYZ]/.test(t))return null;for(var e=0,n=0;n<t.length;n++)e=32*e+"0123456789BCDFGHJKLMNPQRSTUVWXYZ".indexOf(t[n]);var r=""+e;return r.length<9&&(r=("000000000"+r).slice(-9)),"A"+r}},{key:"_checkChecksum",value:function(t){return!!t}},{key:"_decode",value:function(t,e){var r=H()(k()(n.prototype),"_decode",this).call(this,t,e);if(!r)return null;var o=r.code;if(!o)return null;if(o=o.replace(St,""),!this._checkChecksum(o))return null;var i=this._decodeCode32(o);return i?(r.code=i,r):null}}]),n}(V)},Rt={registerReader:function(t,e){At[t]=e},create:function(t,e){var n=[];function r(){t.readers.forEach((function(t){var e,r={},i=[];"object"===o()(t)?(e=t.format,r=t.config):"string"==typeof t&&(e=t),r.supplements&&(i=r.supplements.map((function(t){return new At[t]})));try{var a=new At[e](r,i);n.push(a)}catch(t){throw console.error("* Error constructing reader ",e,t),t}}))}function i(t){var r,o=null,i=f.getBarcodeLine(e,t[0],t[1]);for(f.toBinaryLine(i),r=0;r<n.length&&null===o;r++)o=n[r].decodePattern(i.line);return null===o?null:{codeResult:o,barcodeLine:i}}function a(t){var n,r,o=function(t){return Math.sqrt(Math.pow(Math.abs(t[1].y-t[0].y),2)+Math.pow(Math.abs(t[1].x-t[0].x),2))}(n=function(t){return[{x:(t[1][0]-t[0][0])/2+t[0][0],y:(t[1][1]-t[0][1])/2+t[0][1]},{x:(t[3][0]-t[2][0])/2+t[2][0],y:(t[3][1]-t[2][1])/2+t[2][1]}]}(t)),a=Math.atan2(n[1].y-n[0].y,n[1].x-n[0].x);return null===(n=function(t,n,r){function o(e){var r=e*Math.sin(n),o=e*Math.cos(n);t[0].y-=r,t[0].x-=o,t[1].y+=r,t[1].x+=o}for(o(r);r>1&&(!e.inImageWithBorder(t[0])||!e.inImageWithBorder(t[1]));)o(-(r-=Math.ceil(r/2)));return t}(n,a,Math.floor(.1*o)))?null:(null===(r=i(n))&&(r=function(t,e,n){var r,o,a,s=Math.sqrt(Math.pow(t[1][0]-t[0][0],2)+Math.pow(t[1][1]-t[0][1],2)),c=null,u=Math.sin(n),l=Math.cos(n);for(r=1;r<16&&null===c;r++)a={y:(o=s/16*r*(r%2==0?-1:1))*u,x:o*l},e[0].y+=a.x,e[0].x-=a.y,e[1].y+=a.x,e[1].x-=a.y,c=i(e);return c}(t,n,a)),null===r?null:{codeResult:r.codeResult,line:n,angle:a,pattern:r.barcodeLine.line,threshold:r.barcodeLine.threshold})}return r(),{decodeFromBoundingBox:function(t){return a(t)},decodeFromBoundingBoxes:function(e){var n,r,o=[],i=t.multiple;for(n=0;n<e.length;n++){var s=e[n];if((r=a(s)||{}).box=s,i)o.push(r);else if(r.codeResult)return r}if(i)return{barcodes:o}},decodeFromImage:function(t){return function(t){for(var e=null,r=0;r<n.length&&null===e;r++)e=n[r].decodeImage?n[r].decodeImage(t):null;return e}(t)},registerReader:function(t,e){if(At[t])throw new Error("cannot register existing reader",t);At[t]=e},setReaders:function(e){t.readers=e,n.length=0,r()}}}},jt=function(){var t={};function e(e){return t[e]||(t[e]={subscribers:[]}),t[e]}function n(t,e){t.async?setTimeout((function(){t.callback(e)}),4):t.callback(e)}function r(t,n,r){var o;if("function"==typeof n)o={callback:n,async:r};else if(!(o=n).callback)throw new Error("Callback was not specified on options");e(t).subscribers.push(o)}return{subscribe:function(t,e,n){return r(t,e,n)},publish:function(t,r){var o=e(t),i=o.subscribers;i.filter((function(t){return!!t.once})).forEach((function(t){n(t,r)})),o.subscribers=i.filter((function(t){return!t.once})),o.subscribers.forEach((function(t){n(t,r)}))},once:function(t,e){r(t,{callback:e,async:arguments.length>2&&void 0!==arguments[2]&&arguments[2],once:!0})},unsubscribe:function(n,r){if(n){var o=e(n);o.subscribers=o&&r?o.subscribers.filter((function(t){return t.callback!==r})):[]}else t={}}}}(),Pt=n(11),Dt=n.n(Pt),Mt=n(20),Tt=n.n(Mt),It=n(84),Lt=n.n(It),qt="This may mean that the user has declined camera access, or the browser does not support media APIs. If you are running in iOS, you must use Safari.";function zt(){try{return navigator.mediaDevices.enumerateDevices()}catch(e){var t=new Error("enumerateDevices is not defined. ".concat(qt));return t.code=-1,Promise.reject(t)}}function Nt(t){try{return navigator.mediaDevices.getUserMedia(t)}catch(t){var e=new Error("getUserMedia is not defined. ".concat(qt));return e.code=-1,Promise.reject(e)}}function Ut(t){return new Promise((function(e,n){var r=10;!function o(){r>0?t.videoWidth>10&&t.videoHeight>10?e():window.setTimeout(o,500):n(new Error("Unable to play video stream. Is webcam working?")),r--}()}))}function Bt(t,e){return Ft.apply(this,arguments)}function Ft(){return(Ft=Tt()(Dt.a.mark((function t(e,n){var r;return Dt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Nt(n);case 2:if(r=t.sent,Et=r,!e){t.next=11;break}return e.setAttribute("autoplay","true"),e.setAttribute("muted","true"),e.setAttribute("playsinline","true"),e.srcObject=r,e.addEventListener("loadedmetadata",(function(){e.play()})),t.abrupt("return",Ut(e));case 11:return t.abrupt("return",Promise.resolve());case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Wt(t){var e=Lt()(t,["width","height","facingMode","aspectRatio","deviceId"]);return void 0!==t.minAspectRatio&&t.minAspectRatio>0&&(e.aspectRatio=t.minAspectRatio,console.log("WARNING: Constraint 'minAspectRatio' is deprecated; Use 'aspectRatio' instead")),void 0!==t.facing&&(e.facingMode=t.facing,console.log("WARNING: Constraint 'facing' is deprecated. Use 'facingMode' instead'")),e}function Vt(){var t=Wt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return t&&t.deviceId&&t.facingMode&&delete t.facingMode,Promise.resolve({audio:!1,video:t})}function Gt(){return(Gt=Tt()(Dt.a.mark((function t(){var e;return Dt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,zt();case 2:return e=t.sent,t.abrupt("return",e.filter((function(t){return"videoinput"===t.kind})));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ht(){if(!Et)return null;var t=Et.getVideoTracks();return t&&null!=t&&t.length?t[0]:null}var Kt={requestedVideoElement:null,request:function(t,e){return Tt()(Dt.a.mark((function n(){var r;return Dt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return Kt.requestedVideoElement=t,n.next=3,Vt(e);case 3:return r=n.sent,n.abrupt("return",Bt(t,r));case 5:case"end":return n.stop()}}),n)})))()},release:function(){var t=Et&&Et.getVideoTracks();return null!==Kt.requestedVideoElement&&Kt.requestedVideoElement.pause(),new Promise((function(e){setTimeout((function(){t&&t.length&&t[0].stop(),Et=null,Kt.requestedVideoElement=null,e()}),0)}))},enumerateVideoDevices:function(){return Gt.apply(this,arguments)},getActiveStreamLabel:function(){var t=Ht();return t?t.label:""},getActiveTrack:Ht},Jt=Kt,Xt={create:function(t){var e,n=document.createElement("canvas"),r=n.getContext("2d"),o=[],i=null!==(e=t.capacity)&&void 0!==e?e:20,a=!0===t.capture;function s(e){return!!i&&e&&!function(t,e){return e&&e.some((function(e){return Object.keys(e).every((function(n){return e[n]===t[n]}))}))}(e,t.blacklist)&&function(t,e){return"function"!=typeof e||e(t)}(e,t.filter)}return{addResult:function(t,e,c){var u={};s(c)&&(i--,u.codeResult=c,a&&(n.width=e.x,n.height=e.y,d.a.drawImage(t,e,r),u.frame=n.toDataURL()),o.push(u))},getResults:function(){return o}}}},Qt={inputStream:{name:"Live",type:"LiveStream",constraints:{width:640,height:480,facingMode:"environment"},area:{top:"0%",right:"0%",left:"0%",bottom:"0%"},singleChannel:!1},locate:!0,numOfWorkers:4,decoder:{readers:["code_128_reader"]},locator:{halfSample:!0,patchSize:"medium"}},Yt=n(7),Zt=function t(){p()(this,t),O()(this,"config",void 0),O()(this,"inputStream",void 0),O()(this,"framegrabber",void 0),O()(this,"inputImageWrapper",void 0),O()(this,"stopped",!1),O()(this,"boxSize",void 0),O()(this,"resultCollector",void 0),O()(this,"decoder",void 0),O()(this,"workerPool",[]),O()(this,"onUIThread",!0),O()(this,"canvasContainer",new ee)},te=function t(){p()(this,t),O()(this,"image",void 0),O()(this,"overlay",void 0)},ee=function t(){p()(this,t),O()(this,"ctx",void 0),O()(this,"dom",void 0),this.ctx=new te,this.dom=new te},ne=n(23);function re(t){if("undefined"==typeof document)return null;if(t instanceof HTMLElement&&t.nodeName&&1===t.nodeType)return t;var e="string"==typeof t?t:"#interactive.viewport";return document.querySelector(e)}function oe(t,e){var n=function(t,e){var n=document.querySelector(t);return n||((n=document.createElement("canvas")).className=e),n}(t,e),r=n.getContext("2d");return{canvas:n,context:r}}function ie(t){var e,n,r,o,i=re(null==t||null===(e=t.config)||void 0===e||null===(n=e.inputStream)||void 0===n?void 0:n.target),a=null==t||null===(r=t.config)||void 0===r||null===(o=r.inputStream)||void 0===o?void 0:o.type;if(!a)return null;var s=function(t){if("undefined"!=typeof document){var e=oe("canvas.imgBuffer","imgBuffer"),n=oe("canvas.drawingBuffer","drawingBuffer");return e.canvas.width=n.canvas.width=t.x,e.canvas.height=n.canvas.height=t.y,{dom:{image:e.canvas,overlay:n.canvas},ctx:{image:e.context,overlay:n.context}}}return null}(t.inputStream.getCanvasSize());if(!s)return{dom:{image:null,overlay:null},ctx:{image:null,overlay:null}};var c=s.dom;return"undefined"!=typeof document&&i&&("ImageStream"!==a||i.contains(c.image)||i.appendChild(c.image),i.contains(c.overlay)||i.appendChild(c.overlay)),s}var ae={274:"orientation"},se=Object.keys(ae).map((function(t){return ae[t]}));function ce(t){return new Promise((function(e){var n=new FileReader;n.onload=function(t){return e(t.target.result)},n.readAsArrayBuffer(t)}))}function ue(t){return new Promise((function(e,n){var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="blob",r.onreadystatechange=function(){r.readyState!==XMLHttpRequest.DONE||200!==r.status&&0!==r.status||e(this.response)},r.onerror=n,r.send()}))}function le(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:se,n=new DataView(t),r=t.byteLength,o=e.reduce((function(t,e){var n=Object.keys(ae).filter((function(t){return ae[t]===e}))[0];return n&&(t[n]=e),t}),{}),i=2;if(255!==n.getUint8(0)||216!==n.getUint8(1))return!1;for(;i<r;){if(255!==n.getUint8(i))return!1;if(225===n.getUint8(i+1))return fe(n,i+4,o);i+=2+n.getUint16(i+2)}return!1}function fe(t,e,n){if("Exif"!==function(t,e,n){for(var r="",o=e;o<e+n;o++)r+=String.fromCharCode(t.getUint8(o));return r}(t,e,4))return!1;var r,o=e+6;if(18761===t.getUint16(o))r=!1;else{if(19789!==t.getUint16(o))return!1;r=!0}if(42!==t.getUint16(o+2,!r))return!1;var i=t.getUint32(o+4,!r);return!(i<8)&&function(t,e,n,r,o){for(var i=t.getUint16(n,!o),a={},s=0;s<i;s++){var c=n+12*s+2,u=r[t.getUint16(c,!o)];u&&(a[u]=de(t,c,e,n,o))}return a}(t,o,o+i,n,r)}function de(t,e,n,r,o){var i=t.getUint16(e+2,!o),a=t.getUint32(e+4,!o);switch(i){case 3:if(1===a)return t.getUint16(e+8,!o)}return null}var he={};function pe(t,e){t.onload=function(){e.loaded(this)}}he.load=function(t,e,n,r,o){var i,a,s,c=new Array(r),u=new Array(c.length);if(!1===o)c[0]=t;else for(i=0;i<c.length;i++)s=n+i,c[i]="".concat(t,"image-").concat("00".concat(s).slice(-3),".jpg");for(u.notLoaded=[],u.addImage=function(t){u.notLoaded.push(t)},u.loaded=function(n){for(var r=u.notLoaded,i=0;i<r.length;i++)if(r[i]===n){r.splice(i,1);for(var a=0;a<c.length;a++){var s=c[a].substr(c[a].lastIndexOf("/"));if(-1!==n.src.lastIndexOf(s)){u[a]={img:n};break}}break}0===r.length&&(!1===o?function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:se;return/^blob:/i.test(t)?ue(t).then(ce).then((function(t){return le(t,e)})):Promise.resolve(null)}(t,["orientation"]).then((function(t){u[0].tags=t,e(u)})).catch((function(t){console.log(t),e(u)})):e(u))},i=0;i<c.length;i++)a=new Image,u.addImage(a),pe(a,u),a.src=c[i]};var ve=he,ge={createVideoStream:function(t){var e,n,r=null,o=["canrecord","ended"],i={},a={x:0,y:0,type:"Point"},s={x:0,y:0,type:"XYSize"},c={getRealWidth:function(){return t.videoWidth},getRealHeight:function(){return t.videoHeight},getWidth:function(){return e},getHeight:function(){return n},setWidth:function(t){e=t},setHeight:function(t){n=t},setInputStream:function(t){r=t,this.setAttribute("src",void 0!==t.src?t.src:"")},ended:function(){return t.ended},getConfig:function(){return r},setAttribute:function(e,n){t&&t.setAttribute(e,n)},pause:function(){t.pause()},play:function(){t.play()},setCurrentTime:function(t){var e;"LiveStream"!==(null===(e=r)||void 0===e?void 0:e.type)&&this.setAttribute("currentTime",t.toString())},addEventListener:function(e,n,r){-1!==o.indexOf(e)?(i[e]||(i[e]=[]),i[e].push(n)):t.addEventListener(e,n,r)},clearEventHandlers:function(){o.forEach((function(e){var n=i[e];n&&n.length>0&&n.forEach((function(n){t.removeEventListener(e,n)}))}))},trigger:function(o,a){var u,l,f,d,h,p=i[o];if("canrecord"===o&&(d=t.videoWidth,h=t.videoHeight,e=null!==(l=r)&&void 0!==l&&l.size?d/h>1?r.size:Math.floor(d/h*r.size):d,n=null!==(f=r)&&void 0!==f&&f.size?d/h>1?Math.floor(h/d*r.size):r.size:h,s.x=e,s.y=n),p&&p.length>0)for(u=0;u<p.length;u++)p[u].apply(c,a)},setTopRight:function(t){a.x=t.x,a.y=t.y},getTopRight:function(){return a},setCanvasSize:function(t){s.x=t.x,s.y=t.y},getCanvasSize:function(){return s},getFrame:function(){return t}};return c},createLiveStream:function(t){t&&t.setAttribute("autoplay","true");var e=ge.createVideoStream(t);return e.ended=function(){return!1},e},createImageStream:function(){var t,e,n=null,r=0,o=0,i=0,a=!0,s=!1,c=null,u=0,l=null,f=!1,d=["canrecord","ended"],h={},p={x:0,y:0,type:"Point"},v={x:0,y:0,type:"XYSize"};function g(t,e){var n,r=h[t];if(r&&r.length>0)for(n=0;n<r.length;n++)r[n].apply(m,e)}var m={trigger:g,getWidth:function(){return t},getHeight:function(){return e},setWidth:function(e){t=e},setHeight:function(t){e=t},getRealWidth:function(){return r},getRealHeight:function(){return o},setInputStream:function(a){var f;n=a,!1===a.sequence?(l=a.src,u=1):(l=a.src,u=a.length),s=!1,ve.load(l,(function(a){var u,l;if(c=a,a[0].tags&&a[0].tags.orientation)switch(a[0].tags.orientation){case 6:case 8:r=a[0].img.height,o=a[0].img.width;break;default:r=a[0].img.width,o=a[0].img.height}else r=a[0].img.width,o=a[0].img.height;t=null!==(u=n)&&void 0!==u&&u.size?r/o>1?n.size:Math.floor(r/o*n.size):r,e=null!==(l=n)&&void 0!==l&&l.size?r/o>1?Math.floor(o/r*n.size):n.size:o,v.x=t,v.y=e,s=!0,i=0,setTimeout((function(){g("canrecord",[])}),0)}),1,u,null===(f=n)||void 0===f?void 0:f.sequence)},ended:function(){return f},setAttribute:function(){},getConfig:function(){return n},pause:function(){a=!0},play:function(){a=!1},setCurrentTime:function(t){i=t},addEventListener:function(t,e){-1!==d.indexOf(t)&&(h[t]||(h[t]=[]),h[t].push(e))},clearEventHandlers:function(){Object.keys(h).forEach((function(t){return delete h[t]}))},setTopRight:function(t){p.x=t.x,p.y=t.y},getTopRight:function(){return p},setCanvasSize:function(t){v.x=t.x,v.y=t.y},getCanvasSize:function(){return v},getFrame:function(){var t,e;return s?(a||(t=null===(e=c)||void 0===e?void 0:e[i],i<u-1?i++:setTimeout((function(){f=!0,g("ended",[])}),0)),t):null}};return m}},me=ge,ye=n(9),_e=Math.PI/180,be={create:function(t,e){var n,r={},o=t.getConfig(),i=(Object(ye.h)(t.getRealWidth(),t.getRealHeight()),t.getCanvasSize()),a=Object(ye.h)(t.getWidth(),t.getHeight()),s=t.getTopRight(),c=s.x,u=s.y,l=null,f=null;return(n=e||document.createElement("canvas")).width=i.x,n.height=i.y,l=n.getContext("2d"),f=new Uint8Array(a.x*a.y),r.attachData=function(t){f=t},r.getData=function(){return f},r.grab=function(){var e,r=o.halfSample,s=t.getFrame(),d=s,h=0;if(d){if(function(t,e){t.width!==e.x&&(t.width=e.x),t.height!==e.y&&(t.height=e.y)}(n,i),"ImageStream"===o.type&&(d=s.img,s.tags&&s.tags.orientation))switch(s.tags.orientation){case 6:h=90*_e;break;case 8:h=-90*_e}return 0!==h?(l.translate(i.x/2,i.y/2),l.rotate(h),l.drawImage(d,-i.y/2,-i.x/2,i.y,i.x),l.rotate(-h),l.translate(-i.x/2,-i.y/2)):l.drawImage(d,0,0,i.x,i.y),e=l.getImageData(c,u,a.x,a.y).data,r?Object(ye.e)(e,a,f):Object(ye.c)(e,f,o),!0}return!1},r.getSize=function(){return a},r}};function we(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function xe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?we(Object(n),!0).forEach((function(e){O()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var $e=[];function ke(t){return xe(xe({},t),{},{inputStream:xe(xe({},t.inputStream),{},{target:null})})}function Ce(t){if(t){var e=t().default;if(!e)return void self.postMessage({event:"error",message:"Quagga could not be created"})}var n;function r(t){self.postMessage({event:"processed",imageData:n.data,result:t},[n.data.buffer])}function o(){self.postMessage({event:"initialized",imageData:n.data},[n.data.buffer])}self.onmessage=function(t){if("init"===t.data.cmd){var i=t.data.config;i.numOfWorkers=0,n=new e.ImageWrapper({x:t.data.size.x,y:t.data.size.y},new Uint8Array(t.data.imageData)),e.init(i,o,n),e.onProcessed(r)}else"process"===t.data.cmd?(n.data=new Uint8Array(t.data.imageData),e.start()):"setReaders"===t.data.cmd?e.setReaders(t.data.readers):"registerReader"===t.data.cmd&&e.registerReader(t.data.name,t.data.reader)}}function Oe(t,e,n){var r,o,i=("undefined"!=typeof __factorySource__&&(o=__factorySource__),r=new Blob(["("+Ce.toString()+")("+o+");"],{type:"text/javascript"}),window.URL.createObjectURL(r)),a={worker:new Worker(i),imageData:new Uint8Array(e.getWidth()*e.getHeight()),busy:!0};a.worker.onmessage=function(t){"initialized"===t.data.event?(URL.revokeObjectURL(i),a.busy=!1,a.imageData=new Uint8Array(t.data.imageData),n(a)):"processed"===t.data.event?(a.imageData=new Uint8Array(t.data.imageData),a.busy=!1):t.data.event},a.worker.postMessage({cmd:"init",size:{x:e.getWidth(),y:e.getHeight()},imageData:a.imageData,config:ke(t)},[a.imageData.buffer])}function Ee(t,e,n,r){var o=t-$e.length;if(0===o&&r)r();else if(o<0)$e.slice(o).forEach((function(t){t.worker.terminate()})),$e=$e.slice(0,o),r&&r();else{var i=function(e){$e.push(e),$e.length>=t&&r&&r()};if(e)for(var a=0;a<o;a++)Oe(e,n,i)}}function Se(t,e,n){for(var r=t.length;r--;)t[r][0]+=e,t[r][1]+=n}var Ae=function(){function t(){var e=this;p()(this,t),O()(this,"context",new Zt),O()(this,"canRecord",(function(t){var n;e.context.config&&(ne.a.checkImageConstraints(e.context.inputStream,null===(n=e.context.config)||void 0===n?void 0:n.locator),e.initCanvas(),e.context.framegrabber=be.create(e.context.inputStream,e.context.canvasContainer.dom.image),void 0===e.context.config.numOfWorkers&&(e.context.config.numOfWorkers=0),Ee(e.context.config.numOfWorkers,e.context.config,e.context.inputStream,(function(){var n;0===(null===(n=e.context.config)||void 0===n?void 0:n.numOfWorkers)&&e.initializeData(),e.ready(t)})))})),O()(this,"update",(function(){if(e.context.onUIThread){var t,n=(o=e.context.framegrabber,$e.length?!!(i=$e.filter((function(t){return!t.busy}))[0])&&(o.attachData(i.imageData),o.grab()&&(i.busy=!0,i.worker.postMessage({cmd:"process",imageData:i.imageData},[i.imageData.buffer])),!0):null);n||(e.context.framegrabber.attachData(null===(t=e.context.inputImageWrapper)||void 0===t?void 0:t.data),e.context.framegrabber.grab()&&(n||e.locateAndDecode()))}else{var r;e.context.framegrabber.attachData(null===(r=e.context.inputImageWrapper)||void 0===r?void 0:r.data),e.context.framegrabber.grab(),e.locateAndDecode()}var o,i}))}var e;return g()(t,[{key:"initBuffers",value:function(t){if(this.context.config){var e=function(t,e,n){var r=e||new s.a({x:t.getWidth(),y:t.getHeight(),type:"XYSize"}),o=[Object(Yt.clone)([0,0]),Object(Yt.clone)([0,r.size.y]),Object(Yt.clone)([r.size.x,r.size.y]),Object(Yt.clone)([r.size.x,0])];return ne.a.init(r,n),{inputImageWrapper:r,boxSize:o}}(this.context.inputStream,t,this.context.config.locator),n=e.inputImageWrapper,r=e.boxSize;this.context.inputImageWrapper=n,this.context.boxSize=r}}},{key:"initializeData",value:function(t){this.context.config&&(this.initBuffers(t),this.context.decoder=Rt.create(this.context.config.decoder,this.context.inputImageWrapper))}},{key:"getViewPort",value:function(){return this.context.config&&this.context.config.inputStream?re(this.context.config.inputStream.target):null}},{key:"ready",value:function(t){this.context.inputStream.play(),t()}},{key:"initCanvas",value:function(){var t=ie(this.context);if(t){var e=t.ctx,n=t.dom;this.context.canvasContainer.dom.image=n.image,this.context.canvasContainer.dom.overlay=n.overlay,this.context.canvasContainer.ctx.image=e.image,this.context.canvasContainer.ctx.overlay=e.overlay}}},{key:"initInputStream",value:function(t){if(this.context.config&&this.context.config.inputStream){var e=this.context.config.inputStream,n=e.type,r=e.constraints,o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"LiveStream",e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;switch(t){case"VideoStream":var r=document.createElement("video");return{video:r,inputStream:n.createVideoStream(r)};case"ImageStream":return{inputStream:n.createImageStream()};case"LiveStream":var o=null;return e&&((o=e.querySelector("video"))||(o=document.createElement("video"),e.appendChild(o))),{video:o,inputStream:n.createLiveStream(o)};default:return console.error("* setupInputStream invalid type ".concat(t)),{video:null,inputStream:null}}}(n,this.getViewPort(),me),i=o.video,a=o.inputStream;"LiveStream"===n&&i&&Jt.request(i,r).then((function(){return a.trigger("canrecord")})).catch((function(e){return t(e)})),a.setAttribute("preload","auto"),a.setInputStream(this.context.config.inputStream),a.addEventListener("canrecord",this.canRecord.bind(void 0,t)),this.context.inputStream=a}}},{key:"getBoundingBoxes",value:function(){var t;return null!==(t=this.context.config)&&void 0!==t&&t.locate?ne.a.locate():[[Object(Yt.clone)(this.context.boxSize[0]),Object(Yt.clone)(this.context.boxSize[1]),Object(Yt.clone)(this.context.boxSize[2]),Object(Yt.clone)(this.context.boxSize[3])]]}},{key:"transformResult",value:function(t){var e=this,n=this.context.inputStream.getTopRight(),r=n.x,o=n.y;if((0!==r||0!==o)&&(t.barcodes&&t.barcodes.forEach((function(t){return e.transformResult(t)})),t.line&&2===t.line.length&&function(t,e,n){t[0].x+=e,t[0].y+=n,t[1].x+=e,t[1].y+=n}(t.line,r,o),t.box&&Se(t.box,r,o),t.boxes&&t.boxes.length>0))for(var i=0;i<t.boxes.length;i++)Se(t.boxes[i],r,o)}},{key:"addResult",value:function(t,e){var n=this;e&&this.context.resultCollector&&(t.barcodes?t.barcodes.filter((function(t){return t.codeResult})).forEach((function(t){return n.addResult(t,e)})):t.codeResult&&this.context.resultCollector.addResult(e,this.context.inputStream.getCanvasSize(),t.codeResult))}},{key:"hasCodeResult",value:function(t){return!(!t||!(t.barcodes?t.barcodes.some((function(t){return t.codeResult})):t.codeResult))}},{key:"publishResult",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0,n=t;t&&this.context.onUIThread&&(this.transformResult(t),this.addResult(t,e),n=t.barcodes||t),jt.publish("processed",n),this.hasCodeResult(t)&&jt.publish("detected",n)}},{key:"locateAndDecode",value:function(){var t=this.getBoundingBoxes();if(t){var e,n=this.context.decoder.decodeFromBoundingBoxes(t)||{};n.boxes=t,this.publishResult(n,null===(e=this.context.inputImageWrapper)||void 0===e?void 0:e.data)}else{var r,o=this.context.decoder.decodeFromImage(this.context.inputImageWrapper);o?this.publishResult(o,null===(r=this.context.inputImageWrapper)||void 0===r?void 0:r.data):this.publishResult()}}},{key:"startContinuousUpdate",value:function(){var t,e=this,n=null,r=1e3/((null===(t=this.context.config)||void 0===t?void 0:t.frequency)||60);this.context.stopped=!1;var o=this.context;!function t(i){n=n||i,o.stopped||(i>=n&&(n+=r,e.update()),window.requestAnimationFrame(t))}(performance.now())}},{key:"start",value:function(){var t,e;this.context.onUIThread&&"LiveStream"===(null===(t=this.context.config)||void 0===t||null===(e=t.inputStream)||void 0===e?void 0:e.type)?this.startContinuousUpdate():this.update()}},{key:"stop",value:(e=Tt()(Dt.a.mark((function t(){var e;return Dt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.context.stopped=!0,Ee(0),null===(e=this.context.config)||void 0===e||!e.inputStream||"LiveStream"!==this.context.config.inputStream.type){t.next=6;break}return t.next=5,Jt.release();case 5:this.context.inputStream.clearEventHandlers();case 6:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"setReaders",value:function(t){this.context.decoder&&this.context.decoder.setReaders(t),function(t){$e.forEach((function(e){return e.worker.postMessage({cmd:"setReaders",readers:t})}))}(t)}},{key:"registerReader",value:function(t,e){Rt.registerReader(t,e),this.context.decoder&&this.context.decoder.registerReader(t,e),function(t,e){$e.forEach((function(n){return n.worker.postMessage({cmd:"registerReader",name:t,reader:e})}))}(t,e)}}]),t}(),Re=new Ae,je=Re.context,Pe={init:function(t,e,n){var r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Re;return e||(r=new Promise((function(t,n){e=function(e){e?n(e):t()}}))),o.context.config=a()({},Qt,t),o.context.config.numOfWorkers>0&&(o.context.config.numOfWorkers=0),n?(o.context.onUIThread=!1,o.initializeData(n),e&&e()):o.initInputStream(e),r},start:function(){return Re.start()},stop:function(){return Re.stop()},pause:function(){je.stopped=!0},onDetected:function(t){t&&("function"==typeof t||"object"===o()(t)&&t.callback)?jt.subscribe("detected",t):console.trace("* warning: Quagga.onDetected called with invalid callback, ignoring")},offDetected:function(t){jt.unsubscribe("detected",t)},onProcessed:function(t){t&&("function"==typeof t||"object"===o()(t)&&t.callback)?jt.subscribe("processed",t):console.trace("* warning: Quagga.onProcessed called with invalid callback, ignoring")},offProcessed:function(t){jt.unsubscribe("processed",t)},setReaders:function(t){t?Re.setReaders(t):console.trace("* warning: Quagga.setReaders called with no readers, ignoring")},registerReader:function(t,e){t?e?Re.registerReader(t,e):console.trace("* warning: Quagga.registerReader called with no reader, ignoring"):console.trace("* warning: Quagga.registerReader called with no name, ignoring")},registerResultCollector:function(t){t&&"function"==typeof t.addResult&&(je.resultCollector=t)},get canvas(){return je.canvasContainer},decodeSingle:function(t,e){var n=this,r=new Ae;return(t=a()({inputStream:{type:"ImageStream",sequence:!1,size:800,src:t.src},numOfWorkers:1,locator:{halfSample:!1}},t)).numOfWorkers>0&&(t.numOfWorkers=0),t.numOfWorkers>0&&("undefined"==typeof Blob||"undefined"==typeof Worker)&&(console.warn("* no Worker and/or Blob support - forcing numOfWorkers to 0"),t.numOfWorkers=0),new Promise((function(o,i){try{n.init(t,(function(){jt.once("processed",(function(t){r.stop(),e&&e.call(null,t),o(t)}),!0),r.start()}),null,r)}catch(t){i(t)}}))},get default(){return Pe},BarcodeReader:S,CameraAccess:Jt,ImageDebug:d.a,ImageWrapper:s.a,ResultCollector:Xt};e.default=Pe}]).default})));function el(e){let n;return{c(){n=S("div")},m(t,r){C(t,n,r),e[1](n)},p:t,i:t,o:t,d(t){t&&O(n),e[1](null)}}}function nl(t,e,n){const r=Q();let o;var i=null,a=null;function s(t){console.log(t),tl.stop(),console.log("dispatching message"),r("message",{type:"code",code:t.codeResult.code})}return navigator.mediaDevices.enumerateDevices().then((function(t){t.forEach((function(t){console.log(t),"videoinput"==t.kind&&null!==t.label.match(/back/)&&(i=t.deviceId),"videoinput"===t.kind&&(a=t.deviceId)})),null===i&&(i=a)})).catch((function(t){})),console.log("Camera selected"),console.log(i),X((()=>{tl.stop()})),J((()=>{console.log(o),console.log("Camera"),console.log(i),tl.init({inputStream:{name:"Live",type:"LiveStream",target:o},constraints:{width:320,height:240,video:{mandatory:{minWidth:{min:1280},minHeight:{min:720}},facingMode:"environment",deviceId:i}},showCanvas:!1,locator:!1,decoder:{readers:["ean_reader"]}},(function(t){t?console.log(t):(console.log("Initialization finished. Ready to start"),tl.start(),tl.onDetected(s))}))})),[o,function(t){tt[t?"unshift":"push"]((()=>{o=t,n(0,o)}))}]}class rl extends Tt{constructor(t){super(),Mt(this,t,nl,el,s,{})}}function ol(e){let n,r;return n=new Ia({props:{icon:"calendar_view_day",iconClass:"text-white transform rotate-90",color:"white",flat:!0,text:!0}}),n.$on("click",e[7]),{c(){jt(n.$$.fragment)},m(t,e){Pt(n,t,e),r=!0},p:t,i(t){r||(bt(n.$$.fragment,t),r=!0)},o(t){wt(n.$$.fragment,t),r=!1},d(t){Dt(n,t)}}}function il(e){let n,r;return n=new mu({props:{size:"50",color:"alert"}}),{c(){jt(n.$$.fragment)},m(t,e){Pt(n,t,e),r=!0},p:t,i(t){r||(bt(n.$$.fragment,t),r=!0)},o(t){wt(n.$$.fragment,t),r=!1},d(t){Dt(n,t)}}}function al(t){let e,n,r,o,i,a,s,c,u,l,f,d,h=t[3].product+"";n=new Ia({props:{icon:"keyboard_backspace",flat:!0,color:"white",text:!0}}),n.$on("click",t[5]),s=new Ha({});const p=[il,ol],v=[];function g(t,e){return t[2]?0:1}return u=g(t),l=v[u]=p[u](t),{c(){e=S("div"),jt(n.$$.fragment),r=j(),o=S("h6"),i=R(h),a=j(),jt(s.$$.fragment),c=j(),l.c(),f=P(),M(e,"class","md:visible"),M(o,"class","md:pl-3 text-white text-lg")},m(t,l){C(t,e,l),Pt(n,e,null),C(t,r,l),C(t,o,l),k(o,i),C(t,a,l),Pt(s,t,l),C(t,c,l),v[u].m(t,l),C(t,f,l),d=!0},p(t,e){(!d||8&e)&&h!==(h=t[3].product+"")&&I(i,h);let n=u;u=g(t),u===n?v[u].p(t,e):(yt(),wt(v[n],1,1,(()=>{v[n]=null})),_t(),l=v[u],l?l.p(t,e):(l=v[u]=p[u](t),l.c()),bt(l,1),l.m(f.parentNode,f))},i(t){d||(bt(n.$$.fragment,t),bt(s.$$.fragment,t),bt(l),d=!0)},o(t){wt(n.$$.fragment,t),wt(s.$$.fragment,t),wt(l),d=!1},d(t){t&&O(e),Dt(n),t&&O(r),t&&O(o),t&&O(a),Dt(s,t),t&&O(c),v[u].d(t),t&&O(f)}}}function sl(e){let n,r;return n=new rl({}),n.$on("message",e[6]),{c(){jt(n.$$.fragment)},m(t,e){Pt(n,t,e),r=!0},p:t,i(t){r||(bt(n.$$.fragment,t),r=!0)},o(t){wt(n.$$.fragment,t),r=!1},d(t){Dt(n,t)}}}function cl(t){let e,n,r;return n=new as({props:{src:t[1].image_url,alt:t[1].produit}}),{c(){e=S("div"),jt(n.$$.fragment),M(e,"class","text-center")},m(t,o){C(t,e,o),Pt(n,e,null),r=!0},p(t,e){const r={};2&e&&(r.src=t[1].image_url),2&e&&(r.alt=t[1].produit),n.$set(r)},i(t){r||(bt(n.$$.fragment,t),r=!0)},o(t){wt(n.$$.fragment,t),r=!1},d(t){t&&O(e),Dt(n)}}}function ul(t){let e,n,r,o,i,a,s,c,u,l,f,d,h,p,v;n=new ru({props:{class:"bg-blue-400",$$slots:{default:[al]},$$scope:{ctx:t}}});let g=t[0]&&sl(t);function m(e){t[9](e)}let y={id:"produit",label:t[3].product,outlined:!0,type:"text",min:"3",max:"100"};function _(e){t[10](e)}void 0!==t[1].produit&&(y.value=t[1].produit),i=new uc({props:y}),tt.push((()=>Rt(i,"value",m)));let b={label:t[3].category,items:t[4],dense:!0,noUnderline:!0,class:"mb-6"};function w(e){t[11](e)}void 0!==t[1].categoryId&&(b.value=t[1].categoryId),c=new pu({props:b}),tt.push((()=>Rt(c,"value",_)));let x={id:"detail",label:t[3].detail,outlined:!0,textarea:!0,type:"text",min:"3",max:"500"};void 0!==t[1].detail&&(x.value=t[1].detail),f=new uc({props:x}),tt.push((()=>Rt(f,"value",w)));let $=null!=t[1].image_url&&""!=t[1].image_url&&cl(t);return{c(){e=S("div"),jt(n.$$.fragment),r=j(),g&&g.c(),o=j(),jt(i.$$.fragment),s=j(),jt(c.$$.fragment),l=j(),jt(f.$$.fragment),h=j(),$&&$.c()},m(t,a){C(t,e,a),Pt(n,e,null),k(e,r),g&&g.m(e,null),k(e,o),Pt(i,e,null),k(e,s),Pt(c,e,null),k(e,l),Pt(f,e,null),k(e,h),$&&$.m(e,null),v=!0},p(t,[r]){const s={};262156&r&&(s.$$scope={dirty:r,ctx:t}),n.$set(s),t[0]?g?(g.p(t,r),1&r&&bt(g,1)):(g=sl(t),g.c(),bt(g,1),g.m(e,o)):g&&(yt(),wt(g,1,1,(()=>{g=null})),_t());const l={};8&r&&(l.label=t[3].product),!a&&2&r&&(a=!0,l.value=t[1].produit,ct((()=>a=!1))),i.$set(l);const h={};8&r&&(h.label=t[3].category),!u&&2&r&&(u=!0,h.value=t[1].categoryId,ct((()=>u=!1))),c.$set(h);const p={};8&r&&(p.label=t[3].detail),!d&&2&r&&(d=!0,p.value=t[1].detail,ct((()=>d=!1))),f.$set(p),null!=t[1].image_url&&""!=t[1].image_url?$?($.p(t,r),2&r&&bt($,1)):($=cl(t),$.c(),bt($,1),$.m(e,null)):$&&(yt(),wt($,1,1,(()=>{$=null})),_t())},i(t){v||(bt(n.$$.fragment,t),bt(g),bt(i.$$.fragment,t),bt(c.$$.fragment,t),bt(f.$$.fragment,t),bt($),p||st((()=>{p=$t(e,Na,{}),p.start()})),v=!0)},o(t){wt(n.$$.fragment,t),wt(g),wt(i.$$.fragment,t),wt(c.$$.fragment,t),wt(f.$$.fragment,t),wt($),v=!1},d(t){t&&O(e),Dt(n),g&&g.d(),Dt(i),Dt(c),Dt(f),$&&$.d()}}}async function ll(t,e){const n=function(t){return"Food"===t?"https://world.openfoodfacts.org":"https://world.openbeautyfacts.org"}(e)+"/api/v0/product/"+t+".json";try{const t=await fetch(n,{method:"GET",headers:{Accept:"application/json","Content-Type":"text/plain"}}),e=await t.json();return 0===e.status?null:e}catch(t){return console.error(t),null}}function fl(t,e,n){let r,o;l(t,Xi,(t=>n(13,r=t))),l(t,Ki,(t=>n(3,o=t)));const i=Q();let{params:a={}}=e;var s=!1,c={},u=!0,f=!1,d=r.map((t=>({value:t._id,text:t.category})));function h(t=!0){""==c.produit&&n(1,c.produit=o.empty,c),Zi.updateItem(c),u=!1,t&&Lu()}async function p(t){n(2,f=!0),console.log(t);var e=await async function(t){var e=await ll(t,"Food");return null!=e||null!=(e=await ll(t,"Beauty"))?e.product:null}(t);null!=e?(n(1,c.produit=e.product_name,c),n(1,c.ean=t,c),n(1,c.image_small_url=e.image_small_url,c),n(1,c.image_url=e.image_url,c),n(1,c.detail=e.brands,c)):i("routeEvent",{action:"displaySnackbar",message:o.scanNotFound,color:"error"}),n(2,f=!1)}return"new"==a.action?(c=Zi.getShoppingListNewItem()).categoryId=null==a.id?"":a.id:null==(c=Zi.getShoppingListItem(a.id))&&(c=Zi.getShoppingListNewItem(),u=!1,Iu("#/")),J((async()=>{document.getElementById("produit").focus()})),X((async()=>{u&&h(!1)})),t.$$set=t=>{"params"in t&&n(8,a=t.params)},[s,c,f,o,d,function(){h()},function(t){n(0,s=!1),console.log("Result from barcode scanner"),console.log(t),"code"==t.detail.type&&p(t.detail.code)},function(){n(0,s=!s)},a,function(e){t.$$.not_equal(c.produit,e)&&(c.produit=e,n(1,c))},function(e){t.$$.not_equal(c.categoryId,e)&&(c.categoryId=e,n(1,c))},function(e){t.$$.not_equal(c.detail,e)&&(c.detail=e,n(1,c))}]}class dl extends Tt{constructor(t){super(),Mt(this,t,fl,ul,s,{params:8})}}function hl(t,e,n){const r=t.slice();return r[8]=e[n],r[9]=e,r[10]=n,r}function pl(t){let e,n,r,o,i,a,s=t[0].categories+"";return n=new Ia({props:{icon:"menu",flat:!0,color:"white",text:!0}}),n.$on("click",t[2]),{c(){e=S("div"),jt(n.$$.fragment),r=j(),o=S("h6"),i=R(s),M(e,"class","md:hidden"),M(o,"class","md:pl-3 text-white text-lg")},m(t,s){C(t,e,s),Pt(n,e,null),C(t,r,s),C(t,o,s),k(o,i),a=!0},p(t,e){(!a||1&e)&&s!==(s=t[0].categories+"")&&I(i,s)},i(t){a||(bt(n.$$.fragment,t),a=!0)},o(t){wt(n.$$.fragment,t),a=!1},d(t){t&&O(e),Dt(n),t&&O(r),t&&O(o)}}}function vl(t,e){let n,r,o,i;function a(t){e[3](t,e[8],e[9],e[10])}let s={type:"category"};return void 0!==e[8]&&(s.item=e[8]),r=new Hu({props:s}),tt.push((()=>Rt(r,"item",a))),{key:t,first:null,c(){n=P(),jt(r.$$.fragment),this.first=n},m(t,e){C(t,n,e),Pt(r,t,e),i=!0},p(t,n){e=t;const i={};!o&&2&n&&(o=!0,i.item=e[8],ct((()=>o=!1))),r.$set(i)},i(t){i||(bt(r.$$.fragment,t),i=!0)},o(t){wt(r.$$.fragment,t),i=!1},d(t){t&&O(n),Dt(r,t)}}}function gl(t){let e,n,r,o,i,a,s,c,u,l=[],f=new Map;n=new ru({props:{class:"bg-blue-400",$$slots:{default:[pl]},$$scope:{ctx:t}}});let d=t[1];const h=t=>t[8]._id;for(let e=0;e<d.length;e+=1){let n=hl(t,d,e),r=h(n);f.set(r,l[e]=vl(r,n))}return s=new Ia({props:{color:"error",icon:"add"}}),s.$on("click",t[4]),{c(){e=S("div"),jt(n.$$.fragment),r=j(),o=S("ul");for(let t=0;t<l.length;t+=1)l[t].c();i=j(),a=S("div"),jt(s.$$.fragment),M(a,"class","fixed px-5 py-5 bottom-0 right-0")},m(t,c){C(t,e,c),Pt(n,e,null),k(e,r),k(e,o);for(let t=0;t<l.length;t+=1)l[t].m(o,null);k(e,i),k(e,a),Pt(s,a,null),u=!0},p(t,[e]){const r={};2049&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r),2&e&&(d=t[1],yt(),l=Et(l,e,h,1,t,d,f,o,Ot,vl,null,hl),_t())},i(t){if(!u){bt(n.$$.fragment,t);for(let t=0;t<d.length;t+=1)bt(l[t]);bt(s.$$.fragment,t),c||st((()=>{c=$t(e,Na,{}),c.start()})),u=!0}},o(t){wt(n.$$.fragment,t);for(let t=0;t<l.length;t+=1)wt(l[t]);wt(s.$$.fragment,t),u=!1},d(t){t&&O(e),Dt(n);for(let t=0;t<l.length;t+=1)l[t].d();Dt(s)}}}function ml(t,e,n){let r,o,i,a;l(t,Hi,(t=>n(5,r=t))),l(t,Tu,(t=>n(6,o=t))),l(t,Ki,(t=>n(0,i=t))),l(t,Xi,(t=>n(1,a=t)));const s=Q();g(Hi,r.startLocation=o,r),Hi.saveParams();return[i,a,function(){s("routeEvent",{action:"openDrawer"})},function(t,e,n,r){n[r]=t,Xi.set(a)},()=>Iu("#/category/new")]}class yl extends Tt{constructor(t){super(),Mt(this,t,ml,gl,s,{})}}function _l(t){let e,n,r,o,i,a,s=t[1].category+"";return n=new Ia({props:{icon:"keyboard_backspace",flat:!0,color:"white",text:!0}}),n.$on("click",t[2]),{c(){e=S("div"),jt(n.$$.fragment),r=j(),o=S("h6"),i=R(s),M(e,"class","md:visible"),M(o,"class","md:pl-3 text-white text-lg")},m(t,s){C(t,e,s),Pt(n,e,null),C(t,r,s),C(t,o,s),k(o,i),a=!0},p(t,e){(!a||2&e)&&s!==(s=t[1].category+"")&&I(i,s)},i(t){a||(bt(n.$$.fragment,t),a=!0)},o(t){wt(n.$$.fragment,t),a=!1},d(t){t&&O(e),Dt(n),t&&O(r),t&&O(o)}}}function bl(t){let e,n,r,o,i,a,s,c,u,l;function f(e){t[4](e)}n=new ru({props:{class:"bg-blue-400",$$slots:{default:[_l]},$$scope:{ctx:t}}});let d={id:"category",label:t[1].category,outlined:!0,type:"text",min:"3",max:"100"};function h(e){t[5](e)}void 0!==t[0].category&&(d.value=t[0].category),o=new uc({props:d}),tt.push((()=>Rt(o,"value",f)));let p={id:"detail",label:t[1].detail,outlined:!0,textarea:!0,type:"text",min:"3",max:"500"};return void 0!==t[0].detail&&(p.value=t[0].detail),s=new uc({props:p}),tt.push((()=>Rt(s,"value",h))),{c(){e=S("div"),jt(n.$$.fragment),r=j(),jt(o.$$.fragment),a=j(),jt(s.$$.fragment)},m(t,i){C(t,e,i),Pt(n,e,null),k(e,r),Pt(o,e,null),k(e,a),Pt(s,e,null),l=!0},p(t,[e]){const r={};258&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r);const a={};2&e&&(a.label=t[1].category),!i&&1&e&&(i=!0,a.value=t[0].category,ct((()=>i=!1))),o.$set(a);const u={};2&e&&(u.label=t[1].detail),!c&&1&e&&(c=!0,u.value=t[0].detail,ct((()=>c=!1))),s.$set(u)},i(t){l||(bt(n.$$.fragment,t),bt(o.$$.fragment,t),bt(s.$$.fragment,t),u||st((()=>{u=$t(e,Na,{}),u.start()})),l=!0)},o(t){wt(n.$$.fragment,t),wt(o.$$.fragment,t),wt(s.$$.fragment,t),l=!1},d(t){t&&O(e),Dt(n),Dt(o),Dt(s)}}}function wl(t,e,n){let r;l(t,Ki,(t=>n(1,r=t)));let{params:o={}}=e;var i={},a=!0;function s(t=!0){""==i.category&&n(0,i.category=r.empty,i),Zi.updateCategory(i),a=!1,t&&Lu()}return"new"==o.action?i=Zi.getCategoryListNewItem():null==(i=Zi.getCategoryListItem(o.id))&&(i=Zi.getCategoryListNewItem(),a=!1,Iu("#/categories")),J((async()=>{document.getElementById("category").focus()})),X((async()=>{a&&s(!1)})),t.$$set=t=>{"params"in t&&n(3,o=t.params)},[i,r,function(){s()},o,function(e){t.$$.not_equal(i.category,e)&&(i.category=e,n(0,i))},function(e){t.$$.not_equal(i.detail,e)&&(i.detail=e,n(0,i))}]}class xl extends Tt{constructor(t){super(),Mt(this,t,wl,bl,s,{params:3})}}function $l(t){let e,n,r,o,i,a,s=t[1].settings+"";return n=new Ia({props:{icon:"menu",flat:!0,color:"white",text:!0}}),n.$on("click",t[3]),{c(){e=S("div"),jt(n.$$.fragment),r=j(),o=S("h6"),i=R(s),M(e,"class","md:hidden"),M(o,"class","md:pl-3 text-white text-lg")},m(t,s){C(t,e,s),Pt(n,e,null),C(t,r,s),C(t,o,s),k(o,i),a=!0},p(t,e){(!a||2&e)&&s!==(s=t[1].settings+"")&&I(i,s)},i(t){a||(bt(n.$$.fragment,t),a=!0)},o(t){wt(n.$$.fragment,t),a=!1},d(t){t&&O(e),Dt(n),t&&O(r),t&&O(o)}}}function kl(t){let e,n,r,o,i,s,c,u,l,f,d,h,p,v,g,m,y,_,b,w,x,$,E,A,P,D,M,T,L,q,z,N,U,B,F,W,V,G,H,K,J,X,Q,Y,Z,et,nt,rt,ot,it,at,ut,lt,ft,dt,ht,pt,vt,gt,mt,yt,_t,xt,kt,Ct,Ot,Et,St=t[1].displaySection+"",At=t[1].fontSize+"",Mt=t[1].couchdbConf+"",Tt=t[1].creditSection+"";function It(e){t[4](e)}n=new ru({props:{class:"bg-blue-400",$$slots:{default:[$l]},$$scope:{ctx:t}}});let Lt={label:t[1].showPurchasedAtTheEnd};function qt(e){t[5](e)}void 0!==t[0].showPurchasedAtTheEnd&&(Lt.checked=t[0].showPurchasedAtTheEnd),d=new Mc({props:Lt}),tt.push((()=>Rt(d,"checked",It)));let zt={label:t[1].allwaysShowDeleteButton};function Nt(e){t[6](e)}void 0!==t[0].allwaysShowDeleteButton&&(zt.checked=t[0].allwaysShowDeleteButton),v=new Mc({props:zt}),tt.push((()=>Rt(v,"checked",qt)));let Ut={label:t[1].showEmptyCategory};function Bt(e){t[7](e)}void 0!==t[0].showEmptyCategory&&(Ut.checked=t[0].showEmptyCategory),y=new Mc({props:Ut}),tt.push((()=>Rt(y,"checked",Nt)));let Ft={label:t[1].longPressToEdit};function Wt(e){t[8](e)}void 0!==t[0].longPressToEdit&&(Ft.checked=t[0].longPressToEdit),w=new Mc({props:Ft}),tt.push((()=>Rt(w,"checked",Bt)));let Vt={label:t[1].language,items:t[2]};function Gt(e){t[9](e)}void 0!==t[0].language&&(Vt.value=t[0].language),E=new pu({props:Vt}),tt.push((()=>Rt(E,"value",Wt))),E.$on("change",(function(){a(Ki.setLocal(t[0].language))&&Ki.setLocal(t[0].language).apply(this,arguments)}));let Ht={classes:"flex-col3",name:"fontSize",items:[{value:"text-sm",label:"A",classes:"text-sm"},{value:"text-base",label:"A",classes:"text-base"},{value:"text-lg",label:"A",classes:"text-lg"}]};function Kt(e){t[10](e)}void 0!==t[0].fontSize&&(Ht.selected=t[0].fontSize),L=new Zc({props:Ht}),tt.push((()=>Rt(L,"selected",Gt)));let Jt={id:"servername",label:t[1].serverName,prepend:"computer",type:"text",min:"3",max:"100"};function Xt(e){t[11](e)}void 0!==t[0].server&&(Jt.value=t[0].server),Q=new uc({props:Jt}),tt.push((()=>Rt(Q,"value",Kt)));let Qt={id:"port",label:t[1].port,prepend:"settings_input_svideo",type:"number",min:"0",max:"9999"};function Yt(e){t[12](e)}void 0!==t[0].port&&(Qt.value=t[0].port),et=new uc({props:Qt}),tt.push((()=>Rt(et,"value",Xt)));let Zt={id:"database",label:t[1].databaseName,prepend:"folder_open",type:"text",min:"3",max:"100"};return void 0!==t[0].database&&(Zt.value=t[0].database),ot=new uc({props:Zt}),tt.push((()=>Rt(ot,"value",Yt))),{c(){e=S("div"),jt(n.$$.fragment),r=j(),o=S("h6"),i=S("b"),s=S("u"),c=R(St),u=j(),l=S("br"),f=j(),jt(d.$$.fragment),p=j(),jt(v.$$.fragment),m=j(),jt(y.$$.fragment),b=j(),jt(w.$$.fragment),$=j(),jt(E.$$.fragment),P=j(),D=S("span"),M=R(At),T=j(),jt(L.$$.fragment),z=j(),N=S("hr"),U=j(),B=S("br"),F=j(),W=S("h6"),V=S("b"),G=S("u"),H=R(Mt),K=j(),J=S("br"),X=j(),jt(Q.$$.fragment),Z=j(),jt(et.$$.fragment),rt=j(),jt(ot.$$.fragment),at=j(),ut=S("hr"),lt=j(),ft=S("br"),dt=j(),ht=S("h6"),pt=S("b"),vt=S("u"),gt=R(Tt),mt=j(),yt=S("br"),_t=j(),xt=S("p"),xt.textContent="Icon made by Smashicons from www.flaticon.com",kt=j(),Ct=S("p"),Ct.textContent="Material icons by Google"},m(t,a){C(t,e,a),Pt(n,e,null),k(e,r),k(e,o),k(o,i),k(i,s),k(s,c),k(e,u),k(e,l),k(e,f),Pt(d,e,null),k(e,p),Pt(v,e,null),k(e,m),Pt(y,e,null),k(e,b),Pt(w,e,null),k(e,$),Pt(E,e,null),k(e,P),k(e,D),k(D,M),k(e,T),Pt(L,e,null),k(e,z),k(e,N),k(e,U),k(e,B),k(e,F),k(e,W),k(W,V),k(V,G),k(G,H),k(e,K),k(e,J),k(e,X),Pt(Q,e,null),k(e,Z),Pt(et,e,null),k(e,rt),Pt(ot,e,null),k(e,at),k(e,ut),k(e,lt),k(e,ft),k(e,dt),k(e,ht),k(ht,pt),k(pt,vt),k(vt,gt),k(e,mt),k(e,yt),k(e,_t),k(e,xt),k(e,kt),k(e,Ct),Et=!0},p(e,[r]){t=e;const o={};65538&r&&(o.$$scope={dirty:r,ctx:t}),n.$set(o),(!Et||2&r)&&St!==(St=t[1].displaySection+"")&&I(c,St);const i={};2&r&&(i.label=t[1].showPurchasedAtTheEnd),!h&&1&r&&(h=!0,i.checked=t[0].showPurchasedAtTheEnd,ct((()=>h=!1))),d.$set(i);const a={};2&r&&(a.label=t[1].allwaysShowDeleteButton),!g&&1&r&&(g=!0,a.checked=t[0].allwaysShowDeleteButton,ct((()=>g=!1))),v.$set(a);const s={};2&r&&(s.label=t[1].showEmptyCategory),!_&&1&r&&(_=!0,s.checked=t[0].showEmptyCategory,ct((()=>_=!1))),y.$set(s);const u={};2&r&&(u.label=t[1].longPressToEdit),!x&&1&r&&(x=!0,u.checked=t[0].longPressToEdit,ct((()=>x=!1))),w.$set(u);const l={};2&r&&(l.label=t[1].language),4&r&&(l.items=t[2]),!A&&1&r&&(A=!0,l.value=t[0].language,ct((()=>A=!1))),E.$set(l),(!Et||2&r)&&At!==(At=t[1].fontSize+"")&&I(M,At);const f={};!q&&1&r&&(q=!0,f.selected=t[0].fontSize,ct((()=>q=!1))),L.$set(f),(!Et||2&r)&&Mt!==(Mt=t[1].couchdbConf+"")&&I(H,Mt);const p={};2&r&&(p.label=t[1].serverName),!Y&&1&r&&(Y=!0,p.value=t[0].server,ct((()=>Y=!1))),Q.$set(p);const m={};2&r&&(m.label=t[1].port),!nt&&1&r&&(nt=!0,m.value=t[0].port,ct((()=>nt=!1))),et.$set(m);const b={};2&r&&(b.label=t[1].databaseName),!it&&1&r&&(it=!0,b.value=t[0].database,ct((()=>it=!1))),ot.$set(b),(!Et||2&r)&&Tt!==(Tt=t[1].creditSection+"")&&I(gt,Tt)},i(t){Et||(bt(n.$$.fragment,t),bt(d.$$.fragment,t),bt(v.$$.fragment,t),bt(y.$$.fragment,t),bt(w.$$.fragment,t),bt(E.$$.fragment,t),bt(L.$$.fragment,t),bt(Q.$$.fragment,t),bt(et.$$.fragment,t),bt(ot.$$.fragment,t),Ot||st((()=>{Ot=$t(e,Na,{}),Ot.start()})),Et=!0)},o(t){wt(n.$$.fragment,t),wt(d.$$.fragment,t),wt(v.$$.fragment,t),wt(y.$$.fragment,t),wt(w.$$.fragment,t),wt(E.$$.fragment,t),wt(L.$$.fragment,t),wt(Q.$$.fragment,t),wt(et.$$.fragment,t),wt(ot.$$.fragment,t),Et=!1},d(t){t&&O(e),Dt(n),Dt(d),Dt(v),Dt(y),Dt(w),Dt(E),Dt(L),Dt(Q),Dt(et),Dt(ot)}}}function Cl(t,e,n){let r,o,i,a;l(t,Hi,(t=>n(0,r=t))),l(t,Tu,(t=>n(14,o=t))),l(t,Ki,(t=>n(1,i=t))),l(t,Gi,(t=>n(2,a=t)));const s=Q();return g(Hi,r.startLocation=o,r),X((async()=>{Zi.openDb()})),t.$$.update=()=>{1&t.$$.dirty&&(r.server,Hi.saveParams())},[r,i,a,function(){s("routeEvent",{action:"openDrawer"})},function(e){t.$$.not_equal(r.showPurchasedAtTheEnd,e)&&(r.showPurchasedAtTheEnd=e,Hi.set(r))},function(e){t.$$.not_equal(r.allwaysShowDeleteButton,e)&&(r.allwaysShowDeleteButton=e,Hi.set(r))},function(e){t.$$.not_equal(r.showEmptyCategory,e)&&(r.showEmptyCategory=e,Hi.set(r))},function(e){t.$$.not_equal(r.longPressToEdit,e)&&(r.longPressToEdit=e,Hi.set(r))},function(e){t.$$.not_equal(r.language,e)&&(r.language=e,Hi.set(r))},function(e){t.$$.not_equal(r.fontSize,e)&&(r.fontSize=e,Hi.set(r))},function(e){t.$$.not_equal(r.server,e)&&(r.server=e,Hi.set(r))},function(e){t.$$.not_equal(r.port,e)&&(r.port=e,Hi.set(r))},function(e){t.$$.not_equal(r.database,e)&&(r.database=e,Hi.set(r))}]}class Ol extends Tt{constructor(t){super(),Mt(this,t,Cl,kl,s,{})}}function El(t){let e,n;return{c(){e=S("div"),n=R(t[4])},m(t,r){C(t,e,r),k(e,n)},p(t,e){16&e&&I(n,t[4])},d(t){t&&O(e)}}}function Sl(t){let e;return{c(){e=S("hr")},m(t,n){C(t,e,n)},d(t){t&&O(e)}}}function Al(t){let e,n,r,o,i,s,c,u,l=t[17].dividerBefore&&Sl();return o=new vs({props:{icon:t[17].icon,class:"truncate",text:t[17].text,dense:!0,selected:t[6]==t[17].to||"#"+t[6]==t[17].to}}),{c(){e=S("span"),l&&l.c(),n=j(),r=S("a"),jt(o.$$.fragment),M(r,"href",i=t[17].to),M(e,"slot","item"),M(e,"class","cursor-pointer")},m(i,f){C(i,e,f),l&&l.m(e,null),k(e,n),k(e,r),Pt(o,r,null),s=!0,c||(u=D(r,"click",(function(){a(t[8](t[17]))&&t[8](t[17]).apply(this,arguments)})),c=!0)},p(a,c){(t=a)[17].dividerBefore?l||(l=Sl(),l.c(),l.m(e,n)):l&&(l.d(1),l=null);const u={};131072&c&&(u.icon=t[17].icon),131072&c&&(u.text=t[17].text),131136&c&&(u.selected=t[6]==t[17].to||"#"+t[6]==t[17].to),o.$set(u),(!s||131072&c&&i!==(i=t[17].to))&&M(r,"href",i)},i(t){s||(bt(o.$$.fragment,t),s=!0)},o(t){wt(o.$$.fragment,t),s=!1},d(t){t&&O(e),l&&l.d(),Dt(o),c=!1,u()}}}function Rl(t){let e,n;return e=new js({props:{items:t[0],$$slots:{item:[Al,({item:t})=>({17:t}),({item:t})=>t?131072:0]},$$scope:{ctx:t}}}),{c(){jt(e.$$.fragment)},m(t,r){Pt(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.items=t[0]),393280&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(bt(e.$$.fragment,t),n=!0)},o(t){wt(e.$$.fragment,t),n=!1},d(t){Dt(e,t)}}}function jl(t){let e,n,r,o,i,a,s,c,u,l;function f(e){t[12](e)}let d={color:t[5],$$slots:{default:[El]},$$scope:{ctx:t}};function h(e){t[13](e)}void 0!==t[3]&&(d.value=t[3]),e=new Au({props:d}),tt.push((()=>Rt(e,"value",f)));let p={$$slots:{default:[Rl]},$$scope:{ctx:t}};return void 0!==t[2]&&(p.show=t[2]),i=new gc({props:p}),tt.push((()=>Rt(i,"show",h))),c=new zu({props:{routes:t[7]}}),c.$on("routeEvent",t[9]),{c(){jt(e.$$.fragment),r=j(),o=S("main"),jt(i.$$.fragment),s=j(),jt(c.$$.fragment),M(o,"class",u="container relative p-8 lg:max-w-5xl lg:ml-64 mx-auto mb-6 mt-10\n  md:ml-64 md:max-w-md md:px- "+t[1].fontSize)},m(t,n){Pt(e,t,n),C(t,r,n),C(t,o,n),Pt(i,o,null),k(o,s),Pt(c,o,null),l=!0},p(t,[r]){const s={};32&r&&(s.color=t[5]),262160&r&&(s.$$scope={dirty:r,ctx:t}),!n&&8&r&&(n=!0,s.value=t[3],ct((()=>n=!1))),e.$set(s);const c={};262209&r&&(c.$$scope={dirty:r,ctx:t}),!a&&4&r&&(a=!0,c.show=t[2],ct((()=>a=!1))),i.$set(c),(!l||2&r&&u!==(u="container relative p-8 lg:max-w-5xl lg:ml-64 mx-auto mb-6 mt-10\n  md:ml-64 md:max-w-md md:px- "+t[1].fontSize))&&M(o,"class",u)},i(t){l||(bt(e.$$.fragment,t),bt(i.$$.fragment,t),bt(c.$$.fragment,t),l=!0)},o(t){wt(e.$$.fragment,t),wt(i.$$.fragment,t),wt(c.$$.fragment,t),l=!1},d(t){Dt(e,t),t&&O(r),t&&O(o),Dt(i),Dt(c)}}}function Pl(t,e,n){let r,o,i,a;l(t,Hi,(t=>n(1,r=t))),l(t,Ki,(t=>n(10,o=t))),l(t,Xi,(t=>n(11,i=t))),l(t,Tu,(t=>n(6,a=t)));const s={"/":Zu,"/items/:id?":Zu,"/item/:action/:id?":dl,"/categories":yl,"/category/:action/:id?":xl,"/settings":Ol};Hi.readParams(),Ki.setLocal(r.language),Iu(r.startLocation);var c=!1,u=!1,f=[];Zi.openDb();var d=!1,h="",p="";return t.$$.update=()=>{3075&t.$$.dirty&&(n(0,f=[{id:1,icon:"",to:"#/",text:o.all,dividerBefore:!1}]),f.push(...i.map((t=>({to:"#/items/"+t._id,text:t.category})))),r.showEmptyCategory&&f.push({to:"#/items/null",text:o.emtpyCategory}),f.push({id:2,icon:"storage",to:"#/categories",text:o.categories,dividerBefore:!0},{id:3,icon:"settings",to:"#/settings",text:o.parameters,dividerBefore:!1}))},[f,r,c,d,h,p,a,s,function(t){u&&n(2,c=!1),u=!1},function(t){"displaySnackbar"==t.detail.action?(n(4,h=t.detail.message),n(5,p=t.detail.color),n(3,d=!0)):"openDrawer"==t.detail.action&&(n(2,c=!0),u=!0)},o,i,function(t){n(3,d=t)},function(t){n(2,c=t)}]}return new class extends Tt{constructor(t){super(),Mt(this,t,Pl,jl,s,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
